!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=J.type(e);return"function"!==i&&!J.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}function n(e,t,i){if(J.isFunction(t))return J.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return J.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(ae.test(t))return J.filter(t,e,i);t=J.filter(t,e)}return J.grep(e,function(e){return U.call(t,e)>=0!==i})}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=fe[e]={};return J.each(e.match(pe)||[],function(e,i){t[i]=!0}),t}function r(){Q.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1),J.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+Math.random()}function l(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(we,"-$1").toLowerCase(),i=e.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:ye.test(i)?J.parseJSON(i):i)}catch(e){}be.set(e,t,i)}else i=void 0;return i}function c(){return!0}function h(){return!1}function u(){try{return Q.activeElement}catch(e){}}function d(e,t){return J.nodeName(e,"table")&&J.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var i=0,n=e.length;i<n;i++)ve.set(e[i],"globalEval",!t||ve.get(t[i],"globalEval"))}function g(e,t){var i,n,s,o,r,a,l,c;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),r=ve.set(t,o),c=o.events)){delete r.handle,r.events={};for(s in c)for(i=0,n=c[s].length;i<n;i++)J.event.add(t,s,c[s][i])}be.hasData(e)&&(a=be.access(e),l=J.extend({},a),be.set(t,l))}}function v(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&J.nodeName(e,t)?J.merge([e],i):i}function b(e,t){var i=t.nodeName.toLowerCase();"input"===i&&ke.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function y(t,i){var n,s=J(i.createElement(t)).appendTo(i.body),o=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(s[0]))?n.display:J.css(s[0],"display");return s.detach(),o}function w(e){var t=Q,i=je[e];return i||(i=y(e,t),"none"!==i&&i||(Re=(Re||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Re[0].contentDocument,t.write(),t.close(),i=y(e,t),Re.detach()),je[e]=i),i}function _(e,t,i){var n,s,o,r,a=e.style;return i=i||Be(e),i&&(r=i.getPropertyValue(t)||i[t]),i&&(""!==r||J.contains(e.ownerDocument,e)||(r=J.style(e,t)),$e.test(r)&&Fe.test(t)&&(n=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=n,a.minWidth=s,a.maxWidth=o)),void 0!==r?r+"":r}function x(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),n=t,s=Ve.length;s--;)if(t=Ve[s]+i,t in e)return t;return n}function k(e,t,i){var n=Ye.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function T(e,t,i,n,s){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,r=0;o<4;o+=2)"margin"===i&&(r+=J.css(e,i+xe[o],!0,s)),n?("content"===i&&(r-=J.css(e,"padding"+xe[o],!0,s)),"margin"!==i&&(r-=J.css(e,"border"+xe[o]+"Width",!0,s))):(r+=J.css(e,"padding"+xe[o],!0,s),"padding"!==i&&(r+=J.css(e,"border"+xe[o]+"Width",!0,s)));return r}function D(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=Be(e),r="border-box"===J.css(e,"boxSizing",!1,o);if(s<=0||null==s){if(s=_(e,t,o),(s<0||null==s)&&(s=e.style[t]),$e.test(s))return s;n=r&&(K.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+T(e,t,i||(r?"border":"content"),n,o)+"px"}function M(e,t){for(var i,n,s,o=[],r=0,a=e.length;r<a;r++)n=e[r],n.style&&(o[r]=ve.get(n,"olddisplay"),i=n.style.display,t?(o[r]||"none"!==i||(n.style.display=""),""===n.style.display&&Ce(n)&&(o[r]=ve.access(n,"olddisplay",w(n.nodeName)))):(s=Ce(n),"none"===i&&s||ve.set(n,"olddisplay",s?i:J.css(n,"display"))));for(r=0;r<a;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[r]||"":"none"));return e}function S(e,t,i,n,s){return new S.prototype.init(e,t,i,n,s)}function P(){return setTimeout(function(){Ke=void 0}),Ke=J.now()}function E(e,t){var i,n=0,s={height:e};for(t=t?1:0;n<4;n+=2-t)i=xe[n],s["margin"+i]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}function z(e,t,i){for(var n,s=(it[t]||[]).concat(it["*"]),o=0,r=s.length;o<r;o++)if(n=s[o].call(i,t,e))return n}function I(e,t,i){var n,s,o,r,a,l,c,h,u=this,d={},p=e.style,f=e.nodeType&&Ce(e),m=ve.get(e,"fxshow");i.queue||(a=J._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,J.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=J.css(e,"display"),h="none"===c?ve.get(e,"olddisplay")||w(e.nodeName):c,"inline"===h&&"none"===J.css(e,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(s=t[n],Ge.exec(s)){if(delete t[n],o=o||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!m||void 0===m[n])continue;f=!0}d[n]=m&&m[n]||J.style(e,n)}else c=void 0;if(J.isEmptyObject(d))"inline"===("none"===c?w(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=ve.access(e,"fxshow",{}),o&&(m.hidden=!f),f?J(e).show():u.done(function(){J(e).hide()}),u.done(function(){var t;ve.remove(e,"fxshow");for(t in d)J.style(e,t,d[t])});for(n in d)r=z(f?m[n]:0,n,u),n in m||(m[n]=r.start,f&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function A(e,t){var i,n,s,o,r;for(i in e)if(n=J.camelCase(i),s=t[n],o=e[i],J.isArray(o)&&(s=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),r=J.cssHooks[n],r&&"expand"in r){o=r.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=s)}else t[n]=s}function N(e,t,i){var n,s,o=0,r=tt.length,a=J.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Ke||P(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,o=1-n,r=0,l=c.tweens.length;r<l;r++)c.tweens[r].run(o);return a.notifyWith(e,[c,o,i]),o<1&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:J.extend({},t),opts:J.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Ke||P(),duration:i.duration,tweens:[],createTween:function(t,i){var n=J.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)c.tweens[i].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),h=c.props;for(A(h,c.opts.specialEasing);o<r;o++)if(n=tt[o].call(c,e,h,c.opts))return n;return J.map(h,z,c),J.isFunction(c.opts.start)&&c.opts.start.call(e,c),J.fx.timer(J.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,o=t.toLowerCase().match(pe)||[];if(J.isFunction(i))for(;n=o[s++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function O(e,t,i,n){function s(a){var l;return o[a]=!0,J.each(e[a]||[],function(e,a){var c=a(t,i,n);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}var o={},r=e===_t;return s(t.dataTypes[0])||!o["*"]&&s("*")}function L(e,t){var i,n,s=J.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((s[i]?e:n||(n={}))[i]=t[i]);return n&&J.extend(!0,e,n),e}function W(e,t,i){for(var n,s,o,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(s in a)if(a[s]&&a[s].test(n)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}r||(r=s)}o=o||r}if(o)return o!==l[0]&&l.unshift(o),i[o]}function R(e,t,i,n){var s,o,r,a,l,c={},h=e.dataTypes.slice();if(h[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=h.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(r=c[l+" "+o]||c["* "+o],!r)for(s in c)if(a=s.split(" "),a[1]===o&&(r=c[l+" "+a[0]]||c["* "+a[0]])){r===!0?r=c[s]:c[s]!==!0&&(o=a[0],h.unshift(a[1]));break}if(r!==!0)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function j(e,t,i,n){var s;if(J.isArray(t))J.each(t,function(t,s){i||kt.test(e)?n(e,s):j(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==J.type(t))n(e,t);else for(s in t)j(e+"["+s+"]",t[s],i,n)}function F(e){return J.isWindow(e)?e:9===e.nodeType&&e.defaultView}var $=[],B=$.slice,q=$.concat,Y=$.push,U=$.indexOf,Z={},X=Z.toString,V=Z.hasOwnProperty,K={},Q=e.document,G="2.1.1",J=function(e,t){return new J.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ie=/-([\da-z])/gi,ne=function(e,t){return t.toUpperCase()};J.fn=J.prototype={jquery:G,constructor:J,selector:"",length:0,toArray:function(){return B.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:B.call(this)},pushStack:function(e){var t=J.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return J.each(this,e,t)},map:function(e){return this.pushStack(J.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(B.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:$.sort,splice:$.splice},J.extend=J.fn.extend=function(){var e,t,i,n,s,o,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||J.isFunction(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=r[t],n=e[t],r!==n&&(c&&n&&(J.isPlainObject(n)||(s=J.isArray(n)))?(s?(s=!1,o=i&&J.isArray(i)?i:[]):o=i&&J.isPlainObject(i)?i:{},r[t]=J.extend(c,o,n)):void 0!==n&&(r[t]=n));return r},J.extend({expando:"jQuery"+(G+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===J.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!J.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"===J.type(e)&&!e.nodeType&&!J.isWindow(e)&&!(e.constructor&&!V.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[X.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=J.trim(e),e&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ie,ne)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var s,o=0,r=e.length,a=i(e);if(n){if(a)for(;o<r&&(s=t.apply(e[o],n),s!==!1);o++);else for(o in e)if(s=t.apply(e[o],n),s===!1)break}else if(a)for(;o<r&&(s=t.call(e[o],o,e[o]),s!==!1);o++);else for(o in e)if(s=t.call(e[o],o,e[o]),s===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?J.merge(n,"string"==typeof e?[e]:e):Y.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:U.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;n<i;n++)e[s++]=t[n];return e.length=s,e},grep:function(e,t,i){for(var n,s=[],o=0,r=e.length,a=!i;o<r;o++)n=!t(e[o],o),n!==a&&s.push(e[o]);return s},map:function(e,t,n){var s,o=0,r=e.length,a=i(e),l=[];if(a)for(;o<r;o++)s=t(e[o],o,n),null!=s&&l.push(s);else for(o in e)s=t(e[o],o,n),null!=s&&l.push(s);return q.apply([],l)},guid:1,proxy:function(e,t){var i,n,s;if("string"==typeof t&&(i=e[t],t=e,e=i),J.isFunction(e))return n=B.call(arguments,2),s=function(){return e.apply(t||this,n.concat(B.call(arguments)))},s.guid=e.guid=e.guid||J.guid++,s},now:Date.now,support:K}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var se=function(e){function t(e,t,i,n){var s,o,r,a,l,c,u,p,f,m;if((t?t.ownerDocument||t:j)!==I&&z(t),t=t||I,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(N&&!n){if(s=be.exec(e))if(r=s[1]){if(9===a){if(o=t.getElementById(r),!o||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(r))&&W(t,o)&&o.id===r)return i.push(o),i}else{if(s[2])return J.apply(i,t.getElementsByTagName(e)),i;if((r=s[3])&&_.getElementsByClassName&&t.getElementsByClassName)return J.apply(i,t.getElementsByClassName(r)),i}if(_.qsa&&(!H||!H.test(e))){if(p=u=R,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=T(e),(u=t.getAttribute("id"))?p=u.replace(we,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+d(c[l]);f=ye.test(e)&&h(t.parentNode)||t,m=c.join(",")}if(m)try{return J.apply(i,f.querySelectorAll(m)),i}catch(e){}finally{u||t.removeAttribute("id")}}}return M(e.replace(le,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>x.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[R]=!0,e}function s(e){var t=I.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),n=e.length;n--;)x.attrHandle[i[n]]=t}function r(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var s,o=e([],i.length,t),r=o.length;r--;)i[s=o[r]]&&(i[s]=!(n[s]=i[s]))})})}function h(e){return e&&typeof e.getElementsByTagName!==Z&&e}function u(){}function d(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,s=i&&"parentNode"===n,o=$++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,o)}:function(t,i,r){var a,l,c=[F,o];if(r){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,r))return!0}else for(;t=t[n];)if(1===t.nodeType||s){if(l=t[R]||(t[R]={}),(a=l[n])&&a[0]===F&&a[1]===o)return c[2]=a[2];if(l[n]=c,c[2]=e(t,i,r))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var s=0,o=i.length;s<o;s++)t(e,i[s],n);return n}function g(e,t,i,n,s){for(var o,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(i&&!i(o,n,s)||(r.push(o),c&&t.push(a)));return r}function v(e,t,i,s,o,r){return s&&!s[R]&&(s=v(s)),o&&!o[R]&&(o=v(o,r)),n(function(n,r,a,l){var c,h,u,d=[],p=[],f=r.length,v=n||m(t||"*",a.nodeType?[a]:a,[]),b=!e||!n&&t?v:g(v,d,e,a,l),y=i?o||(n?e:f||s)?[]:r:b;if(i&&i(b,y,a,l),s)for(c=g(y,p),s(c,[],a,l),h=c.length;h--;)(u=c[h])&&(y[p[h]]=!(b[p[h]]=u));if(n){if(o||e){if(o){for(c=[],h=y.length;h--;)(u=y[h])&&c.push(b[h]=u);o(null,y=[],c,l)}for(h=y.length;h--;)(u=y[h])&&(c=o?te.call(n,u):d[h])>-1&&(n[c]=!(r[c]=u))}}else y=g(y===r?y.splice(f,y.length):y),o?o(null,r,y,l):J.apply(r,y)})}function b(e){for(var t,i,n,s=e.length,o=x.relative[e[0].type],r=o||x.relative[" "],a=o?1:0,l=p(function(e){return e===t},r,!0),c=p(function(e){return te.call(t,e)>-1},r,!0),h=[function(e,i,n){return!o&&(n||i!==S)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];a<s;a++)if(i=x.relative[e[a].type])h=[p(f(h),i)];else{if(i=x.filter[e[a].type].apply(null,e[a].matches),i[R]){for(n=++a;n<s&&!x.relative[e[n].type];n++);return v(a>1&&f(h),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),i,a<n&&b(e.slice(a,n)),n<s&&b(e=e.slice(n)),n<s&&d(e))}h.push(i)}return f(h)}function y(e,i){var s=i.length>0,o=e.length>0,r=function(n,r,a,l,c){var h,u,d,p=0,f="0",m=n&&[],v=[],b=S,y=n||o&&x.find.TAG("*",c),w=F+=null==b?1:Math.random()||.1,_=y.length;for(c&&(S=r!==I&&r);f!==_&&null!=(h=y[f]);f++){if(o&&h){for(u=0;d=e[u++];)if(d(h,r,a)){l.push(h);break}c&&(F=w)}s&&((h=!d&&h)&&p--,n&&m.push(h))}if(p+=f,s&&f!==p){for(u=0;d=i[u++];)d(m,v,r,a);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Q.call(l));v=g(v)}J.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&t.uniqueSort(l)}return c&&(F=w,S=b),m};return s?n(r):r}var w,_,x,C,k,T,D,M,S,P,E,z,I,A,N,H,O,L,W,R="sizzle"+-new Date,j=e.document,F=0,$=0,B=i(),q=i(),Y=i(),U=function(e,t){return e===t&&(E=!0),0},Z="undefined",X=1<<31,V={}.hasOwnProperty,K=[],Q=K.pop,G=K.push,J=K.push,ee=K.slice,te=K.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=se.replace("w","w#"),re="\\["+ne+"*("+se+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ne+"*\\]",ae=":("+se+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),he=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ae),pe=new RegExp("^"+oe+"$"),fe={ID:new RegExp("^#("+se+")"),CLASS:new RegExp("^\\.("+se+")"),TAG:new RegExp("^("+se.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,we=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{J.apply(K=ee.call(j.childNodes),j.childNodes),K[j.childNodes.length].nodeType}catch(e){J={apply:K.length?function(e,t){G.apply(e,ee.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}_=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},z=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:j,n=i.defaultView;return i!==I&&9===i.nodeType&&i.documentElement?(I=i,A=i.documentElement,N=!k(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){z()},!1):n.attachEvent&&n.attachEvent("onunload",function(){z()})),_.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=s(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ve.test(i.getElementsByClassName)&&s(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),_.getById=s(function(e){return A.appendChild(e).id=R,!i.getElementsByName||!i.getElementsByName(R).length}),_.getById?(x.find.ID=function(e,t){if(typeof t.getElementById!==Z&&N){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},x.filter.ID=function(e){var t=e.replace(_e,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(_e,xe);return function(e){var i=typeof e.getAttributeNode!==Z&&e.getAttributeNode("id");return i&&i.value===t}}),x.find.TAG=_.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Z)return t.getElementsByTagName(e)}:function(e,t){var i,n=[],s=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[s++];)1===i.nodeType&&n.push(i);return n}return o},x.find.CLASS=_.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==Z&&N)return t.getElementsByClassName(e)},O=[],H=[],(_.qsa=ve.test(i.querySelectorAll))&&(s(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&H.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+ne+"*(?:value|"+ie+")"),e.querySelectorAll(":checked").length||H.push(":checked")}),s(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(_.matchesSelector=ve.test(L=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&s(function(e){_.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),O.push("!=",ae)}),H=H.length&&new RegExp(H.join("|")),O=O.length&&new RegExp(O.join("|")),t=ve.test(A.compareDocumentPosition),W=t||ve.test(A.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return E=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===j&&W(j,e)?-1:t===i||t.ownerDocument===j&&W(j,t)?1:P?te.call(P,e)-te.call(P,t):0:4&n?-1:1)}:function(e,t){if(e===t)return E=!0,0;var n,s=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:P?te.call(P,e)-te.call(P,t):0;if(o===a)return r(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[s]===c[s];)s++;return s?r(l[s],c[s]):l[s]===j?-1:c[s]===j?1:0},i):I},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==I&&z(e),i=i.replace(ue,"='$1']"),_.matchesSelector&&N&&(!O||!O.test(i))&&(!H||!H.test(i)))try{var n=L.call(e,i);if(n||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&z(e),W(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&z(e);var i=x.attrHandle[t.toLowerCase()],n=i&&V.call(x.attrHandle,t.toLowerCase())?i(e,t,!N):void 0;return void 0!==n?n:_.attributes||!N?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,s=0;if(E=!_.detectDuplicates,P=!_.sortStable&&e.slice(0),e.sort(U),E){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return P=null,e},C=t.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=C(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=C(t);return i},x=t.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&de.test(i)&&(t=T(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Z&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(s){var o=t.attr(s,e);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,s){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var c,h,u,d,p,f,m=o!==r?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(g){if(o){for(;m;){for(u=t;u=u[m];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(h=g[R]||(g[R]={}),c=h[e]||[],p=c[0]===F&&c[1],d=c[0]===F&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(d=p=0)||f.pop();)if(1===u.nodeType&&++d&&u===t){h[e]=[F,p,d];break}}else if(b&&(c=(t[R]||(t[R]={}))[e])&&c[0]===F)d=c[1];else for(;(u=++p&&u&&u[m]||(d=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++d||(b&&((u[R]||(u[R]={}))[e]=[F,d]),u!==t)););return d-=s,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(e,i){var s,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[R]?o(i):o.length>1?(s=[e,e,"",i],x.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,s=o(e,i),r=s.length;r--;)n=te.call(e,s[r]),e[n]=!(t[n]=s[r])}):function(e){return o(e,0,s)}):o}},pseudos:{not:n(function(e){var t=[],i=[],s=D(e.replace(le,"$1"));return s[R]?n(function(e,t,i,n){for(var o,r=s(e,null,n,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,n,o){return t[0]=e,s(t,null,o,i),!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,xe).toLowerCase(),function(t){var i;do if(i=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[i<0?i+t:i]}),even:c(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,T=t.tokenize=function(e,i){var n,s,o,r,a,l,c,h=q[e+" "];if(h)return i?0:h.slice(0);for(a=e,l=[],c=x.preFilter;a;){n&&!(s=ce.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(o=[])),n=!1,(s=he.exec(a))&&(n=s.shift(),o.push({value:n,type:s[0].replace(le," ")}),a=a.slice(n.length));for(r in x.filter)!(s=fe[r].exec(a))||c[r]&&!(s=c[r](s))||(n=s.shift(),o.push({value:n,type:r,matches:s}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):q(e,l).slice(0)},D=t.compile=function(e,t){var i,n=[],s=[],o=Y[e+" "];if(!o){for(t||(t=T(e)),i=t.length;i--;)o=b(t[i]),o[R]?n.push(o):s.push(o);o=Y(e,y(s,n)),o.selector=e}return o},M=t.select=function(e,t,i,n){var s,o,r,a,l,c="function"==typeof e&&e,u=!n&&T(e=c.selector||e);if(i=i||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&_.getById&&9===t.nodeType&&N&&x.relative[o[1].type]){if(t=(x.find.ID(r.matches[0].replace(_e,xe),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(s=fe.needsContext.test(e)?0:o.length;s--&&(r=o[s],!x.relative[a=r.type]);)if((l=x.find[a])&&(n=l(r.matches[0].replace(_e,xe),ye.test(o[0].type)&&h(t.parentNode)||t))){if(o.splice(s,1),e=n.length&&d(o),!e)return J.apply(i,n),i;break}}return(c||D(e,u))(n,t,!N,i,ye.test(e)&&h(t.parentNode)||t),i},_.sortStable=R.split("").sort(U).join("")===R,_.detectDuplicates=!!E,z(),_.sortDetached=s(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||o(ie,function(e,t,i){var n;if(!i)return e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);J.find=se,J.expr=se.selectors,J.expr[":"]=J.expr.pseudos,J.unique=se.uniqueSort,J.text=se.getText,J.isXMLDoc=se.isXML,J.contains=se.contains;var oe=J.expr.match.needsContext,re=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;J.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?J.find.matchesSelector(n,e)?[n]:[]:J.find.matches(e,J.grep(t,function(e){return 1===e.nodeType}))},J.fn.extend({find:function(e){var t,i=this.length,n=[],s=this;if("string"!=typeof e)return this.pushStack(J(e).filter(function(){for(t=0;t<i;t++)if(J.contains(s[t],this))return!0;}));for(t=0;t<i;t++)J.find(e,s[t],n);return n=this.pushStack(i>1?J.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&oe.test(e)?J(e):e||[],!1).length}});var le,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,he=J.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ce.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof J?t[0]:t,J.merge(this,J.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),re.test(i[1])&&J.isPlainObject(t))for(i in t)J.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return n=Q.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):J.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(J):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),J.makeArray(e,this))};he.prototype=J.fn,le=J(Q);var ue=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(e,t,i){for(var n=[],s=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&J(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),J.fn.extend({has:function(e){var t=J(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(J.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,s=this.length,o=[],r=oe.test(e)||"string"!=typeof e?J(e,t||this.context):0;n<s;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&J.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?J.unique(o):o)},index:function(e){return e?"string"==typeof e?U.call(J(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(J.unique(J.merge(this.get(),J(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),J.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return J.dir(e,"parentNode")},parentsUntil:function(e,t,i){return J.dir(e,"parentNode",i)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return J.dir(e,"nextSibling")},prevAll:function(e){return J.dir(e,"previousSibling")},nextUntil:function(e,t,i){return J.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return J.dir(e,"previousSibling",i)},siblings:function(e){return J.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return J.sibling(e.firstChild)},contents:function(e){return e.contentDocument||J.merge([],e.childNodes)}},function(e,t){J.fn[e]=function(i,n){var s=J.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=J.filter(n,s)),this.length>1&&(de[e]||J.unique(s),ue.test(e)&&s.reverse()),this.pushStack(s)}});var pe=/\S+/g,fe={};J.Callbacks=function(e){e="string"==typeof e?fe[e]||o(e):J.extend({},e);var t,i,n,s,r,a,l=[],c=!e.once&&[],h=function(o){for(t=e.memory&&o,i=!0,a=s||0,s=0,r=l.length,n=!0;l&&a<r;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}n=!1,l&&(c?c.length&&h(c.shift()):t?l=[]:u.disable())},u={add:function(){if(l){var i=l.length;!function t(i){J.each(i,function(i,n){var s=J.type(n);"function"===s?e.unique&&u.has(n)||l.push(n):n&&n.length&&"string"!==s&&t(n)})}(arguments),n?r=l.length:t&&(s=i,h(t))}return this},remove:function(){return l&&J.each(arguments,function(e,t){for(var i;(i=J.inArray(t,l,i))>-1;)l.splice(i,1),n&&(i<=r&&r--,i<=a&&a--)}),this},has:function(e){return e?J.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||u.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||i&&!c||(t=t||[],t=[e,t.slice?t.slice():t],n?c.push(t):h(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},J.extend({Deferred:function(e){var t=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return J.Deferred(function(i){J.each(t,function(t,o){var r=J.isFunction(e[t])&&e[t];s[o[1]](function(){var e=r&&r.apply(this,arguments);e&&J.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?J.extend(e,n):n}},s={};return n.pipe=n.then,J.each(t,function(e,o){var r=o[2],a=o[3];n[o[1]]=r.add,a&&r.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?n:this,arguments),this},s[o[0]+"With"]=r.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,o=B.call(arguments),r=o.length,a=1!==r||e&&J.isFunction(e.promise)?r:0,l=1===a?e:J.Deferred(),c=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?B.call(arguments):s,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(t=new Array(r),i=new Array(r),n=new Array(r);s<r;s++)o[s]&&J.isFunction(o[s].promise)?o[s].promise().done(c(s,n,o)).fail(l.reject).progress(c(s,i,t)):--a;return a||l.resolveWith(n,o),l.promise()}});var me;J.fn.ready=function(e){return J.ready.promise().done(e),this},J.extend({isReady:!1,readyWait:1,holdReady:function(e){e?J.readyWait++:J.ready(!0)},ready:function(e){(e===!0?--J.readyWait:J.isReady)||(J.isReady=!0,e!==!0&&--J.readyWait>0||(me.resolveWith(Q,[J]),J.fn.triggerHandler&&(J(Q).triggerHandler("ready"),J(Q).off("ready"))))}}),J.ready.promise=function(t){return me||(me=J.Deferred(),"complete"===Q.readyState?setTimeout(J.ready):(Q.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1))),me.promise(t)},J.ready.promise();var ge=J.access=function(e,t,i,n,s,o,r){var a=0,l=e.length,c=null==i;if("object"===J.type(i)){s=!0;for(a in i)J.access(e,t,a,i[a],!0,o,r)}else if(void 0!==n&&(s=!0,J.isFunction(n)||(r=!0),c&&(r?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(J(e),i)})),t))for(;a<l;a++)t(e[a],i,r?n:n.call(e[a],a,t(e[a],i)));return s?e:c?t.call(e):l?t(e[0],i):o};J.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=J.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=a.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,J.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,s=this.key(e),o=this.cache[s];if("string"==typeof t)o[t]=i;else if(J.isEmptyObject(o))J.extend(this.cache[s],t);else for(n in t)o[n]=t[n];return o},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?(n=this.get(e,t),void 0!==n?n:this.get(e,J.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,s,o=this.key(e),r=this.cache[o];if(void 0===t)this.cache[o]={};else{J.isArray(t)?n=t.concat(t.map(J.camelCase)):(s=J.camelCase(t),t in r?n=[t,s]:(n=s,n=n in r?[n]:n.match(pe)||[])),i=n.length;for(;i--;)delete r[n[i]]}},hasData:function(e){return!J.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new a,be=new a,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;J.extend({hasData:function(e){return be.hasData(e)||ve.hasData(e)},data:function(e,t,i){return be.access(e,t,i)},removeData:function(e,t){be.remove(e,t)},_data:function(e,t,i){return ve.access(e,t,i)},_removeData:function(e,t){ve.remove(e,t)}}),J.fn.extend({data:function(e,t){var i,n,s,o=this[0],r=o&&o.attributes;if(void 0===e){if(this.length&&(s=be.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(i=r.length;i--;)r[i]&&(n=r[i].name,0===n.indexOf("data-")&&(n=J.camelCase(n.slice(5)),l(o,n,s[n])));ve.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){be.set(this,e)}):ge(this,function(t){var i,n=J.camelCase(e);if(o&&void 0===t){if(i=be.get(o,e),void 0!==i)return i;if(i=be.get(o,n),void 0!==i)return i;if(i=l(o,n,void 0),void 0!==i)return i}else this.each(function(){var i=be.get(this,n);be.set(this,n,t),e.indexOf("-")!==-1&&void 0!==i&&be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){be.remove(this,e)})}}),J.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=ve.get(e,t),i&&(!n||J.isArray(i)?n=ve.access(e,t,J.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=J.queue(e,t),n=i.length,s=i.shift(),o=J._queueHooks(e,t),r=function(){J.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete o.stop,s.call(e,r,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ve.get(e,i)||ve.access(e,i,{empty:J.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",i])})})}}),J.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?J.queue(this[0],e):void 0===t?this:this.each(function(){var i=J.queue(this,e,t);J._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&J.dequeue(this,e)})},dequeue:function(e){return this.each(function(){J.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=J.Deferred(),o=this,r=this.length,a=function(){--n||s.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)i=ve.get(o[r],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(t)}});var _e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===J.css(e,"display")||!J.contains(e.ownerDocument,e)},ke=/^(?:checkbox|radio)$/i;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),i=Q.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),K.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Te="undefined";K.focusinBubbles="onfocusin"in e;var De=/^key/,Me=/^(?:mouse|pointer|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,Pe=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(e,t,i,n,s){var o,r,a,l,c,h,u,d,p,f,m,g=ve.get(e);if(g)for(i.handler&&(o=i,i=o.handler,s=o.selector),i.guid||(i.guid=J.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(t){return typeof J!==Te&&J.event.triggered!==t.type?J.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(pe)||[""],c=t.length;c--;)a=Pe.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(u=J.event.special[p]||{},p=(s?u.delegateType:u.bindType)||p,u=J.event.special[p]||{},h=J.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&J.expr.match.needsContext.test(s),namespace:f.join(".")},o),(d=l[p])||(d=l[p]=[],d.delegateCount=0,u.setup&&u.setup.call(e,n,f,r)!==!1||e.addEventListener&&e.addEventListener(p,r,!1)),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),s?d.splice(d.delegateCount++,0,h):d.push(h),J.event.global[p]=!0)},remove:function(e,t,i,n,s){var o,r,a,l,c,h,u,d,p,f,m,g=ve.hasData(e)&&ve.get(e);if(g&&(l=g.events)){for(t=(t||"").match(pe)||[""],c=t.length;c--;)if(a=Pe.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(u=J.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=d.length;o--;)h=d[o],!s&&m!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(o,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(e,h));r&&!d.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||J.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)J.event.remove(e,p+t[c],i,n,!0);J.isEmptyObject(l)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,i,n,s){var o,r,a,l,c,h,u,d=[n||Q],p=V.call(t,"type")?t.type:t,f=V.call(t,"namespace")?t.namespace.split("."):[];if(r=a=n=n||Q,3!==n.nodeType&&8!==n.nodeType&&!Se.test(p+J.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[J.expando]?t:new J.Event(p,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:J.makeArray(i,[t]),u=J.event.special[p]||{},s||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!s&&!u.noBubble&&!J.isWindow(n)){for(l=u.delegateType||p,Se.test(l+p)||(r=r.parentNode);r;r=r.parentNode)d.push(r),a=r;a===(n.ownerDocument||Q)&&d.push(a.defaultView||a.parentWindow||e)}for(o=0;(r=d[o++])&&!t.isPropagationStopped();)t.type=o>1?l:u.bindType||p,h=(ve.get(r,"events")||{})[t.type]&&ve.get(r,"handle"),h&&h.apply(r,i),h=c&&r[c],h&&h.apply&&J.acceptData(r)&&(t.result=h.apply(r,i),t.result===!1&&t.preventDefault());return t.type=p,s||t.isDefaultPrevented()||u._default&&u._default.apply(d.pop(),i)!==!1||!J.acceptData(n)||c&&J.isFunction(n[p])&&!J.isWindow(n)&&(a=n[c],a&&(n[c]=null),J.event.triggered=p,n[p](),J.event.triggered=void 0,a&&(n[c]=a)),t.result}},dispatch:function(e){e=J.event.fix(e);var t,i,n,s,o,r=[],a=B.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],c=J.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(r=J.event.handlers.call(this,e,l),t=0;(s=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,i=0;(o=s.handlers[i++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,n=((J.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,s,o,r=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(n=[],i=0;i<a;i++)o=t[i],s=o.selector+" ",void 0===n[s]&&(n[s]=o.needsContext?J(s,this).index(l)>=0:J.find(s,this,null,[l]).length),n[s]&&n.push(o);n.length&&r.push({elem:l,handlers:n})}return a<t.length&&r.push({elem:this,handlers:t.slice(a)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,s,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||Q,n=i.documentElement,s=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[J.expando])return e;var t,i,n,s=e.type,o=e,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=Me.test(s)?this.mouseHooks:De.test(s)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new J.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),r.filter?r.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===u()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&J.nodeName(this,"input"))return this.click(),!1},_default:function(e){return J.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=J.extend(new J.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?J.event.trigger(s,null,t):J.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},J.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},J.Event=function(e,t){return this instanceof J.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:h):this.type=e,t&&J.extend(this,t),this.timeStamp=e&&e.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(e,t)},J.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){J.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,o=e.handleObj;return s&&(s===n||J.contains(n,s))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),K.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){J.event.simulate(t,e.target,J.event.fix(e),!0)};J.event.special[t]={setup:function(){var n=this.ownerDocument||this,s=ve.access(n,t);s||n.addEventListener(e,i,!0),ve.access(n,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=ve.access(n,t)-1;s?ve.access(n,t,s):(n.removeEventListener(e,i,!0),ve.remove(n,t))}}}),J.fn.extend({on:function(e,t,i,n,s){var o,r;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(r in e)this.on(r,t,i,e[r],s);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=h;else if(!n)return this;return 1===s&&(o=n,n=function(e){return J().off(e),o.apply(this,arguments)},n.guid=o.guid||(o.guid=J.guid++)),this.each(function(){J.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,J(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=h),this.each(function(){J.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){J.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return J.event.trigger(e,t,i,!0)}});var Ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ze=/<([\w:]+)/,Ie=/<|&#?\w+;/,Ae=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^$|\/(?:java|ecma)script/i,Oe=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,We={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td,J.extend({clone:function(e,t,i){var n,s,o,r,a=e.cloneNode(!0),l=J.contains(e.ownerDocument,e);if(!(K.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||J.isXMLDoc(e)))for(r=v(a),o=v(e),n=0,s=o.length;n<s;n++)b(o[n],r[n]);if(t)if(i)for(o=o||v(e),r=r||v(a),n=0,s=o.length;n<s;n++)g(o[n],r[n]);else g(e,a);return r=v(a,"script"),r.length>0&&m(r,!l&&v(e,"script")),a},buildFragment:function(e,t,i,n){for(var s,o,r,a,l,c,h=t.createDocumentFragment(),u=[],d=0,p=e.length;d<p;d++)if(s=e[d],s||0===s)if("object"===J.type(s))J.merge(u,s.nodeType?[s]:s);else if(Ie.test(s)){for(o=o||h.appendChild(t.createElement("div")),r=(ze.exec(s)||["",""])[1].toLowerCase(),a=We[r]||We._default,o.innerHTML=a[1]+s.replace(Ee,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;J.merge(u,o.childNodes),o=h.firstChild,o.textContent=""}else u.push(t.createTextNode(s));for(h.textContent="",d=0;s=u[d++];)if((!n||J.inArray(s,n)===-1)&&(l=J.contains(s.ownerDocument,s),o=v(h.appendChild(s),"script"),l&&m(o),i))for(c=0;s=o[c++];)He.test(s.type||"")&&i.push(s);return h},cleanData:function(e){for(var t,i,n,s,o=J.event.special,r=0;void 0!==(i=e[r]);r++){if(J.acceptData(i)&&(s=i[ve.expando],s&&(t=ve.cache[s]))){if(t.events)for(n in t.events)o[n]?J.event.remove(i,n):J.removeEvent(i,n,t.handle);ve.cache[s]&&delete ve.cache[s]}delete be.cache[i[be.expando]]}}}),J.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?J.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?J.filter(e,this):this,s=0;null!=(i=n[s]);s++)t||1!==i.nodeType||J.cleanData(v(i)),i.parentNode&&(t&&J.contains(i.ownerDocument,i)&&m(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(J.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return J.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!We[(ze.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ee,"<$1></$2>");try{for(;i<n;i++)t=this[i]||{},1===t.nodeType&&(J.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,J.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=q.apply([],e);var i,n,s,o,r,a,l=0,c=this.length,h=this,u=c-1,d=e[0],m=J.isFunction(d);if(m||c>1&&"string"==typeof d&&!K.checkClone&&Ne.test(d))return this.each(function(i){var n=h.eq(i);m&&(e[0]=d.call(this,i,n.html())),n.domManip(e,t)});if(c&&(i=J.buildFragment(e,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(s=J.map(v(i,"script"),p),o=s.length;l<c;l++)r=i,l!==u&&(r=J.clone(r,!0,!0),o&&J.merge(s,v(r,"script"))),t.call(this[l],r,l);if(o)for(a=s[s.length-1].ownerDocument,J.map(s,f),l=0;l<o;l++)r=s[l],He.test(r.type||"")&&!ve.access(r,"globalEval")&&J.contains(a,r)&&(r.src?J._evalUrl&&J._evalUrl(r.src):J.globalEval(r.textContent.replace(Le,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){J.fn[e]=function(e){for(var i,n=[],s=J(e),o=s.length-1,r=0;r<=o;r++)i=r===o?this:this.clone(!0),J(s[r])[t](i),Y.apply(n,i.get());return this.pushStack(n)}});var Re,je={},Fe=/^margin/,$e=new RegExp("^("+_e+")(?!px)[a-z%]+$","i"),Be=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r.innerHTML="",s.appendChild(o);var t=e.getComputedStyle(r,null);i="1%"!==t.top,n="4px"===t.width,s.removeChild(o)}var i,n,s=Q.documentElement,o=Q.createElement("div"),r=Q.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===r.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(r),e.getComputedStyle&&J.extend(K,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,i=r.appendChild(Q.createElement("div"));return i.style.cssText=r.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",r.style.width="1px",s.appendChild(o),t=!parseFloat(e.getComputedStyle(i,null).marginRight),s.removeChild(o),t}}))}(),J.swap=function(e,t,i,n){var s,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];s=i.apply(e,n||[]);for(o in t)e.style[o]=r[o];return s};var qe=/^(none|table(?!-c[ea]).+)/,Ye=new RegExp("^("+_e+")(.*)$","i"),Ue=new RegExp("^([+-])=("+_e+")","i"),Ze={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Ve=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=_(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,r,a=J.camelCase(t),l=e.style;return t=J.cssProps[a]||(J.cssProps[a]=C(l,a)),r=J.cssHooks[t]||J.cssHooks[a],void 0===i?r&&"get"in r&&void 0!==(s=r.get(e,!1,n))?s:l[t]:(o=typeof i,"string"===o&&(s=Ue.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(J.css(e,t)),o="number"),null!=i&&i===i&&("number"!==o||J.cssNumber[a]||(i+="px"),K.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),r&&"set"in r&&void 0===(i=r.set(e,i,n))||(l[t]=i)),void 0)}},css:function(e,t,i,n){var s,o,r,a=J.camelCase(t);return t=J.cssProps[a]||(J.cssProps[a]=C(e.style,a)),r=J.cssHooks[t]||J.cssHooks[a],r&&"get"in r&&(s=r.get(e,!0,i)),void 0===s&&(s=_(e,t,n)),"normal"===s&&t in Xe&&(s=Xe[t]),""===i||i?(o=parseFloat(s),i===!0||J.isNumeric(o)?o||0:s):s}}),J.each(["height","width"],function(e,t){J.cssHooks[t]={get:function(e,i,n){if(i)return qe.test(J.css(e,"display"))&&0===e.offsetWidth?J.swap(e,Ze,function(){return D(e,t,n)}):D(e,t,n)},set:function(e,i,n){var s=n&&Be(e);return k(e,i,n?T(e,t,n,"border-box"===J.css(e,"boxSizing",!1,s),s):0)}}}),J.cssHooks.marginRight=x(K.reliableMarginRight,function(e,t){if(t)return J.swap(e,{display:"inline-block"},_,[e,"marginRight"])}),J.each({margin:"",padding:"",border:"Width"},function(e,t){J.cssHooks[e+t]={expand:function(i){for(var n=0,s={},o="string"==typeof i?i.split(" "):[i];n<4;n++)s[e+xe[n]+t]=o[n]||o[n-2]||o[0];return s}},Fe.test(e)||(J.cssHooks[e+t].set=k)}),J.fn.extend({css:function(e,t){return ge(this,function(e,t,i){var n,s,o={},r=0;if(J.isArray(t)){for(n=Be(e),s=t.length;r<s;r++)o[t[r]]=J.css(e,t[r],!1,n);return o}return void 0!==i?J.style(e,t,i):J.css(e,t)},e,t,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?J(this).show():J(this).hide()})}}),J.Tween=S,S.prototype={constructor:S,init:function(e,t,i,n,s,o){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(J.cssNumber[i]?"":"px")},cur:function(){var e=S.propHooks[this.prop];return e&&e.get?e.get(this):S.propHooks._default.get(this)},run:function(e){var t,i=S.propHooks[this.prop];return this.options.duration?this.pos=t=J.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=J.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){J.fx.step[e.prop]?J.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[J.cssProps[e.prop]]||J.cssHooks[e.prop])?J.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},J.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},J.fx=S.prototype.init,J.fx.step={};var Ke,Qe,Ge=/^(?:toggle|show|hide)$/,Je=new RegExp("^(?:([+-])=|)("+_e+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[I],it={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),s=Je.exec(t),o=s&&s[3]||(J.cssNumber[e]?"":"px"),r=(J.cssNumber[e]||"px"!==o&&+n)&&Je.exec(J.css(i.elem,e)),a=1,l=20;if(r&&r[3]!==o){o=o||r[3],s=s||[],r=+n||1;do a=a||".5",r/=a,J.style(i.elem,e,r+o);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return s&&(r=i.start=+r||+n||0,i.unit=o,i.end=s[1]?r+(s[1]+1)*s[2]:+s[2]),i}]};J.Animation=J.extend(N,{tweener:function(e,t){J.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;n<s;n++)i=e[n],it[i]=it[i]||[],it[i].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),J.speed=function(e,t,i){var n=e&&"object"==typeof e?J.extend({},e):{complete:i||!i&&t||J.isFunction(e)&&e,duration:e,easing:i&&t||t&&!J.isFunction(t)&&t};return n.duration=J.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in J.fx.speeds?J.fx.speeds[n.duration]:J.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){J.isFunction(n.old)&&n.old.call(this),n.queue&&J.dequeue(this,n.queue)},n},J.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=J.isEmptyObject(e),o=J.speed(t,i,n),r=function(){var t=N(this,J.extend({},e),o);(s||ve.get(this,"finish"))&&t.stop(!0)};return r.finish=r,s||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",o=J.timers,r=ve.get(this);if(s)r[s]&&r[s].stop&&n(r[s]);else for(s in r)r[s]&&r[s].stop&&et.test(s)&&n(r[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(i),t=!1,o.splice(s,1));!t&&i||J.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ve.get(this),n=i[e+"queue"],s=i[e+"queueHooks"],o=J.timers,r=n?n.length:0;for(i.finish=!0,J.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),J.each(["toggle","show","hide"],function(e,t){var i=J.fn[t];J.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(E(t,!0),e,n,s)}}),J.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){J.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),J.timers=[],J.fx.tick=function(){var e,t=0,i=J.timers;for(Ke=J.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);i.length||J.fx.stop(),Ke=void 0},J.fx.timer=function(e){J.timers.push(e),e()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Qe||(Qe=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Qe),Qe=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(e,t){return e=J.fx?J.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),i=t.appendChild(Q.createElement("option"));e.type="checkbox",K.checkOn=""!==e.value,K.optSelected=i.selected,t.disabled=!0,K.optDisabled=!i.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",K.radioValue="t"===e.value}();var nt,st,ot=J.expr.attrHandle;J.fn.extend({attr:function(e,t){return ge(this,J.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){J.removeAttr(this,e)})}}),J.extend({attr:function(e,t,i){var n,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Te?J.prop(e,t,i):(1===o&&J.isXMLDoc(e)||(t=t.toLowerCase(),n=J.attrHooks[t]||(J.expr.match.bool.test(t)?st:nt)),void 0===i?n&&"get"in n&&null!==(s=n.get(e,t))?s:(s=J.find.attr(e,t),null==s?void 0:s):null!==i?n&&"set"in n&&void 0!==(s=n.set(e,i,t))?s:(e.setAttribute(t,i+""),i):void J.removeAttr(e,t))},removeAttr:function(e,t){var i,n,s=0,o=t&&t.match(pe);if(o&&1===e.nodeType)for(;i=o[s++];)n=J.propFix[i]||i,J.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!K.radioValue&&"radio"===t&&J.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),st={set:function(e,t,i){return t===!1?J.removeAttr(e,i):e.setAttribute(i,i),i}},J.each(J.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ot[t]||J.find.attr;ot[t]=function(e,t,n){var s,o;return n||(o=ot[t],ot[t]=s,s=null!=i(e,t,n)?t.toLowerCase():null,ot[t]=o),s}});var rt=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(e,t){return ge(this,J.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[J.propFix[e]||e]})}}),J.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,i){var n,s,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return o=1!==r||!J.isXMLDoc(e),o&&(t=J.propFix[t]||t,s=J.propHooks[t]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rt.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),K.optSelected||(J.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;J.fn.extend({addClass:function(e){var t,i,n,s,o,r,a="string"==typeof e&&e,l=0,c=this.length;if(J.isFunction(e))return this.each(function(t){J(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pe)||[];l<c;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(at," "):" ")){for(o=0;s=t[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r=J.trim(n),i.className!==r&&(i.className=r)}return this},removeClass:function(e){var t,i,n,s,o,r,a=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(J.isFunction(e))return this.each(function(t){J(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(pe)||[];l<c;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(at," "):"")){for(o=0;s=t[o++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");r=e?J.trim(n):"",i.className!==r&&(i.className=r)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):J.isFunction(e)?this.each(function(i){J(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,s=J(this),o=e.match(pe)||[];t=o[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else i!==Te&&"boolean"!==i||(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;J.fn.extend({val:function(e){var t,i,n,s=this[0];{if(arguments.length)return n=J.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(s=n?e.call(this,i,J(this).val()):e,null==s?s="":"number"==typeof s?s+="":J.isArray(s)&&(s=J.map(s,function(e){return null==e?"":e+""})),t=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return t=J.valHooks[s.type]||J.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(lt,""):null==i?"":i)}}}),J.extend({valHooks:{option:{get:function(e){var t=J.find.attr(e,"value");return null!=t?t:J.trim(J.text(e))}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,o="select-one"===e.type||s<0,r=o?null:[],a=o?s+1:n.length,l=s<0?a:o?s:0;l<a;l++)if(i=n[l],(i.selected||l===s)&&(K.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!J.nodeName(i.parentNode,"optgroup"))){if(t=J(i).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var i,n,s=e.options,o=J.makeArray(t),r=s.length;r--;)n=s[r],(n.selected=J.inArray(n.value,o)>=0)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(e,t){if(J.isArray(t))return e.checked=J.inArray(J(e).val(),t)>=0}},K.checkOn||(J.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){J.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),J.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var ct=J.now(),ht=/\?/;J.parseJSON=function(e){return JSON.parse(e+"")},J.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,t=i.parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||J.error("Invalid XML: "+e),t};var ut,dt,pt=/#.*$/,ft=/([?&])_=[^&]*/,mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,gt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vt=/^(?:GET|HEAD)$/,bt=/^\/\//,yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,wt={},_t={},xt="*/".concat("*");try{dt=location.href}catch(e){dt=Q.createElement("a"),dt.href="",dt=dt.href}ut=yt.exec(dt.toLowerCase())||[],J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dt,type:"GET",isLocal:gt.test(ut[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?L(L(e,J.ajaxSettings),t):L(J.ajaxSettings,e)},ajaxPrefilter:H(wt),ajaxTransport:H(_t),ajax:function(e,t){function i(e,t,i,r){var l,h,v,b,w,x=t;2!==y&&(y=2,a&&clearTimeout(a),n=void 0,o=r||"",_.readyState=e>0?4:0,l=e>=200&&e<300||304===e,i&&(b=W(u,_,i)),b=R(u,b,_,l),l?(u.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(J.lastModified[s]=w),w=_.getResponseHeader("etag"),w&&(J.etag[s]=w)),204===e||"HEAD"===u.type?x="nocontent":304===e?x="notmodified":(x=b.state,h=b.data,v=b.error,l=!v)):(v=x,!e&&x||(x="error",e<0&&(e=0))),_.status=e,_.statusText=(t||x)+"",l?f.resolveWith(d,[h,x,_]):f.rejectWith(d,[_,x,v]),_.statusCode(g),g=void 0,c&&p.trigger(l?"ajaxSuccess":"ajaxError",[_,u,l?h:v]),m.fireWith(d,[_,x]),c&&(p.trigger("ajaxComplete",[_,u]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,s,o,r,a,l,c,h,u=J.ajaxSetup({},t),d=u.context||u,p=u.context&&(d.nodeType||d.jquery)?J(d):J.event,f=J.Deferred(),m=J.Callbacks("once memory"),g=u.statusCode||{},v={},b={},y=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!r)for(r={};t=mt.exec(o);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=b[i]=b[i]||e,v[e]=t),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return n&&n.abort(t),i(0,t),this}};if(f.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,u.url=((e||u.url||dt)+"").replace(pt,"").replace(bt,ut[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=J.trim(u.dataType||"*").toLowerCase().match(pe)||[""],null==u.crossDomain&&(l=yt.exec(u.url.toLowerCase()),u.crossDomain=!(!l||l[1]===ut[1]&&l[2]===ut[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ut[3]||("http:"===ut[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=J.param(u.data,u.traditional)),O(wt,u,t,_),2===y)return _;c=u.global,c&&0===J.active++&&J.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!vt.test(u.type),s=u.url,u.hasContent||(u.data&&(s=u.url+=(ht.test(s)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=ft.test(s)?s.replace(ft,"$1_="+ct++):s+(ht.test(s)?"&":"?")+"_="+ct++)),u.ifModified&&(J.lastModified[s]&&_.setRequestHeader("If-Modified-Since",J.lastModified[s]),J.etag[s]&&_.setRequestHeader("If-None-Match",J.etag[s])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",u.contentType),_.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+xt+"; q=0.01":""):u.accepts["*"]);for(h in u.headers)_.setRequestHeader(h,u.headers[h]);if(u.beforeSend&&(u.beforeSend.call(d,_,u)===!1||2===y))return _.abort();w="abort";for(h in{success:1,error:1,complete:1})_[h](u[h]);if(n=O(_t,u,t,_)){_.readyState=1,c&&p.trigger("ajaxSend",[_,u]),u.async&&u.timeout>0&&(a=setTimeout(function(){_.abort("timeout")},u.timeout));try{y=1,n.send(v,i)}catch(e){if(!(y<2))throw e;i(-1,e)}}else i(-1,"No Transport");return _},getJSON:function(e,t,i){return J.get(e,t,i,"json")},getScript:function(e,t){return J.get(e,void 0,t,"script")}}),J.each(["get","post"],function(e,t){J[t]=function(e,i,n,s){return J.isFunction(i)&&(s=s||n,n=i,i=void 0),J.ajax({url:e,type:t,dataType:s,data:i,success:n})}}),J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){J.fn[t]=function(e){return this.on(t,e)}}),J._evalUrl=function(e){return J.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},J.fn.extend({wrapAll:function(e){var t;return J.isFunction(e)?this.each(function(t){J(this).wrapAll(e.call(this,t))}):(this[0]&&(t=J(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return J.isFunction(e)?this.each(function(t){J(this).wrapInner(e.call(this,t))}):this.each(function(){var t=J(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=J.isFunction(e);return this.each(function(i){J(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},J.expr.filters.visible=function(e){return!J.expr.filters.hidden(e)};var Ct=/%20/g,kt=/\[\]$/,Tt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;J.param=function(e,t){var i,n=[],s=function(e,t){t=J.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(e)||e.jquery&&!J.isPlainObject(e))J.each(e,function(){s(this.name,this.value)});else for(i in e)j(i,e[i],t,s);return n.join("&").replace(Ct,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=J.prop(this,"elements");return e?J.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!J(this).is(":disabled")&&Mt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var i=J(this).val();return null==i?null:J.isArray(i)?J.map(i,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:i.replace(Tt,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var St=0,Pt={},Et={0:200,1223:204},zt=J.ajaxSettings.xhr();e.ActiveXObject&&J(e).on("unload",function(){for(var e in Pt)Pt[e]()}),K.cors=!!zt&&"withCredentials"in zt,K.ajax=zt=!!zt,J.ajaxTransport(function(e){var t;if(K.cors||zt&&!e.crossDomain)return{send:function(i,n){var s,o=e.xhr(),r=++St;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)o.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(delete Pt[r],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?n(o.status,o.statusText):n(Et[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Pt[r]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return J.globalEval(e),e}}}),J.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),J.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,s){t=J("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&s("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){i&&i()}}}});var It=[],At=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=It.pop()||J.expando+"_"+ct++;return this[e]=!0,e}}),J.ajaxPrefilter("json jsonp",function(t,i,n){var s,o,r,a=t.jsonp!==!1&&(At.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&At.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return s=t.jsonpCallback=J.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(At,"$1"+s):t.jsonp!==!1&&(t.url+=(ht.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return r||J.error(s+" was not called"),r[0]},t.dataTypes[0]="json",o=e[s],e[s]=function(){r=arguments},n.always(function(){e[s]=o,t[s]&&(t.jsonpCallback=i.jsonpCallback,It.push(s)),r&&J.isFunction(o)&&o(r[0]),r=o=void 0}),"script"}),J.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||Q;var n=re.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=J.buildFragment([e],t,s),s&&s.length&&J(s).remove(),J.merge([],n.childNodes))};var Nt=J.fn.load;J.fn.load=function(e,t,i){if("string"!=typeof e&&Nt)return Nt.apply(this,arguments);var n,s,o,r=this,a=e.indexOf(" ");return a>=0&&(n=J.trim(e.slice(a)),e=e.slice(0,a)),J.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(s="POST"),r.length>0&&J.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){o=arguments,r.html(n?J("<div>").append(J.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){r.each(i,o||[e.responseText,t,e])}),this},J.expr.filters.animated=function(e){return J.grep(J.timers,function(t){return e===t.elem}).length};var Ht=e.document.documentElement;J.offset={setOffset:function(e,t,i){var n,s,o,r,a,l,c,h=J.css(e,"position"),u=J(e),d={};"static"===h&&(e.style.position="relative"),a=u.offset(),o=J.css(e,"top"),l=J.css(e,"left"),c=("absolute"===h||"fixed"===h)&&(o+l).indexOf("auto")>-1,c?(n=u.position(),r=n.top,s=n.left):(r=parseFloat(o)||0,s=parseFloat(l)||0),J.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+s),"using"in t?t.using.call(e,d):u.css(d)}},J.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){J.offset.setOffset(this,e,t)});var t,i,n=this[0],s={top:0,left:0},o=n&&n.ownerDocument;if(o)return t=o.documentElement,J.contains(t,n)?(typeof n.getBoundingClientRect!==Te&&(s=n.getBoundingClientRect()),i=F(o),{top:s.top+i.pageYOffset-t.clientTop,left:s.left+i.pageXOffset-t.clientLeft}):s},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===J.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),J.nodeName(e[0],"html")||(n=e.offset()),n.top+=J.css(e[0],"borderTopWidth",!0),n.left+=J.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-J.css(i,"marginTop",!0),left:t.left-n.left-J.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ht;e&&!J.nodeName(e,"html")&&"static"===J.css(e,"position");)e=e.offsetParent;return e||Ht})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n="pageYOffset"===i;J.fn[t]=function(s){return ge(this,function(t,s,o){var r=F(t);return void 0===o?r?r[i]:t[s]:void(r?r.scrollTo(n?e.pageXOffset:o,n?o:e.pageYOffset):t[s]=o)},t,s,arguments.length,null)}}),J.each(["top","left"],function(e,t){J.cssHooks[t]=x(K.pixelPosition,function(e,i){if(i)return i=_(e,t),$e.test(i)?J(e).position()[t]+"px":i})}),J.each({Height:"height",Width:"width"},function(e,t){J.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){J.fn[n]=function(n,s){var o=arguments.length&&(i||"boolean"!=typeof n),r=i||(n===!0||s===!0?"margin":"border");return ge(this,function(t,i,n){var s;return J.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===n?J.css(t,i,r):J.style(t,i,n,r)},t,o?n:void 0,o,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var Ot=e.jQuery,Lt=e.$;return J.noConflict=function(t){return e.$===J&&(e.$=Lt),t&&e.jQuery===J&&(e.jQuery=Ot),J},typeof t===Te&&(e.jQuery=e.$=J),J}),function(e,t){function i(t,i){var s,o,r,a=t.nodeName.toLowerCase();return"area"===a?(s=t.parentNode,o=s.name,!(!t.href||!o||"map"!==s.nodeName.toLowerCase())&&(r=e("img[usemap=#"+o+"]")[0],!!r&&n(r))):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var n=this;setTimeout(function(){e(n).focus(),i&&i.call(n)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,o=e(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e(function(){var t=document.body,i=t.appendChild(i=document.createElement("div"));i.offsetHeight,e.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===i.offsetHeight,e.support.selectstart="onselectstart"in i,t.removeChild(i).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(r,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,i)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=!!t.length,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,o=e.ui[t].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<s.length;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},contains:e.contains,hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0||(t[n]=1,s=t[n]>0,t[n]=0,s)},isOverAxis:function(e,t,i){return e>t&&e<t+i},isOver:function(t,i,n,s,o,r){return e.ui.isOverAxis(t,n,o)&&e.ui.isOverAxis(i,s,r)}}))}(jQuery),function(e,t){function i(e,t,i){var n=getStringAsFunction(e);return n.callable.apply(t,i)}var n=0,s=Array.prototype.slice,o=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(e){}o(t)},e.widget=function(t,i,n){var s,o,r,a,l=t.split(".")[0];t=t.split(".")[1],s=l+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[l]=e[l]||{},o=e[l][t],r=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,s){e.isFunction(s)&&(n[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=o,t}}())}),r.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:t},n,{constructor:r,namespace:l,widgetName:t,widgetBaseClass:s,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r)},e.widget.extend=function(i){for(var n,o,r=s.call(arguments,1),a=0,l=r.length;a<l;a++)for(n in r[a])o=r[a][n],r[a].hasOwnProperty(n)&&o!==t&&(e.isPlainObject(o)?i[n]=e.isPlainObject(i[n])?e.widget.extend({},i[n],o):e.widget.extend({},o):i[n]=o);return i},e.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;e.fn[i]=function(r){var a="string"==typeof r,l=s.call(arguments,1),c=this;return r=!a&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,a?this.each(function(){var n,s=e.data(this,o);return s?e.isFunction(s[r])&&"_"!==r.charAt(0)?(n=s[r].apply(s,l),n!==s&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(r||{})._init():e.data(this,o,new n(r,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var s,o,r,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},s=i.split("."),i=s.shift(),s.length){for(o=a[i]=e.widget.extend({},this.options[i]),r=0;r<s.length-1;r++)o[s[r]]=o[s[r]]||{},o=o[s[r]];if(i=s.pop(),n===t)return o[i]===t?null:o[i];o[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var s,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,r){function a(){if(t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof r?o[r]:r).apply(o,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,h=l[2];h?s.delegate(h,c,a):i.bind(c,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,s){var o,r,a=this.options[t];if(s=s||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,s),a&&"string"==typeof a?!(i(a,this.element[0],[n].concat(s))===!1||n.isDefaultPrevented()):!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(s))===!1||n.isDefaultPrevented())}},getStringAsFunction=function(t){if(t){var i=t.split("."),n=window,s="";return e(i).each(function(e,t){n=n[t]?n[t]:n,e==i.length-2&&(s=n)}),{fn:n,base:s,callable:function(){var e=Array.prototype.slice.call(arguments);return n.apply(s,e)}}}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&e.effects&&(e.effects.effect[a]||e.uiBackCompat!==!1&&e.effects[a])?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(e,t){var i=!1;e(document).mouseup(function(e){i=!1}),e.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,s=1===t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(s&&!o&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,!0))}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(e,t){function i(e,t,i){return[parseInt(e[0],10)*(d.test(e[0])?t/100:1),parseInt(e[1],10)*(d.test(e[1])?i/100:1)]}function n(t,i){return parseInt(e.css(t,i),10)||0}e.ui=e.ui||{};var s,o=Math.max,r=Math.abs,a=Math.round,l=/left|center|right/,c=/top|center|bottom/,h=/[\+\-]\d+%?/,u=/^\w+/,d=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(s!==t)return s;var i,n,o=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=o.children()[0];return e("body").append(o),i=r.offsetWidth,o.css("overflow","scroll"),n=r.offsetWidth,i===n&&(n=o[0].clientWidth),o.remove(),s=i-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),s="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,o="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var s,d,f,m,g,v=e(t.of),b=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(b),w=v[0],_=(t.collision||"flip").split(" "),x={};return 9===w.nodeType?(d=v.width(),f=v.height(),m={top:0,left:0}):e.isWindow(w)?(d=v.width(),f=v.height(),m={top:v.scrollTop(),left:v.scrollLeft()}):w.preventDefault?(t.at="left top",d=f=0,m={top:w.pageY,left:w.pageX}):(d=v.outerWidth(),f=v.outerHeight(),m=v.offset()),g=e.extend({},m),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=l.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=l.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",e=h.exec(n[0]),i=h.exec(n[1]),x[this]=[e?e[0]:0,i?i[0]:0],t[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===t.at[0]?g.left+=d:"center"===t.at[0]&&(g.left+=d/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),s=i(x.at,d,f),g.left+=s[0],g.top+=s[1],this.each(function(){var l,c,h=e(this),u=h.outerWidth(),p=h.outerHeight(),w=n(this,"marginLeft"),C=n(this,"marginTop"),k=u+w+n(this,"marginRight")+y.width,T=p+C+n(this,"marginBottom")+y.height,D=e.extend({},g),M=i(x.my,h.outerWidth(),h.outerHeight());"right"===t.my[0]?D.left-=u:"center"===t.my[0]&&(D.left-=u/2),"bottom"===t.my[1]?D.top-=p:"center"===t.my[1]&&(D.top-=p/2),D.left+=M[0],D.top+=M[1],e.support.offsetFractions||(D.left=a(D.left),D.top=a(D.top)),l={marginLeft:w,marginTop:C},e.each(["left","top"],function(i,n){e.ui.position[_[i]]&&e.ui.position[_[i]][n](D,{targetWidth:d,targetHeight:f,elemWidth:u,elemHeight:p,collisionPosition:l,collisionWidth:k,collisionHeight:T,offset:[s[0]+M[0],s[1]+M[1]],my:t.my,at:t.at,within:b,elem:h})}),e.fn.bgiframe&&h.bgiframe(),t.using&&(c=function(e){var i=m.left-D.left,n=i+d-u,s=m.top-D.top,a=s+f-p,l={target:{element:v,left:m.left,top:m.top,width:d,height:f},element:{element:h,left:D.left,top:D.top,width:u,height:p},horizontal:n<0?"left":i>0?"right":"center",vertical:a<0?"top":s>0?"bottom":"middle"};d<u&&r(i+n)<d&&(l.horizontal="center"),f<p&&r(s+a)<f&&(l.vertical="middle"),o(r(i),r(n))>o(r(s),r(a))?l.important="horizontal":l.important="vertical",t.using.call(this,e,l)}),h.offset(e.extend(D,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=e.left-t.collisionPosition.marginLeft,l=s-a,c=a+t.collisionWidth-r-s;t.collisionWidth>r?l>0&&c<=0?(i=e.left+l+t.collisionWidth-r-s,e.left+=l-i):c>0&&l<=0?e.left=s:l>c?e.left=s+r-t.collisionWidth:e.left=s:l>0?e.left+=l:c>0?e.left-=c:e.left=o(e.left-a,e.left)},top:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollTop:n.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,l=s-a,c=a+t.collisionHeight-r-s;t.collisionHeight>r?l>0&&c<=0?(i=e.top+l+t.collisionHeight-r-s,e.top+=l-i):c>0&&l<=0?e.top=s:l>c?e.top=s+r-t.collisionHeight:e.top=s:l>0?e.top+=l:c>0?e.top-=c:e.top=o(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,s=t.within,o=s.offset.left+s.scrollLeft,a=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=e.left-t.collisionPosition.marginLeft,h=c-l,u=c+t.collisionWidth-a-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];h<0?(i=e.left+d+p+f+t.collisionWidth-a-o,(i<0||i<r(h))&&(e.left+=d+p+f)):u>0&&(n=e.left-t.collisionPosition.marginLeft+d+p+f-l,(n>0||r(n)<u)&&(e.left+=d+p+f))},top:function(e,t){var i,n,s=t.within,o=s.offset.top+s.scrollTop,a=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=e.top-t.collisionPosition.marginTop,h=c-l,u=c+t.collisionHeight-a-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];h<0?(n=e.top+p+f+m+t.collisionHeight-a-o,e.top+p+f+m>h&&(n<0||n<r(h))&&(e.top+=p+f+m)):u>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>u&&(i>0||r(i)<u)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,s,o,r=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)t.style[o]=n[o];t.appendChild(a),i=r||document.documentElement,i.insertBefore(t,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",s=e(a).offset().left,e.support.offsetFractions=s>10&&s<11,t.innerHTML="",i.removeChild(t)}(),e.uiBackCompat!==!1&&!function(e){var i=e.fn.position;e.fn.position=function(n){if(!n||!n.offset)return i.call(this,n);var s=n.offset.split(" "),o=n.at.split(" ");return 1===s.length&&(s[1]=s[0]),/^\d/.test(s[0])&&(s[0]="+"+s[0]),/^\d/.test(s[1])&&(s[1]="+"+s[1]),1===o.length&&(/left|center|right/.test(o[0])?o[1]="center":(o[1]=o[0],o[0]="center")),i.call(this,e.extend(n,{at:o[0]+s[0]+" "+o[1]+s[1],offset:t}))}}(jQuery)}(jQuery),function(e,t){var i=0,n={},s={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide",s.height=s.paddingTop=s.paddingBottom=s.borderTopWidth=s.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.accordionId="ui-accordion-"+(this.element.attr("id")||++i),n=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(n.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),n.collapsible||n.active!==!1&&null!=n.active||(n.active=0),n.active<0&&(n.active+=this.headers.length),this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(i){var n=e(this),s=n.attr("id"),o=n.next(),r=o.attr("id");s||(s=t+"-header-"+i,n.attr("id",s)),r||(r=t+"-panel-"+i,o.attr("id",r)),n.attr("aria-controls",r),o.attr("aria-labelledby",s)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(n.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,s=this.headers.index(t.target),o=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t,i,n=this.options.heightStyle,s=this.element.parent();"fill"===n?(e.support.minHeight||(i=s.css("overflow"),s.css("overflow","hidden")),t=s.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),i&&s.css("overflow",i),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={};t&&(e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._on(this.headers,i))},_eventHandler:function(t){var i=this.options,n=this.active,s=e(t.currentTarget),o=s[0]===n[0],r=o&&i.collapsible,a=r?e():s.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:r?e():s,newPanel:a};t.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=!r&&this.headers.index(s),this.active=o?e():s,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,i){var o,r,a,l=this,c=0,h=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=h&&u.down||u,p=function(){l._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(r=d),r=r||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(o=e.show().outerHeight(),t.animate(n,{duration:a,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(s,{duration:a,easing:r,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(o-t.outerHeight()-c),c=0)}})):t.animate(n,a,r,p):e.animate(s,a,r,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.uiBackCompat!==!1&&(!function(e,t){e.extend(t.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var i=t._create;t._create=function(){if(this.options.navigation){var t=this,n=this.element.find(this.options.header),s=n.next(),o=n.add(s).find("a").filter(this.options.navigationFilter)[0];o&&n.add(s).each(function(i){if(e.contains(this,o))return t.options.active=Math.floor(i/2),!1})}i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var i=t._create,n=t._setOption;e.extend(t,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),i.call(this)},_setOption:function(e){"autoHeight"!==e&&"clearStyle"!==e&&"fillSpace"!==e||(this.options.heightStyle=this._mergeHeightStyle()),n.apply(this,arguments)},_mergeHeightStyle:function(){var e=this.options;return e.fillSpace?"fill":e.clearStyle?"content":e.autoHeight?"auto":void 0}})}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var i=t._createIcons;t._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){t.activate=t._activate;var i=t._findActive;t._findActive=function(e){return e===-1&&(e=!1),e&&"number"!=typeof e&&(e=this.headers.index(this.headers.filter(e)),e===-1&&(e=!1)),i.call(this,e)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(e,t){e.extend(t.options,{change:null,changestart:null});var i=t._trigger;t._trigger=function(e,t,n){var s=i.apply(this,arguments);return!!s&&("beforeActivate"===e?s=i.call(this,"changestart",t,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel}):"activate"===e&&(s=i.call(this,"change",t,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel})),s)}}(jQuery,jQuery.ui.accordion.prototype),function(e,t){e.extend(t.options,{animate:null,animated:"slide"});var i=t._create;t._create=function(){var e=this.options;null===e.animate&&(e.animated?"slide"===e.animated?e.animate=300:"bounceslide"===e.animated?e.animate={duration:200,down:{easing:"easeOutBounce",duration:1e3}}:e.animate=e.animated:e.animate=!1),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(e,t){var i=0;e.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,n;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var o=e.ui.keyCode;switch(s.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",s);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",s);break;case o.UP:t=!1,this._keyEvent("previous",s);break;case o.DOWN:t=!1,this._keyEvent("next",s);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,s.preventDefault(),this.menu.select(s));break;case o.TAB:this.menu.active&&this.menu.select(s);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(t)return t=!1,void n.preventDefault();if(!i){var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var n=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,s){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){s(e)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,t=++i;return function(n){t===i&&e.__response(n),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e,t){var i,n,s,o,r="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",l="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",c=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},h=function(t){var i=t.name,n=t.form,s=e([]);return i&&(s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,c),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,a=this.options,l="checkbox"===this.type||"radio"===this.type,u=l?"":"ui-state-active",d="ui-state-focus";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(r).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===i&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||e(this).removeClass(u)}).bind("click"+this.eventNamespace,function(e){a.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(d)}),l&&(this.element.bind("change"+this.eventNamespace,function(){o||t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){a.disabled||(o=!1,n=e.pageX,s=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){a.disabled||n===e.pageX&&s===e.pageY||(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!a.disabled&&!o&&(e(this).toggleClass("ui-state-active"),void t.buttonElement.attr("aria-pressed",t.element[0].checked))}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||o)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];h(i).not(i).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!a.disabled&&(e(this).addClass("ui-state-active"),i=this,void t.document.one("mouseup",function(){i=null}))}).bind("mouseup"+this.eventNamespace,function(){return!a.disabled&&void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return!a.disabled&&void(t.keyCode!==e.ui.keyCode.SPACE&&t.keyCode!==e.ui.keyCode.ENTER||e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(r+" "+a+" "+l).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1),void this._trigger("disabled",null,{element:this.element,disabled:t})):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?h(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(l),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){if("custom"!=this.element.data("uitype")){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()}},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons!==t&&this.buttons.length&&this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var i in t)null!=t[i]&&t[i]!=undefined||(e[i]=t[i]);return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(e){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var i=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var i=$(e);t.append=$([]),t.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,i,n){t.settings[i]=n}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i=this._get(t,"appendText"),n=this._get(t,"isRTL");t.append&&t.append.remove(),i&&(t.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),e[n?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var s=this._get(t,"showOn");if("focus"!=s&&"both"!=s||e.focus(this._showDatepicker),"button"==s||"both"==s){var o=this._get(t,"buttonText"),r=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:r,alt:o,title:o}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==r?o:$("<img/>").attr({src:r,alt:o,title:o}))),e[n?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){var n=function(e){for(var t=0,i=0,n=0;n<e.length;n++)e[n].length>t&&(t=e[n].length,i=n);return i};t.setMonth(n(this._get(e,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(n(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var i=$(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,i,n){t.settings[i]=n}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,n,s){var o=this._dialogInst;if(!o){this.uuid+=1;var r="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+r+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),o=this._dialogInst=this._newInst(this._dialogInput,!1),o.settings={},$.data(this._dialogInput[0],PROP_NAME,o)}if(extendRemove(o.settings,n||{}),t=t&&t.constructor==Date?this._formatDate(o,t):t,this._dialogInput.val(t),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,!this._pos){var a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[a/2-100+c,l/2-150+h]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,o),this},_destroyDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==n?(i.append.remove(),i.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=n&&"span"!=n||t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();if("input"==n)e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==n||"span"==n){var s=t.children("."+this._inlineClass);s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),i=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var n=e.nodeName.toLowerCase();if("input"==n)e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==n||"span"==n){var s=t.children("."+this._inlineClass);s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var n=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):n?"all"==t?$.extend({},n.settings):this._get(n,t):null;var s=t||{};if("string"==typeof t&&(s={},s[t]=i),n){this._curInst==n&&this._hideDatepicker();var o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(n,"min"),a=this._getMinMaxDate(n,"max");extendRemove(n.settings,s),null!==r&&s.dateFormat!==undefined&&s.minDate===undefined&&(n.settings.minDate=this._formatDate(n,r)),null!==a&&s.dateFormat!==undefined&&s.maxDate===undefined&&(n.settings.maxDate=this._formatDate(n,a)),this._attachments($(e),n),this._autoSize(n),this._setDate(n,o),this._updateAlternate(n),this._updateDatepicker(n)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),i=!0,n=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var s=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);s[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,s[0]);var o=$.datepicker._get(t,"onSelect");if(o){var r=$.datepicker._formatDate(t);o.apply(t.input?t.input[0]:null,[r,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),i=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),i=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,n?1:-1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),i=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,n?-1:1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),i=e.ctrlKey||e.metaKey;break;default:i=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),n=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{var i=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));i&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(e){$.datepicker.log(e)}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(t,"beforeShow"),n=i?i.apply(e,[e,t]):{};if(n!==!1){extendRemove(t.settings,n),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var s=!1;$(e).parents().each(function(){return s|="fixed"==$(this).css("position"),!s});var o={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),o=$.datepicker._checkOffset(t,o,s),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":s?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),!t.inline){var r=$.datepicker._get(t,"showAnim"),a=$.datepicker._get(t,"duration"),l=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var i=$.datepicker._getBorders(t.dpDiv);e.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[r]||$.effects[r])?t.dpDiv.show(r,$.datepicker._get(t,"showOptions"),a,l):t.dpDiv[r||"show"](r?a:null,l),r&&a||l(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i=e.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n=this._getNumberOfMonths(e),s=n[1],o=17;if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",o*s+"em"),e.dpDiv[(1!=n[0]||1!=n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var r=e.yearshtml;setTimeout(function(){r===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),r=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,i){var n=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,a=document.documentElement.clientWidth+(i?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?n-o:0,t.left-=i&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+r?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+n>a&&a>n?Math.abs(t.left+n-a):0),t.top-=Math.min(t.top,t.top+s>l&&l>s?Math.abs(s+r):0),t},_findPos:function(e){for(var t=this._getInst(e),i=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];var n=$(e).offset();return[n.left,n.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var i=this._get(t,"showAnim"),n=this._get(t,"duration"),s=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[i]||$.effects[i])?t.dpDiv.hide(i,$.datepicker._get(t,"showOptions"),n,s):t.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1;var o=this._get(t,"onClose");o&&o.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),i=$.datepicker._getInst(t[0]);(t[0].id==$.datepicker._mainDivId||0!=t.parents("#"+$.datepicker._mainDivId).length||t.hasClass($.datepicker.markerClassName)||t.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)&&(!t.hasClass($.datepicker.markerClassName)||$.datepicker._curInst==i)||$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var n=$(e),s=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(s,t+("M"==i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(e){var t=$(e),i=this._getInst(t[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var n=new Date;i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i),this._adjustDate(t)},_selectMonthYear:function(e,t,i){var n=$(e),s=this._getInst(n[0]);s["selected"+("M"==i?"Month":"Year")]=s["draw"+("M"==i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(n)},_selectDay:function(e,t,i,n){var s=$(e);if(!$(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(s[0])){var o=this._getInst(s[0]);o.selectedDay=o.currentDay=$("a",n).html(),o.selectedMonth=o.currentMonth=t,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(e,t){var i=$(e),n=this._getInst(i[0]);t=null!=t?t:this._formatDate(n),n.input&&n.input.val(t),this._updateAlternate(n);var s=this._get(n,"onSelect");s?s.apply(n.input?n.input[0]:null,[t,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e));$(t).each(function(){$(this).val(s)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var i=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(e,t,i){if(null==e||null==t)throw"Invalid arguments";if(t="object"==typeof t?t.toString():t+"",""==t)return null;var n=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;n="string"!=typeof n?n:(new Date).getFullYear()%100+parseInt(n,10);for(var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,h=-1,u=-1,d=!1,p=function(t){var i=b+1<e.length&&e.charAt(b+1)==t;return i&&b++,i},f=function(e){var i=p(e),n="@"==e?14:"!"==e?20:"y"==e&&i?4:"o"==e?3:2,s=new RegExp("^\\d{1,"+n+"}"),o=t.substring(v).match(s);if(!o)throw"Missing number at position "+v;return v+=o[0].length,parseInt(o[0],10)},m=function(e,i,n){var s=$.map(p(e)?n:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),o=-1;if($.each(s,function(e,i){var n=i[1];if(t.substr(v,n.length).toLowerCase()==n.toLowerCase())return o=i[0],v+=n.length,!1}),o!=-1)return o+1;throw"Unknown name at position "+v},g=function(){if(t.charAt(v)!=e.charAt(b))throw"Unexpected literal at position "+v;v++},v=0,b=0;b<e.length;b++)if(d)"'"!=e.charAt(b)||p("'")?g():d=!1;else switch(e.charAt(b)){case"d":h=f("d");break;case"D":m("D",s,o);break;case"o":u=f("o");break;case"m":c=f("m");break;case"M":c=m("M",r,a);break;case"y":l=f("y");break;case"@":var y=new Date(f("@"));l=y.getFullYear(),c=y.getMonth()+1,h=y.getDate();break;case"!":var y=new Date((f("!")-this._ticksTo1970)/1e4);l=y.getFullYear(),c=y.getMonth()+1,h=y.getDate();break;case"'":p("'")?g():d=!0;break;default:g()}if(v<t.length){var w=t.substr(v);if(!/^\s+/.test(w))throw"Extra/unparsed characters found in date: "+w}if(l==-1?l=(new Date).getFullYear():l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=n?0:-100)),u>-1)for(c=1,h=u;;){var _=this._getDaysInMonth(l,c-1);if(h<=_)break;c++,h-=_}var y=this._daylightSavingAdjust(new Date(l,c-1,h));if(y.getFullYear()!=l||y.getMonth()+1!=c||y.getDate()!=h)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,a=function(t){var i=d+1<e.length&&e.charAt(d+1)==t;return i&&d++,i},l=function(e,t,i){var n=""+t;if(a(e))for(;n.length<i;)n="0"+n;return n},c=function(e,t,i,n){return a(e)?n[t]:i[t]},h="",u=!1;if(t)for(var d=0;d<e.length;d++)if(u)"'"!=e.charAt(d)||a("'")?h+=e.charAt(d):u=!1;else switch(e.charAt(d)){case"d":h+=l("d",t.getDate(),2);break;case"D":h+=c("D",t.getDay(),n,s);break;case"o":h+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",t.getMonth()+1,2);break;case"M":h+=c("M",t.getMonth(),o,r);break;case"y":h+=a("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":a("'")?h+="'":u=!0;break;default:h+=e.charAt(d)}return h},_possibleChars:function(e){for(var t="",i=!1,n=function(t){var i=s+1<e.length&&e.charAt(s+1)==t;return i&&s++,i},s=0;s<e.length;s++)if(i)"'"!=e.charAt(s)||n("'")?t+=e.charAt(s):i=!1;else switch(e.charAt(s)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":n("'")?t+="'":i=!0;break;default:t+=e.charAt(s)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var i,n,s=this._get(e,"dateFormat"),o=e.lastVal=e.input?e.input.val():null;i=n=this._getDefaultDate(e);var r=this._getFormatConfig(e);try{i=this.parseDate(s,o,r)||n}catch(e){this.log(e),o=t?"":o}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=o?i.getDate():0,e.currentMonth=o?i.getMonth():0,e.currentYear=o?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,i){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(e){}for(var i=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,n=i.getFullYear(),s=i.getMonth(),o=i.getDate(),r=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=r.exec(t);a;){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=7*parseInt(a[1],10);break;case"m":case"M":s+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(n,s));break;case"y":case"Y":n+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(n,s))}a=r.exec(t)}return new Date(n,s,o)},o=null==t||""===t?i:"string"==typeof t?s(t):"number"==typeof t?isNaN(t)?i:n(t):new Date(t.getTime());return o=o&&"Invalid Date"==o.toString()?i:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,o=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s==e.selectedMonth&&o==e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var i=this._get(e,"isRTL"),n=this._get(e,"showButtonPanel"),s=this._get(e,"hideIfNoPrevNext"),o=this._get(e,"navigationAsDateFormat"),r=this._getNumberOfMonths(e),a=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=r[0]||1!=r[1],h=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(e,"min"),d=this._getMinMaxDate(e,"max"),p=e.drawMonth-a,f=e.drawYear;if(p<0&&(p+=12,f--),d){var m=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-r[0]*r[1]+1,d.getDate()));for(m=u&&m<u?u:m;this._daylightSavingAdjust(new Date(f,p,1))>m;)p--,p<0&&(p=11,f--)}e.drawMonth=p,e.drawYear=f;var g=this._get(e,"prevText");g=o?this.formatDate(g,this._daylightSavingAdjust(new Date(f,p-l,1)),this._getFormatConfig(e)):g;var v=this._canAdjustMonth(e,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>":s?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>",b=this._get(e,"nextText");b=o?this.formatDate(b,this._daylightSavingAdjust(new Date(f,p+l,1)),this._getFormatConfig(e)):b;var y=this._canAdjustMonth(e,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>":s?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+b+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+b+"</span></a>",w=this._get(e,"currentText"),_=this._get(e,"gotoCurrent")&&e.currentDay?h:t;w=o?this.formatDate(w,_,this._getFormatConfig(e)):w;var x=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",C=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?x:"")+(this._isInRange(e,_)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+w+"</button>":"")+(i?"":x)+"</div>":"",k=parseInt(this._get(e,"firstDay"),10);k=isNaN(k)?0:k;for(var T=this._get(e,"showWeek"),D=this._get(e,"dayNames"),M=(this._get(e,"dayNamesShort"),this._get(e,"dayNamesMin")),S=this._get(e,"monthNames"),P=this._get(e,"monthNamesShort"),E=this._get(e,"beforeShowDay"),z=this._get(e,"showOtherMonths"),I=this._get(e,"selectOtherMonths"),A=(this._get(e,"calculateWeek")||this.iso8601Week,this._getDefaultDate(e)),N="",H=0;H<r[0];H++){var O="";this.maxRows=4;for(var L=0;L<r[1];L++){var W=this._daylightSavingAdjust(new Date(f,p,e.selectedDay)),R=" ui-corner-all",j="";if(c){if(j+='<div class="ui-datepicker-group',r[1]>1)switch(L){case 0:j+=" ui-datepicker-group-first",R=" ui-corner-"+(i?"right":"left");break;case r[1]-1:j+=" ui-datepicker-group-last",R=" ui-corner-"+(i?"left":"right");break;default:j+=" ui-datepicker-group-middle",R=""}j+='">'}j+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+R+'">'+(/all|left/.test(R)&&0==H?i?y:v:"")+(/all|right/.test(R)&&0==H?i?v:y:"")+this._generateMonthYearHeader(e,p,f,u,d,H>0||L>0,S,P)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var F=T?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",B=0;B<7;B++){var q=(B+k)%7;F+="<th"+((B+k+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+D[q]+'">'+M[q]+"</span></th>"}j+=F+"</tr></thead><tbody>";var Y=this._getDaysInMonth(f,p);f==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,Y));var U=(this._getFirstDayOfMonth(f,p)-k+7)%7,Z=Math.ceil((U+Y)/7),X=c&&this.maxRows>Z?this.maxRows:Z;this.maxRows=X;for(var V=this._daylightSavingAdjust(new Date(f,p,1-U)),K=0;K<X;K++){j+="<tr>";for(var Q=T?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(V)+"</td>":"",B=0;B<7;B++){var G=E?E.apply(e.input?e.input[0]:null,[V]):[!0,""],J=V.getMonth()!=p,ee=J&&!I||!G[0]||u&&V<u||d&&V>d;Q+='<td class="'+((B+k+6)%7>=5?" ui-datepicker-week-end":"")+(J?" ui-datepicker-other-month":"")+(V.getTime()==W.getTime()&&p==e.selectedMonth&&e._keyEvent||A.getTime()==V.getTime()&&A.getTime()==W.getTime()?" "+this._dayOverClass:"")+(ee?" "+this._unselectableClass+" ui-state-disabled":"")+(J&&!z?"":" "+G[1]+(V.getTime()==h.getTime()?" "+this._currentClass:"")+(V.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(J&&!z||!G[2]?"":' title="'+G[2]+'"')+(ee?"":' data-handler="selectDay" data-event="click" data-month="'+V.getMonth()+'" data-year="'+V.getFullYear()+'"')+">"+(J&&!z?"&#xa0;":ee?'<span class="ui-state-default">'+V.getDate()+"</span>":'<a class="ui-state-default'+(V.getTime()==t.getTime()?" ui-state-highlight":"")+(V.getTime()==h.getTime()?" ui-state-active":"")+(J?" ui-priority-secondary":"")+'" href="#">'+V.getDate()+"</a>")+"</td>",V.setDate(V.getDate()+1),V=this._daylightSavingAdjust(V)}j+=Q+"</tr>"}p++,p>11&&(p=0,f++),j+="</tbody></table>"+(c?"</div>"+(r[0]>0&&L==r[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),O+=j}N+=O}return N+=C+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,N},_generateMonthYearHeader:function(e,t,i,n,s,o,r,a){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),h=this._get(e,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',d="";if(o||!l)d+='<span class="ui-datepicker-month">'+r[t]+"</span>";else{var p=n&&n.getFullYear()==i,f=s&&s.getFullYear()==i;d+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var m=0;m<12;m++)(!p||m>=n.getMonth())&&(!f||m<=s.getMonth())&&(d+='<option value="'+m+'"'+(m==t?' selected="selected"':"")+">"+a[m]+"</option>");d+="</select>"}if(h||(u+=d+(!o&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!c)u+='<span class="ui-datepicker-year">'+i+"</span>";else{var g=this._get(e,"yearRange").split(":"),v=(new Date).getFullYear(),b=function(e){var t=e.match(/c[+-].*/)?i+parseInt(e.substring(1),10):e.match(/[+-].*/)?v+parseInt(e,10):parseInt(e,10);return isNaN(t)?v:t},y=b(g[0]),w=Math.max(y,b(g[1]||""));for(y=n?Math.max(y,n.getFullYear()):y,w=s?Math.min(w,s.getFullYear()):w,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';y<=w;y++)e.yearshtml+='<option value="'+y+'"'+(y==i?' selected="selected"':"")+">"+y+"</option>";e.yearshtml+="</select>",u+=e.yearshtml,e.yearshtml=null}return u+=this._get(e,"yearSuffix"),h&&(u+=(!o&&l&&c?"":"&#xa0;")+d),u+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"==i?t:0),s=e.drawMonth+("M"==i?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+("D"==i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,o)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),"M"!=i&&"Y"!=i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),s=i&&t<i?i:t;return s=n&&s>n?n:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(i,n+(t<0?t:s[0]*s[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max");return(!i||t.getTime()>=i.getTime())&&(!n||t.getTime()<=n.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(e,t){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",n={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},s={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var t,n,s,o,r,a=this,l=this.options,c=l.title||"&#160;";t=(this.uiDialog=e("<div>")).addClass(i+l.dialogClass).css({display:"none",outline:0,zIndex:l.zIndex}).attr("tabIndex",-1).keydown(function(t){l.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE&&(a.close(t),t.preventDefault())}).mousedown(function(e){a.moveToTop(!1,e)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(t),n=(this.uiDialogTitlebar=e("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){t.focus()}).prependTo(t),s=e("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(e){e.preventDefault(),a.close(e)}).appendTo(n),(this.uiDialogTitlebarCloseText=e("<span>")).addClass("ui-icon ui-icon-closethick").text(l.closeText).appendTo(s),o=e("<span>").uniqueId().addClass("ui-dialog-title").html(c).prependTo(n),r=(this.uiDialogButtonPane=e("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=e("<div>")).addClass("ui-dialog-buttonset").appendTo(r),t.attr({role:"dialog","aria-labelledby":o.attr("id")}),n.find("*").add(n).disableSelection(),this._hoverable(s),this._focusable(s),l.draggable&&e.fn.draggable&&this._makeDraggable(),l.resizable&&e.fn.resizable&&this._makeResizable(),this._createButtons(l.buttons),this._isOpen=!1,e.fn.bgiframe&&t.bgiframe(),this._on(t,{keydown:function(i){if(l.modal&&i.keyCode===e.ui.keyCode.TAB){var n=e(":tabbable",t),s=n.filter(":first"),o=n.filter(":last");return i.target!==o[0]||i.shiftKey?i.target===s[0]&&i.shiftKey?(o.focus(1),!1):void 0:(s.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var e,t=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(t){var i,n,s=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)}):(this.uiDialog.hide(),this._trigger("close",t)),e.ui.dialog.overlay.resize(),this.options.modal&&(i=0,e(".ui-dialog").each(function(){this!==s.uiDialog[0]&&(n=e(this).css("z-index"),isNaN(n)||(i=Math.max(i,n)))}),e.ui.dialog.maxZ=i),this},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var n,s=this.options;return s.modal&&!t||!s.stack&&!s.modal?this._trigger("focus",i):(s.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=s.zIndex),this.overlay&&(e.ui.dialog.maxZ+=1,e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ,this.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ)),n={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},e.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",e.ui.dialog.maxZ),this.element.attr(n),this._trigger("focus",i),this)},open:function(){if(!this._isOpen){var t,i=this.options,n=this.uiDialog;return this._size(),this._position(i.position),n.show(i.show),this.overlay=i.modal?new e.ui.dialog.overlay(this):null,this.moveToTop(!0),t=this.element.find(":tabbable"),t.length||(t=this.uiDialogButtonPane.find(":tabbable"),t.length||(t=n)),t.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(t){var i=this,n=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(n=!0)}),n?(e.each(t,function(t,n){var s,o;n=e.isFunction(n)?{click:n,text:t}:n,n=e.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(i.element[0],arguments)},s=e("<button></button>",n).appendTo(i.uiButtonSet),e.fn.button&&s.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){e(this).addClass("ui-dialog-dragging"),i._trigger("dragStart",n,t(s))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(s,o){n.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._trigger("dragStop",s,t(o)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(i){function n(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}i=i===t?this.options.resizable:i;var s=this,o=this.options,r=this.uiDialog.css("position"),a="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:a,start:function(t,i){e(this).addClass("ui-dialog-resizing"),s._trigger("resizeStart",t,n(i))},resize:function(e,t){s._trigger("resize",e,n(t))},stop:function(t,i){e(this).removeClass("ui-dialog-resizing"),o.height=e(this).height(),o.width=e(this).width(),s._trigger("resizeStop",t,n(i)),e.ui.dialog.overlay.resize()}}).css("position",r).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var i,n=[],s=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(n=t.split?t.split(" "):[t[0],t[1]],1===n.length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(s[e]=n[e],n[e]=t)}),t={my:n[0]+(s[0]<0?s[0]:"+"+s[0])+" "+n[1]+(s[1]<0?s[1]:"+"+s[1]),at:n.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.position(t),i||this.uiDialog.hide()},_setOptions:function(t){var i=this,o={},r=!1;e.each(t,function(e,t){i._setOption(e,t),e in n&&(r=!0),e in s&&(o[e]=t)}),r&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,n){var s,o,r=this.uiDialog;switch(t){case"buttons":this._createButtons(n);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+n);break;case"dialogClass":r.removeClass(this.options.dialogClass).addClass(i+n);break;case"disabled":n?r.addClass("ui-dialog-disabled"):r.removeClass("ui-dialog-disabled");break;case"draggable":s=r.is(":data(draggable)"),s&&!n&&r.draggable("destroy"),!s&&n&&this._makeDraggable();break;case"position":this._position(n);break;case"resizable":o=r.is(":data(resizable)"),o&&!n&&r.resizable("destroy"),o&&"string"==typeof n&&r.resizable("option","handles",n),o||n===!1||this._makeResizable(n);break;case"title":e(".ui-dialog-title",this.uiDialogTitlebar).html(""+(n||"&#160;"))}this._super(t,n)},_size:function(){var t,i,n,s=this.options,o=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),i=Math.max(0,s.minHeight-t),"auto"===s.height?e.support.minHeight?this.element.css({minHeight:i,height:"auto"}):(this.uiDialog.show(),n=this.element.css("height","auto").height(),o||this.uiDialog.hide(),this.element.height(Math.max(n,i))):this.element.height(Math.max(s.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){if(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ)return!1})},1),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var i=this.oldInstances.pop()||e("<div>").addClass("ui-widget-overlay");return e(document).bind("keydown.dialog-overlay",function(n){var s=e.ui.dialog.overlay.instances;0!==s.length&&s[s.length-1]===i&&t.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}),i.appendTo(document.body).css({width:this.width(),height:this.height()}),e.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var i=e.inArray(t,this.instances),n=0;i!==-1&&this.oldInstances.push(this.instances.splice(i,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.height(0).width(0).remove(),e.each(this.instances,function(){n=Math.max(n,this.css("z-index"))}),this.maxZ=n},height:function(){var t,i;return e.ui.ie?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),t<i?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,i;return e.ui.ie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),t<i?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(t),!!this.handle&&(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0))},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1);for(var n=this.element[0],s=!1;n&&(n=n.parentNode);)n==document&&(s=!0);if(!s&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var o=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){o._trigger("stop",t)!==!1&&o._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=!this.options.handle||!e(this.options.handle,this.element).length;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),n[0]==this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var i=e(t.containment),n=i[0];if(!n)return;var s=(i.offset(),"hidden"!=e(n).css("overflow"));this.containment=[(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0),(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0),(s?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"==t?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(t){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName),o=t.pageX,r=t.pageY;if(this.originalPosition){var a;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();a=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else a=this.containment;t.pageX-this.offset.click.left<a[0]&&(o=a[0]+this.offset.click.left),t.pageY-this.offset.click.top<a[1]&&(r=a[1]+this.offset.click.top),t.pageX-this.offset.click.left>a[2]&&(o=a[2]+this.offset.click.left),t.pageY-this.offset.click.top>a[3]&&(r=a[3]+this.offset.click.top)}if(i.grid){var c=i.grid[1]?this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;r=a&&(c-this.offset.click.top<a[1]||c-this.offset.click.top>a[3])?c-this.offset.click.top<a[1]?c+i.grid[1]:c-i.grid[1]:c;var h=i.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;o=a&&(h-this.offset.click.left<a[0]||h-this.offset.click.left>a[2])?h-this.offset.click.left<a[0]?h+i.grid[0]:h-i.grid[0]:h}}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("draggable"),s=n.options,o=e.extend({},i,{item:n.element});n.sortables=[],e(s.connectToSortable).each(function(){var i=e.data(this,"sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,o))})},stop:function(t,i){var n=e(this).data("draggable"),s=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,i){var n=e(this).data("draggable"),s=this;e.each(n.sortables,function(o){var r=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(r=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!=a&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(a.instance.element[0],this.instance.element[0])&&(r=!1),r})),r?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i){var n=e("body"),s=e(this).data("draggable").options;n.css("cursor")&&(s._cursor=n.css("cursor")),n.css("cursor",s.cursor)},stop:function(t,i){var n=e(this).data("draggable").options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),s=e(this).data("draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i){var n=e(this).data("draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(t,i){var n=e(this).data("draggable");n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName&&(n.overflowOffset=n.scrollParent.offset())},drag:function(t,i){var n=e(this).data("draggable"),s=n.options,o=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(s.axis&&"x"==s.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-n.overflowOffset.top<s.scrollSensitivity&&(n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"==s.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-n.overflowOffset.left<s.scrollSensitivity&&(n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"==s.axis||(t.pageY-e(document).scrollTop()<s.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"==s.axis||(t.pageX-e(document).scrollLeft()<s.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i){var n=e(this).data("draggable"),s=n.options;n.snapElements=[],e(s.snap.constructor!=String?s.snap.items||":data(draggable)":s.snap).each(function(){var t=e(this),i=t.offset();this!=n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i){for(var n=e(this).data("draggable"),s=n.options,o=s.snapTolerance,r=i.offset.left,a=r+n.helperProportions.width,l=i.offset.top,c=l+n.helperProportions.height,h=n.snapElements.length-1;h>=0;h--){var u=n.snapElements[h].left,d=u+n.snapElements[h].width,p=n.snapElements[h].top,f=p+n.snapElements[h].height;if(u-o<r&&r<d+o&&p-o<l&&l<f+o||u-o<r&&r<d+o&&p-o<c&&c<f+o||u-o<a&&a<d+o&&p-o<l&&l<f+o||u-o<a&&a<d+o&&p-o<c&&c<f+o){if("inner"!=s.snapMode){var m=Math.abs(p-c)<=o,g=Math.abs(f-l)<=o,v=Math.abs(u-a)<=o,b=Math.abs(d-r)<=o;m&&(i.position.top=n._convertPositionTo("relative",{top:p-n.helperProportions.height,left:0}).top-n.margins.top),g&&(i.position.top=n._convertPositionTo("relative",{top:f,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d}).left-n.margins.left)}var y=m||g||v||b;if("outer"!=s.snapMode){var m=Math.abs(p-l)<=o,g=Math.abs(f-c)<=o,v=Math.abs(u-r)<=o,b=Math.abs(d-a)<=o;m&&(i.position.top=n._convertPositionTo("relative",{top:p,left:0}).top-n.margins.top),g&&(i.position.top=n._convertPositionTo("relative",{top:f-n.helperProportions.height,left:0}).top-n.margins.top),v&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left-n.margins.left),b&&(i.position.left=n._convertPositionTo("relative",{top:0,left:d-n.helperProportions.width}).left-n.margins.left)}!n.snapElements[h].snapping&&(m||g||v||b||y)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=m||g||v||b||y}else n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(t,i){var n=e(this).data("draggable").options,s=e.makeArray(e(n.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});if(s.length){var o=parseInt(s[0].style.zIndex)||0;e(s).each(function(e){this.style.zIndex=o+e}),this[0].style.zIndex=o+s.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),s=e(this).data("draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i){var n=e(this).data("draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(e,t){e.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],i=0;i<t.length;i++)t[i]==this&&t.splice(i,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"==t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]==this.element[0])return!1;var s=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return s=!0,!1}),!s&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(t,i,n){if(!i.offset)return!1;var s=(t.positionAbs||t.position.absolute).left,o=s+t.helperProportions.width,r=(t.positionAbs||t.position.absolute).top,a=r+t.helperProportions.height,l=i.offset.left,c=l+i.proportions.width,h=i.offset.top,u=h+i.proportions.height;switch(n){case"fit":return l<=s&&o<=c&&h<=r&&a<=u;case"intersect":return l<s+t.helperProportions.width/2&&o-t.helperProportions.width/2<c&&h<r+t.helperProportions.height/2&&a-t.helperProportions.height/2<u;case"pointer":var d=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,p=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,f=e.ui.isOver(p,d,h,l,i.proportions.height,i.proportions.width);return f;case"touch":return(r>=h&&r<=u||a>=h&&a<=u||r<h&&a>u)&&(s>=l&&s<=c||o>=l&&o<=c||s<l&&o>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n=e.ui.ddmanager.droppables[t.options.scope]||[],s=i?i.type:null,o=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var r=0;r<n.length;r++)if(!(n[r].options.disabled||t&&!n[r].accept.call(n[r].element[0],t.currentItem||t.element))){for(var a=0;a<o.length;a++)if(o[a]==n[r].element[0]){n[r].proportions.height=0;continue e}n[r].visible="none"!=n[r].element.css("display"),n[r].visible&&("mousedown"==s&&n[r]._activate.call(n[r],i),n[r].offset=n[r].element.offset(),n[r].proportions={width:n[r].element[0].offsetWidth,height:n[r].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n=e.ui.intersect(t,this,this.options.tolerance),s=n||1!=this.isover?n&&0==this.isover?"isover":null:"isout";if(s){var o;if(this.options.greedy){var r=this.options.scope,a=this.element.parents(":data(droppable)").filter(function(){return e.data(this,"droppable").options.scope===r});a.length&&(o=e.data(a[0],"droppable"),o.greedyChild="isover"==s?1:0)}o&&"isover"==s&&(o.isover=0,o.isout=1,o._out.call(o,i)),this[s]=1,this["isout"==s?"isover":"isout"]=0,this["isover"==s?"_over":"_out"].call(this,i),o&&"isout"==s&&(o.isout=0,o.isover=1,o._over.call(o,i))}}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),jQuery.effects||function(e,t){var i=e.uiBackCompat!==!1,n="ui-effects-";e.effects={effect:{}},function(t,i){function n(e,t,i){var n=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function s(e){var i=h(),n=i._rgba=[];return e=e.toLowerCase(),m(c,function(t,s){var o,r=s.re.exec(e),a=r&&s.parse(r),l=s.space||"rgba";if(a)return o=i[l](a),i[u[l].cache]=o[u[l].cache],n=i._rgba=o._rgba,!1}),n.length?("0,0,0,0"===n.join()&&t.extend(n,r.transparent),i):r[e]}function o(e,t,i){return i=(i+1)%1,6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var r,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),l=/^([\-+])=\s*(\d+\.?\d*)/,c=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],h=t.Color=function(e,i,n,s){return new t.Color.fn.parse(e,i,n,s)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=h.support={},f=t("<p>")[0],m=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=f.style.backgroundColor.indexOf("rgba")>-1,m(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(o,a,l,c){if(o===i)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(a),a=i);var d=this,p=t.type(o),f=this._rgba=[];return a!==i&&(o=[o,a,l,c],p="array"),"string"===p?this.parse(s(o)||r._default):"array"===p?(m(u.rgba.props,function(e,t){f[t.idx]=n(o[t.idx],t)}),this):"object"===p?(o instanceof h?m(u,function(e,t){o[t.cache]&&(d[t.cache]=o[t.cache].slice())}):m(u,function(t,i){var s=i.cache;m(i.props,function(e,t){if(!d[s]&&i.to){if("alpha"===e||null==o[e])return;d[s]=i.to(d._rgba)}d[s][t.idx]=n(o[e],t,!0)}),d[s]&&e.inArray(null,d[s].slice(0,3))<0&&(d[s][3]=1,i.from&&(d._rgba=i.from(d[s])))}),this):void 0},is:function(e){var t=h(e),i=!0,n=this;return m(u,function(e,s){var o,r=t[s.cache];return r&&(o=n[s.cache]||s.to&&s.to(n._rgba)||[],m(s.props,function(e,t){if(null!=r[t.idx])return i=r[t.idx]===o[t.idx]})),i}),i},_space:function(){var e=[],t=this;return m(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var i=h(e),s=i._space(),o=u[s],r=0===this.alpha()?h("transparent"):this,a=r[o.cache]||o.to(r._rgba),l=a.slice();return i=i[o.cache],m(o.props,function(e,s){var o=s.idx,r=a[o],c=i[o],h=d[s.type]||{};null!==c&&(null===r?l[o]=c:(h.mod&&(c-r>h.mod/2?r+=h.mod:r-c>h.mod/2&&(r-=h.mod)),l[o]=n((c-r)*t+r,s)))}),this[s](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=h(e)._rgba;return h(t.map(i,function(e,t){return(1-n)*s[t]+n*e}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,s=e[1]/255,o=e[2]/255,r=e[3],a=Math.max(n,s,o),l=Math.min(n,s,o),c=a-l,h=a+l,u=.5*h;return t=l===a?0:n===a?60*(s-o)/c+360:s===a?60*(o-n)/c+120:60*(n-s)/c+240,i=0===u||1===u?u:u<=.5?c/h:c/(2-h),[Math.round(t)%360,i,u,null==r?1:r]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],s=e[3],r=n<=.5?n*(1+i):n+i-n*i,a=2*n-r;return[Math.round(255*o(a,r,t+1/3)),Math.round(255*o(a,r,t)),Math.round(255*o(a,r,t-1/3)),s]},m(u,function(e,s){var o=s.props,r=s.cache,a=s.to,c=s.from;h.fn[e]=function(e){if(a&&!this[r]&&(this[r]=a(this._rgba)),e===i)return this[r].slice();var s,l=t.type(e),u="array"===l||"object"===l?e:arguments,d=this[r].slice();return m(o,function(e,t){var i=u["object"===l?e:t.idx];null==i&&(i=d[t.idx]),d[t.idx]=n(i,t)}),c?(s=h(c(d)),s[r]=d,s):h(d)},m(o,function(i,n){h.fn[i]||(h.fn[i]=function(s){var o,r=t.type(s),a="alpha"===i?this._hsla?"hsla":"rgba":e,c=this[a](),h=c[n.idx];return"undefined"===r?h:("function"===r&&(s=s.call(this,h),r=t.type(s)),null==s&&n.empty?this:("string"===r&&(o=l.exec(s),o&&(s=h+parseFloat(o[2])*("+"===o[1]?1:-1))),c[n.idx]=s,this[a](c)))})})}),m(a,function(e,i){t.cssHooks[i]={set:function(e,n){var o,r,a="";if("string"!==t.type(n)||(o=s(n))){if(n=h(o||n),!p.rgba&&1!==n._rgba[3]){for(r="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&r&&r.style;)try{a=t.css(r,"backgroundColor"),r=r.parentNode}catch(e){}n=n.blend(a&&"transparent"!==a?a:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(e){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return m(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var t,i,n=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,s={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)t=n[i],"string"==typeof n[t]&&(s[e.camelCase(t)]=n[t]);else for(t in n)"string"==typeof n[t]&&(s[t]=n[t]);return s}function n(t,i){var n,s,r={};for(n in i)s=i[n],t[n]!==s&&(o[n]||!e.fx.step[n]&&isNaN(parseFloat(s))||(r[n]=s));return r}var s=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.effects.animateClass=function(t,o,r,a){var l=e.speed(o,r,a);return this.queue(function(){var o,r=e(this),a=r.attr("class")||"",c=l.children?r.find("*").andSelf():r;c=c.map(function(){var t=e(this);return{el:t,start:i.call(this)}}),o=function(){e.each(s,function(e,i){t[i]&&r[i+"Class"](t[i])})},o(),c=c.map(function(){return this.end=i.call(this.el[0]),this.diff=n(this.start,this.end),this}),r.attr("class",a),c=c.map(function(){var t=this,i=e.Deferred(),n=jQuery.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,i,n,s){return i?e.effects.animateClass.call(this,{add:t},i,n,s):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,i,n,s){return i?e.effects.animateClass.call(this,{remove:t},i,n,s):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(i,n,s,o,r){return"boolean"==typeof n||n===t?s?e.effects.animateClass.call(this,n?{add:i}:{remove:i},s,o,r):this._toggleClass(i,n):e.effects.animateClass.call(this,{toggle:i},n,s,o)},switchClass:function(t,i,n,s,o){return e.effects.animateClass.call(this,{add:i,remove:t},n,s,o)}})}(),function(){function s(t,i,n,s){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(s=n,n=i,i={}),e.isFunction(n)&&(s=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=s||i.complete,t}function o(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects.effect[t]&&(!i||!e.effects[t])}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(n+t[i],e[0].style[t[i]])},restore:function(e,i){var s,o;for(o=0;o<i.length;o++)null!==i[o]&&(s=e.data(n+i[o]),s===t&&(s=""),e.css(i[o],s))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(n),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,s){return s=s||{},e.each(i,function(e,i){var o=t.cssUnit(i);o[0]>0&&(s[i]=o[0]*n+o[1])}),s}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(o)&&o.call(s[0]),e.isFunction(t)&&t()}var s=e(this),o=n.complete,r=n.mode;(s.is(":hidden")?"hide"===r:"show"===r)?i():a.call(s[0],n,i)}var n=s.apply(this,arguments),o=n.mode,r=n.queue,a=e.effects.effect[n.effect],l=!a&&i&&e.effects[n.effect];return e.fx.off||!a&&!l?o?this[o](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):a?r===!1?this.each(t):this.queue(r||"fx",t):l.call(this,{options:n,duration:n.duration,callback:n.complete,mode:n.mode})},_show:e.fn.show,show:function(e){if(o(e))return this._show.apply(this,arguments);var t=s.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(o(e))return this._hide.apply(this,arguments);var t=s.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(o(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)},cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?i(2*e)/2:1-i(e*-2+2)/2}})}()}(jQuery),function(e,t){var i=/up|down|vertical/,n=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,s){var o,r,a,l=e(this),c=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(l,t.mode||"hide"),u=t.direction||"up",d=i.test(u),p=d?"height":"width",f=d?"top":"left",m=n.test(u),g={},v="show"===h;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),o=e.effects.createWrapper(l).css({overflow:"hidden"}),r=o[p](),a=parseFloat(o.css(f))||0,g[p]=v?r:0,m||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:r+a),v&&(o.css(p,0),m||o.css(f,a+r)),o.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===h&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),s()}})}}(jQuery),function(e,t){e.effects.effect.bounce=function(t,i){var n,s,o,r=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"effect"),c="hide"===l,h="show"===l,u=t.direction||"up",d=t.distance,p=t.times||5,f=2*p+(h||c?1:0),m=t.duration/f,g=t.easing,v="up"===u||"down"===u?"top":"left",b="up"===u||"left"===u,y=r.queue(),w=y.length;for((h||c)&&a.push("opacity"),e.effects.save(r,a),r.show(),e.effects.createWrapper(r),d||(d=r["top"===v?"outerHeight":"outerWidth"]()/3),h&&(o={opacity:1},o[v]=0,r.css("opacity",0).css(v,b?2*-d:2*d).animate(o,m,g)),c&&(d/=Math.pow(2,p-1)),o={},o[v]=0,n=0;n<p;n++)s={},s[v]=(b?"-=":"+=")+d,r.animate(s,m,g).animate(o,m,g),d=c?2*d:d/2;c&&(s={opacity:0},s[v]=(b?"-=":"+=")+d,r.animate(s,m,g)),r.queue(function(){c&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}),w>1&&y.splice.apply(y,[1,0].concat(y.splice(w,f+1))),r.dequeue()}}(jQuery),function(e,t){e.effects.effect.clip=function(t,i){var n,s,o,r=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"hide"),c="show"===l,h=t.direction||"vertical",u="vertical"===h,d=u?"height":"width",p=u?"top":"left",f={};e.effects.save(r,a),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),s="IMG"===r[0].tagName?n:r,o=s[d](),c&&(s.css(d,0),s.css(p,o/2)),f[d]=c?o:0,f[p]=c?0:o/2,s.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}})}}(jQuery),function(e,t){e.effects.effect.drop=function(t,i){var n,s=e(this),o=["position","top","bottom","left","right","opacity","height","width"],r=e.effects.setMode(s,t.mode||"hide"),a="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l?"pos":"neg",u={opacity:a?1:0};e.effects.save(s,o),s.show(),e.effects.createWrapper(s),n=t.distance||s["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&s.css("opacity",0).css(c,"pos"===h?-n:n),u[c]=(a?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+n,s.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e,t){e.effects.effect.explode=function(t,i){function n(){y.push(this),y.length===u*d&&s()}function s(){p.css({visibility:"visible"}),e(y).remove(),m||p.hide(),i()}var o,r,a,l,c,h,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=u,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),b=Math.ceil(p.outerHeight()/u),y=[];for(o=0;o<u;o++)for(l=g.top+o*b,h=o-(u-1)/2,r=0;r<d;r++)a=g.left+r*v,c=r-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-o*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(m?c*v:0),top:l+(m?h*b:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:h*b),opacity:m?1:0},t.duration||500,t.easing,n)}}(jQuery),function(e,t){e.effects.effect.fade=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:s},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(e,t){e.effects.effect.fold=function(t,i){var n,s,o=e(this),r=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"hide"),l="show"===a,c="hide"===a,h=t.size||15,u=/([0-9]+)%/.exec(h),d=!!t.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(o,r),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),s=p?[n.width(),n.height()]:[n.height(),n.width()],u&&(h=parseInt(u[1],10)/100*s[c?0:1]),l&&n.css(d?{height:0,width:h}:{height:h,width:0}),g[f[0]]=l?s[0]:h,v[f[1]]=l?s[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()})}}(jQuery),function(e,t){e.effects.effect.highlight=function(t,i){var n=e(this),s=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(n,t.mode||"show"),r={backgroundColor:n.css("backgroundColor")};"hide"===o&&(r.opacity=0),e.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,s),i()}})}}(jQuery),function(e,t){e.effects.effect.pulsate=function(t,i){var n,s=e(this),o=e.effects.setMode(s,t.mode||"show"),r="show"===o,a="hide"===o,l=r||"hide"===o,c=2*(t.times||5)+(l?1:0),h=t.duration/c,u=0,d=s.queue(),p=d.length;for(!r&&s.is(":visible")||(s.css("opacity",0).show(),u=1),n=1;n<c;n++)s.animate({opacity:u},h,t.easing),u=1-u;s.animate({opacity:u},h,t.easing),s.queue(function(){a&&s.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,c+1))),s.dequeue()}}(jQuery),function(e,t){e.effects.effect.puff=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"hide"),o="hide"===s,r=parseInt(t.percent,10)||150,a=r/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:o?r:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),s=e.extend(!0,{},t),o=e.effects.setMode(n,t.mode||"effect"),r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),a=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},h={y:"horizontal"!==a?r/100:1,x:"vertical"!==a?r/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==o&&(s.origin=l||["middle","center"],s.restore=!0),s.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),s.to={height:c.height*h.y,width:c.width*h.x,outerHeight:c.outerHeight*h.y,outerWidth:c.outerWidth*h.x},s.fade&&("show"===o&&(s.from.opacity=0,s.to.opacity=1),"hide"===o&&(s.from.opacity=1,s.to.opacity=0)),n.effect(s)},e.effects.effect.size=function(t,i){var n,s,o,r=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],h=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(r,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=r.css("position"),b=f?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&r.show(),n={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===t.mode&&"show"===p?(r.from=t.to||y,r.to=t.from||n):(r.from=t.from||("show"===p?y:n),r.to=t.to||("hide"===p?y:n)),o={from:{y:r.from.height/n.height,x:r.from.width/n.width},to:{y:r.to.height/n.height,x:r.to.width/n.width}},"box"!==m&&"both"!==m||(o.from.y!==o.to.y&&(b=b.concat(u),r.from=e.effects.setTransition(r,u,o.from.y,r.from),r.to=e.effects.setTransition(r,u,o.to.y,r.to)),o.from.x!==o.to.x&&(b=b.concat(d),r.from=e.effects.setTransition(r,d,o.from.x,r.from),r.to=e.effects.setTransition(r,d,o.to.x,r.to))),"content"!==m&&"both"!==m||o.from.y!==o.to.y&&(b=b.concat(h).concat(c),r.from=e.effects.setTransition(r,h,o.from.y,r.from),r.to=e.effects.setTransition(r,h,o.to.y,r.to)),e.effects.save(r,b),r.show(),e.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(s=e.effects.getBaseline(g,n),r.from.top=(n.outerHeight-r.outerHeight())*s.y,r.from.left=(n.outerWidth-r.outerWidth())*s.x,r.to.top=(n.outerHeight-r.to.outerHeight)*s.y,r.to.left=(n.outerWidth-r.to.outerWidth)*s.x),r.css(r.from),"content"!==m&&"both"!==m||(u=u.concat(["marginTop","marginBottom"]).concat(h),d=d.concat(["marginLeft","marginRight"]),c=a.concat(u).concat(d),r.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,c),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=e.effects.setTransition(i,u,o.from.y,i.from),i.to=e.effects.setTransition(i,u,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=e.effects.setTransition(i,d,o.from.x,i.from),i.to=e.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,c)})})),r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===p&&r.hide(),e.effects.restore(r,b),f||("static"===v?r.css({position:"relative",top:r.to.top,left:r.to.left}):e.each(["top","left"],function(e,t){r.css(t,function(t,i){var n=parseInt(i,10),s=e?r.to.left:r.to.top;return"auto"===i?s+"px":n+s+"px"})})),e.effects.removeWrapper(r),i()}})}}(jQuery),function(e,t){e.effects.effect.shake=function(t,i){var n,s=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(s,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,h=2*c+1,u=Math.round(t.duration/h),d="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=s.queue(),b=v.length;for(e.effects.save(s,o),s.show(),e.effects.createWrapper(s),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,s.animate(f,u,t.easing),n=1;n<c;n++)s.animate(m,u,t.easing).animate(g,u,t.easing);s.animate(m,u,t.easing).animate(f,u/2,t.easing).queue(function(){"hide"===r&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,h+1))),s.dequeue()}}(jQuery),function(e,t){e.effects.effect.slide=function(t,i){var n,s=e(this),o=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(s,t.mode||"show"),a="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,u={};e.effects.save(s,o),s.show(),n=t.distance||s["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(s).css({overflow:"hidden"}),a&&s.css(c,h?isNaN(n)?"-"+n:-n:n),u[c]=(a?h?"+=":"-=":h?"-=":"+=")+n,s.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e,t){e.effects.effect.transfer=function(t,i){var n=e(this),s=e(t.to),o="fixed"===s.css("position"),r=e("body"),a=o?r.scrollTop():0,l=o?r.scrollLeft():0,c=s.offset(),h={top:c.top-a,left:c.left-l,height:s.innerHeight(),width:s.innerWidth()},u=n.offset(),d=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:u.top-a,left:u.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(h,t.duration,t.easing,function(){d.remove(),i()})}}(jQuery),function(e,t){var i=!1;e.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var n=e(t.target).closest(".ui-menu-item");!i&&n.not(".ui-state-disabled").length&&(i=!0,this.select(t),n.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),i=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,s,o,r,a,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,s=this.previousFilter||"",o=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),o===s?r=!0:o=s+o,a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),n=r&&n.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(t.keyCode),a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev("a"),s=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",n.attr("id"))}),t=n.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,s,o,r,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=t.height(),s<0?this.activeMenu.scrollTop(o+s):s+a>r&&this.activeMenu.scrollTop(o+s-r+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,s;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-s<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,s;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+s>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this._value():(this._setOption("value",e),this)},_setOption:function(e,t){"value"===e&&(this.options.value=t,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(e,t)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}})}(jQuery),function(e,t){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,i=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var s=0;s<n.length;s++){var o=e.trim(n[s]),r="ui-resizable-"+o,a=e('<div class="ui-resizable-handle '+r+'"></div>');a.css({zIndex:i.zIndex}),"se"==o&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[o]=".ui-resizable-"+o,this.element.append(a)}}this._renderAxis=function(t){t=t||this.element;for(var i in this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var n=e(this.handles[i],this.element),s=0;s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth();var o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");t.css(o,s),this._proportionallyResize()}e(this.handles[i]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),i.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){i.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())}).mouseleave(function(){i.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var i=this.element;this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")}).insertAfter(i),i.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var i=!1;for(var n in this.handles)e(this.handles[n])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n=this.options,s=this.element.position(),o=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(o.is(".ui-draggable")||/absolute/.test(o.css("position")))&&o.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy();var r=i(this.helper.css("left")),a=i(this.helper.css("top"));n.containment&&(r+=e(n.containment).scrollLeft()||0,a+=e(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:a},this.size=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalPosition={left:r,top:a},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==l?this.axis+"-resize":l),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(e){var t=this.helper,i=(this.options,this.originalMousePosition),n=this.axis,s=e.pageX-i.left||0,o=e.pageY-i.top||0,r=this._change[n];if(!r)return!1;var a=r.apply(this,[e,s,o]);return this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(a=this._updateRatio(a,e)),a=this._respectSize(a,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(a),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var i=this.options,n=this;if(this._helper){var s=this._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),r=o&&e.ui.hasScroll(s[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.helper.width()-a,height:n.helper.height()-r},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,h=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;i.animate||this.element.css(e.extend(l,{top:h,left:c})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,s,o,r,a=this.options;r={minWidth:n(a.minWidth)?a.minWidth:0,maxWidth:n(a.maxWidth)?a.maxWidth:1/0,minHeight:n(a.minHeight)?a.minHeight:0,maxHeight:n(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,s=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),s>r.minHeight&&(r.minHeight=s),i<r.maxWidth&&(r.maxWidth=i),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(e){this.options;this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var i=(this.options,this.position),s=this.size,o=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==o&&(e.left=i.left+(s.width-e.width),e.top=null),"nw"==o&&(e.top=i.top+(s.height-e.height),e.left=i.left+(s.width-e.width)),e},_respectSize:function(e,t){var i=(this.helper,this._vBoundaries),s=(this._aspectRatio||t.shiftKey,this.axis),o=n(e.width)&&i.maxWidth&&i.maxWidth<e.width,r=n(e.height)&&i.maxHeight&&i.maxHeight<e.height,a=n(e.width)&&i.minWidth&&i.minWidth>e.width,l=n(e.height)&&i.minHeight&&i.minHeight>e.height;a&&(e.width=i.minWidth),l&&(e.height=i.minHeight),o&&(e.width=i.maxWidth),r&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,u=/sw|nw|w/.test(s),d=/nw|ne|n/.test(s);a&&u&&(e.left=c-i.minWidth),o&&u&&(e.left=c-i.maxWidth),l&&d&&(e.top=h-i.minHeight),r&&d&&(e.top=h-i.maxHeight);var p=!e.width&&!e.height;return p&&!e.left&&e.top?e.top=null:p&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var t=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var n=this._proportionallyResizeElements[i];if(!this.borderDif){var s=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],o=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];this.borderDif=e.map(s,function(e,t){var i=parseInt(e,10)||0,n=parseInt(o[t],10)||0;return i+n})}n.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var n=e.ui.ie6?1:0,s=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+s,height:this.element.outerHeight()+s,position:"absolute",left:this.elementOffset.left-n+"px",top:this.elementOffset.top-n+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,i){return{width:this.originalSize.width+t}},w:function(e,t,i){var n=(this.options,this.originalSize),s=this.originalPosition;return{left:s.left+t,width:n.width-t}},n:function(e,t,i){var n=(this.options,this.originalSize),s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!=t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,i){var n=e(this).data("resizable"),s=n.options,o=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof s.alsoResize||s.alsoResize.parentNode?o(s.alsoResize):s.alsoResize.length?(s.alsoResize=s.alsoResize[0],o(s.alsoResize)):e.each(s.alsoResize,function(e){o(e)})},resize:function(t,i){var n=e(this).data("resizable"),s=n.options,o=n.originalSize,r=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0},l=function(t,n){e(t).each(function(){var t=e(this),s=e(this).data("resizable-alsoresize"),o={},r=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(s[t]||0)+(a[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):e.each(s.alsoResize,function(e,t){l(e,t)})},stop:function(t,i){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,i){var n=e(this).data("resizable"),s=n.options,o=n._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),a=r&&e.ui.hasScroll(o[0],"left")?0:n.sizeDiff.height,l=r?0:n.sizeDiff.width,c={width:n.size.width-l,height:n.size.height-a},h=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(c,u&&h?{top:u,left:h}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,n){var s=e(this).data("resizable"),o=s.options,r=s.element,a=o.containment,l=a instanceof e?a.get(0):/parent/.test(a)?r.parent().get(0):a;if(l)if(s.containerElement=e(l),/document/.test(a)||a==document)s.containerOffset={left:0,top:0},s.containerPosition={left:0,top:0},s.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var c=e(l),h=[];e(["Top","Right","Left","Bottom"]).each(function(e,t){h[e]=i(c.css("padding"+t))}),s.containerOffset=c.offset(),s.containerPosition=c.position(),s.containerSize={height:c.innerHeight()-h[3],width:c.innerWidth()-h[1]};var u=s.containerOffset,d=s.containerSize.height,p=s.containerSize.width,f=e.ui.hasScroll(l,"left")?l.scrollWidth:p,m=e.ui.hasScroll(l)?l.scrollHeight:d;s.parentData={element:l,left:u.left,top:u.top,width:f,height:m}}},resize:function(t,i){var n=e(this).data("resizable"),s=n.options,o=(n.containerSize,n.containerOffset),r=(n.size,n.position),a=n._aspectRatio||t.shiftKey,l={top:0,left:0},c=n.containerElement;c[0]!=document&&/static/.test(c.css("position"))&&(l=o),r.left<(n._helper?o.left:0)&&(n.size.width=n.size.width+(n._helper?n.position.left-o.left:n.position.left-l.left),a&&(n.size.height=n.size.width/n.aspectRatio),n.position.left=s.helper?o.left:0),r.top<(n._helper?o.top:0)&&(n.size.height=n.size.height+(n._helper?n.position.top-o.top:n.position.top),a&&(n.size.width=n.size.height*n.aspectRatio),n.position.top=n._helper?o.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top;var h=Math.abs((n._helper?n.offset.left-l.left:n.offset.left-l.left)+n.sizeDiff.width),u=Math.abs((n._helper?n.offset.top-l.top:n.offset.top-o.top)+n.sizeDiff.height),d=n.containerElement.get(0)==n.element.parent().get(0),p=/relative|absolute/.test(n.containerElement.css("position"));d&&p&&(h-=n.parentData.left),h+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-h,a&&(n.size.height=n.size.width/n.aspectRatio)),u+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-u,a&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(t,i){var n=e(this).data("resizable"),s=n.options,o=(n.position,n.containerOffset),r=n.containerPosition,a=n.containerElement,l=e(n.helper),c=l.offset(),h=l.outerWidth()-n.sizeDiff.width,u=l.outerHeight()-n.sizeDiff.height;n._helper&&!s.animate&&/relative/.test(a.css("position"))&&e(this).css({left:c.left-r.left-o.left,width:h,height:u}),n._helper&&!s.animate&&/static/.test(a.css("position"))&&e(this).css({left:c.left-r.left-o.left,width:h,height:u})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,i){var n=e(this).data("resizable"),s=n.options,o=n.size;n.ghost=n.originalElement.clone(),n.ghost.css({opacity:.25,display:"block",position:"relative",height:o.height,width:o.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof s.ghost?s.ghost:""),n.ghost.appendTo(n.helper)},resize:function(t,i){var n=e(this).data("resizable");n.options;n.ghost&&n.ghost.css({position:"relative",height:n.size.height,width:n.size.width})},stop:function(t,i){var n=e(this).data("resizable");n.options;n.ghost&&n.helper&&n.helper.get(0).removeChild(n.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,i){var n=e(this).data("resizable"),s=n.options,o=n.size,r=n.originalSize,a=n.originalPosition,l=n.axis;s._aspectRatio||t.shiftKey;s.grid="number"==typeof s.grid?[s.grid,s.grid]:s.grid;var c=Math.round((o.width-r.width)/(s.grid[0]||1))*(s.grid[0]||1),h=Math.round((o.height-r.height)/(s.grid[1]||1))*(s.grid[1]||1);/^(se|s|e)$/.test(l)?(n.size.width=r.width+c,n.size.height=r.height+h):/^(ne)$/.test(l)?(n.size.width=r.width+c,n.size.height=r.height+h,n.position.top=a.top-h):/^(sw)$/.test(l)?(n.size.width=r.width+c,n.size.height=r.height+h,n.position.left=a.left-c):(n.size.width=r.width+c,n.size.height=r.height+h,n.position.top=a.top-h,n.position.left=a.left-c)}});var i=function(e){return parseInt(e,10)||0},n=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var i;this.refresh=function(){i=e(t.options.filter,t.element[0]),i.addClass("ui-selectee"),i.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=i.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var n=this.options;this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().andSelf().each(function(){var n=e.data(this,"selectable-item");if(n){var s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected");return n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1}})}},_mouseDrag:function(t){var i=this;if(this.dragged=!0,!this.options.disabled){var n=this.options,s=this.opos[0],o=this.opos[1],r=t.pageX,a=t.pageY;if(s>r){var l=r;r=s,s=l}if(o>a){var l=a;a=o,o=l}return this.helper.css({left:s,top:o,width:r-s,height:a-o}),this.selectees.each(function(){var l=e.data(this,"selectable-item");if(l&&l.element!=i.element[0]){var c=!1;"touch"==n.tolerance?c=!(l.left>r||l.right<s||l.top>a||l.bottom<o):"fit"==n.tolerance&&(c=l.left>s&&l.right<r&&l.top>o&&l.bottom<a),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,i._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&((t.metaKey||t.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),i._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&(t.metaKey||t.ctrlKey||l.startselected||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,i._trigger("unselecting",t,{unselecting:l.element}))))}}),!1}},_mouseStop:function(t){var i=this;this.dragged=!1;this.options;return e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e,t){var i=5;e.widget("ui.slider",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t,n,s=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(s.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),s.range&&(s.range===!0&&(s.values||(s.values=[this._valueMin(),this._valueMin()]),s.values.length&&2!==s.values.length&&(s.values=[s.values[0],s.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===s.range||"max"===s.range?" ui-slider-range-"+s.range:""))),n=s.values&&s.values.length||1,t=o.length;t<n;t++)a.push(r);this.handles=o.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).mouseenter(function(){s.disabled||e(this).addClass("ui-state-hover")}).mouseleave(function(){e(this).removeClass("ui-state-hover")}).focus(function(){s.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(t){var n,s,o,r,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),n=this._start(t,a),n===!1))return}switch(r=this.options.step,s=o=this.options.values&&this.options.values.length?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/i);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/i);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;o=this._trimAlignValue(s+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;o=this._trimAlignValue(s-r)}this._slide(t,a,o)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,s,o,r,a,l,c,h=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-h.values(t));s>i&&(s=i,o=e(this),r=t)}),u.range===!0&&this.values(1)===u.min&&(r+=1,o=e(this.handles[r])),a=this._start(t,r),a!==!1&&(this._mouseSliding=!0,this._handleIndex=r,o.addClass("ui-state-active").focus(),l=o.offset(),c=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,s,o;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),o=this._valueMin()+n*s,this._trimAlignValue(o)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,s,o;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&i<n)&&(i=n),i!==this.values(t)&&(s=this.values(),s[t]=i,o=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),n=this.values(t?0:1),o!==!1&&this.values(t,i,!0))):i!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:i}),o!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,s,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,s=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(s[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,i){var n,s=0;switch(e.isArray(this.options.values)&&(s=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<s;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,s,o,r=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,h["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](h,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(n=this.value(),s=this._valueMin(),o=this._valueMax(),i=o!==s?(n-s)/(o-s)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](h,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))}})}(jQuery),function(e,t){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var s=null;e(t.target).parents().each(function(){if(e.data(this,n.widgetName+"-item")==n)return s=e(this),!1});if(e.data(t.target,n.widgetName+"-item")==n&&(s=e(t.target)),!s)return!1;if(this.options.handle&&!i){var o=!1;if(e(this.options.handle,s).find("*").andSelf().each(function(){this==t.target&&(o=!0)}),!o)return!1}return this.currentItem=s,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,i,n){var s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",s.cursor)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(var o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,n=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=n=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=n=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-e(document).scrollTop()<i.scrollSensitivity?n=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(n=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed)),t.pageX-e(document).scrollLeft()<i.scrollSensitivity?n=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(n=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))),n!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var s=this.items.length-1;s>=0;s--){var o=this.items[s],r=o.item[0],a=this._intersectsWithPointer(o);if(a&&o.instance===this.currentContainer&&!(r==this.currentItem[0]||this.placeholder[1==a?"next":"prev"]()[0]==r||e.contains(this.placeholder[0],r)||"semi-dynamic"==this.options.type&&e.contains(this.element[0],r))){if(this.direction=1==a?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(o))break;this._rearrange(t,o),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=e.left,r=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,h=this.offset.click.left,u=n+c>a&&n+c<l&&t+h>o&&t+h<r;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?u:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=i&&n,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!s&&(this.floating?r&&"right"==r||"down"==o?2:1:o&&("down"==o?2:1))},_intersectsWithSides:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"==o&&n||"left"==o&&!n:s&&("down"==s&&i||"up"==s&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i=[],n=[],s=this._connectWith();if(s&&t)for(var o=s.length-1;o>=0;o--)for(var r=e(s[o]),a=r.length-1;a>=0;a--){var l=e.data(r[a],this.widgetName);l&&l!=this&&!l.options.disabled&&n.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}n.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var o=n.length-1;o>=0;o--)n[o][0].each(function(){i.push(this)});return e(i)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i=this.items,n=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],s=this._connectWith();if(s&&this.ready)for(var o=s.length-1;o>=0;o--)for(var r=e(s[o]),a=r.length-1;a>=0;a--){var l=e.data(r[a],this.widgetName);l&&l!=this&&!l.options.disabled&&(n.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(var o=n.length-1;o>=0;o--)for(var c=n[o][1],h=n[o][0],a=0,u=h.length;a<u;a++){var d=e(h[a]);d.data(this.widgetName+"-item",c),i.push({item:d,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var n=this.items[i];if(n.instance==this.currentContainer||!this.currentContainer||n.item[0]==this.currentItem[0]){var s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item;t||(n.width=s.outerWidth(),n.height=s.outerHeight());var o=s.offset();n.left=o.left,n.top=o.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var i=this.containers.length-1;i>=0;i--){var o=this.containers[i].element.offset();this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var i=t.options;if(!i.placeholder||i.placeholder.constructor==String){var n=i.placeholder;i.placeholder={element:function(){var i=e(document.createElement(t.currentItem[0].nodeName)).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return n||(i.style.visibility="hidden"),i},update:function(e,s){n&&!i.forcePlaceholderSize||(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}}t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var i=null,n=null,s=this.containers.length-1;s>=0;s--)if(!e.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(i&&e.contains(this.containers[s].element[0],i.element[0]))continue;i=this.containers[s],n=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",t,this._uiHash(this)),this.containers[s].containerCache.over=0);if(i)if(1===this.containers.length)this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1;else{for(var o=1e4,r=null,a=this.containers[n].floating?"left":"top",l=this.containers[n].floating?"width":"height",c=this.positionAbs[a]+this.offset.click[a],h=this.items.length-1;h>=0;h--)if(e.contains(this.containers[n].element[0],this.items[h].item[0])&&this.items[h].item[0]!=this.currentItem[0]){var u=this.items[h].item.offset()[a],d=!1;Math.abs(u-c)>Math.abs(u+this.items[h][l]-c)&&(d=!0,u+=this.items[h][l]),Math.abs(u-c)<o&&(o=Math.abs(u-c),r=this.items[h],this.direction=d?"up":"down")}if(!r&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[n],r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[n].element,!0),this._trigger("change",t,this._uiHash()),this.containers[n]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(""==n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var i=e(t.containment)[0],n=e(t.containment).offset(),s="hidden"!=e(i).css("overflow");this.containment=[n.left+(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0)-this.margins.top,n.left+(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"==t?1:-1,s=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(t){var i=this.options,n="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var o=t.pageX,r=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid)){var a=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1];r=this.containment&&(a-this.offset.click.top<this.containment[1]||a-this.offset.click.top>this.containment[3])?a-this.offset.click.top<this.containment[1]?a+i.grid[1]:a-i.grid[1]:a;var l=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0];o=this.containment&&(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l-this.offset.click.left<this.containment[0]?l+i.grid[0]:l-i.grid[0]:l}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s==this.counter&&this.refreshPositions(!n)})},_clear:function(t,i){this.reverting=!1;var n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var s in this._storedCSS)"auto"!=this._storedCSS[s]&&"static"!=this._storedCSS[s]||(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!i&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||i||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(i||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var s=this.containers.length-1;s>=0;s--)i||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[s])),this.containers[s].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){this._trigger("beforeStop",t,this._uiHash());for(var s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(var s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var s=i.attr(n);void 0!==s&&s.length&&(t[n]=s)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return this._start(t)!==!1&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&this._trigger("start",e)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._spin((e||1)*this.options.step)},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._spin((e||1)*-this.options.step)},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function i(){return++s}function n(e){return e.hash.length>1&&e.href.replace(o,"")===location.href.replace(o,"").replace(/\s/g,"%20")}var s=0,o=/#.*$/;e.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options,n=i.active,s=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),null===n&&(s&&this.tabs.each(function(t,i){if(e(i).attr("aria-controls")===s)return n=t,!1}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&n!==-1||(n=!!this.tabs.length&&0)),n!==!1&&(n=this.tabs.index(this.tabs.eq(n)),n===-1&&(n=!i.collapsible&&0)),i.active=n,!i.collapsible&&i.active===!1&&this.anchors.length&&(i.active=0),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),s=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:s=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,s),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>s&&(t=0),t<0&&(t=s),t}for(var s=this.tabs.length-1;e.inArray(n(),this.options.disabled)!==-1;)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var o,r,a,l=e(s).uniqueId().attr("id"),c=e(s).closest("li"),h=c.attr("aria-controls");n(s)?(o=s.hash,r=t.element.find(t._sanitizeSelector(o))):(a=t._tabId(c),o="#"+a,r=t.element.find(o),r.length||(r=t._createPanel(a),r.insertAfter(t.panels[i-1]||t.tablist)),r.attr("aria-live","polite")),r.length&&(t.panels=t.panels.add(r)),h&&c.data("ui-tabs-aria-controls",h),c.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),r.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||e.inArray(n,t)!==-1?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n,s=this.element.parent();"fill"===t?(e.support.minHeight||(n=s.css("overflow"),s.css("overflow","hidden")),i=s.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),n&&s.css("overflow",n),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,s=e(t.currentTarget),o=s.closest("li"),r=o[0]===n[0],a=r&&i.collapsible,l=a?e():this._getPanelForTab(o),c=n.length?this._getPanelForTab(n):e(),h={oldTab:n,oldPanel:c,newTab:a?e():o,newPanel:l};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||this._trigger("beforeActivate",t,h)===!1||(i.active=!a&&this.tabs.index(o),this.active=r?e():o,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),t),this._toggle(t,h))},_toggle:function(t,i){function n(){o.running=!1,o._trigger("activate",t,i)}function s(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&o.options.show?o._show(r,o.options.show,n):(r.show(),n())}var o=this,r=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),s()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&a.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===t)n=!0;else{if(i=this._getIndex(i),e.inArray(i,n)!==-1)return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var s=this,o=this.tabs.eq(t),r=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),l={tab:o,panel:a};n(r[0])||(this.xhr=e.ajax(this._ajaxSettings(r,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){a.html(e),s._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&s.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr},1)})))},_ajaxSettings:function(t,i,n){var s=this;return{url:t.attr("href"),beforeSend:function(t,o){return s._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:o},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.uiBackCompat!==!1&&(e.ui.tabs.prototype._ui=function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},e.widget("ui.tabs",e.ui.tabs,{url:function(e,t){this.anchors.eq(e).attr("href",t)}}),e.widget("ui.tabs",e.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var t=this;this._on({tabsbeforeload:function(i,n){return e.data(n.tab[0],"cache.tabs")?void i.preventDefault():void n.jqXHR.success(function(){t.options.cache&&e.data(n.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(t,i,n){var s=this.options.ajaxOptions;return e.extend({},s,{error:function(e,t){try{s.error(e,t,n.tab.closest("li").index(),n.tab[0])}catch(e){}}},this._superApply(arguments))},_setOption:function(e,t){"cache"===e&&t===!1&&this.anchors.removeData("cache.tabs"),this._super(e,t)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(e){this.anchors.eq(e).removeData("cache.tabs"),this._superApply(arguments)}}),e.widget("ui.tabs",e.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),e.widget("ui.tabs",e.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(e,t){if(e.target===this.element[0]&&this.options.spinner){var i=t.tab.find("span"),n=i.html();i.html(this.options.spinner),t.jqXHR.complete(function(){i.html(n)})}}})}}),e.widget("ui.tabs",e.ui.tabs,{options:{enable:null,disable:null},enable:function(t){var i,n=this.options;(t&&n.disabled===!0||e.isArray(n.disabled)&&e.inArray(t,n.disabled)!==-1)&&(i=!0),this._superApply(arguments),i&&this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t]))},disable:function(t){var i,n=this.options;(t&&n.disabled===!1||e.isArray(n.disabled)&&e.inArray(t,n.disabled)===-1)&&(i=!0),this._superApply(arguments),i&&this._trigger("disable",null,this._ui(this.anchors[t],this.panels[t]))}}),e.widget("ui.tabs",e.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(i,n,s){s===t&&(s=this.anchors.length);var o,r,a=this.options,l=e(a.tabTemplate.replace(/#\{href\}/g,i).replace(/#\{label\}/g,n)),c=i.indexOf("#")?this._tabId(l):i.replace("#","");return l.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),l.attr("aria-controls",c),o=s>=this.tabs.length,r=this.element.find("#"+c),r.length||(r=this._createPanel(c),o?s>0?r.insertAfter(this.panels.eq(-1)):r.appendTo(this.element):r.insertBefore(this.panels[s])),r.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),o?l.appendTo(this.tablist):l.insertBefore(this.tabs[s]),a.disabled=e.map(a.disabled,function(e){return e>=s?++e:e}),this.refresh(),1===this.tabs.length&&a.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[s],this.panels[s])),this},remove:function(t){t=this._getIndex(t);var i=this.options,n=this.tabs.eq(t).remove(),s=this._getPanelForTab(n).remove();return n.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(t+(t+1<this.anchors.length?1:-1)),i.disabled=e.map(e.grep(i.disabled,function(e){return e!==t}),function(e){return e>=t?--e:e}),this.refresh(),this._trigger("remove",null,this._ui(n.find("a")[0],s[0])),this}}),e.widget("ui.tabs",e.ui.tabs,{length:function(){return this.anchors.length}}),e.widget("ui.tabs",e.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(t){var n=t.is("li")?t.find("a[href]"):t;return n=n[0],e(n).closest("li").attr("aria-controls")||n.title&&n.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+i()}}),e.widget("ui.tabs",e.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(t){return e(this.options.panelTemplate).attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),e.widget("ui.tabs",e.ui.tabs,{_create:function(){var e=this.options;null===e.active&&e.selected!==t&&(e.active=e.selected!==-1&&e.selected),this._super(),e.selected=e.active,e.selected===!1&&(e.selected=-1)},_setOption:function(e,t){if("selected"!==e)return this._super(e,t);var i=this.options;this._super("active",t!==-1&&t),i.selected=i.active,i.selected===!1&&(i.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),e.widget("ui.tabs",e.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(e,t,i){var n,s,o=this._superApply(arguments);return!!o&&("beforeActivate"===e?(n=i.newTab.length?i.newTab:i.oldTab,s=i.newPanel.length?i.newPanel:i.oldPanel,o=this._super("select",t,{tab:n.find(".ui-tabs-anchor")[0],panel:s[0],index:n.closest("li").index()})):"activate"===e&&i.newTab.length&&(o=this._super("show",t,{tab:i.newTab.find(".ui-tabs-anchor")[0],panel:i.newPanel[0],index:i.newTab.closest("li").index()})),o)}}),e.widget("ui.tabs",e.ui.tabs,{select:function(e){if(e=this._getIndex(e),e===-1){if(!this.options.collapsible||this.options.selected===-1)return;e=this.options.selected}this.anchors.eq(e).trigger(this.options.event+this.eventNamespace)}}),function(){var t=0;e.widget("ui.tabs",e.ui.tabs,{options:{cookie:null},_create:function(){var e,t=this.options;null==t.active&&t.cookie&&(e=parseInt(this._cookie(),10),e===-1&&(e=!1),t.active=e),this._super()},_cookie:function(i){var n=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++t)];return arguments.length&&(n.push(i===!1?-1:i),n.push(this.options.cookie)),e.cookie.apply(null,n)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),e.widget("ui.tabs",e.ui.tabs,{_trigger:function(t,i,n){var s=e.extend({},n);return"load"===t&&(s.panel=s.panel[0],s.tab=s.tab.find(".ui-tabs-anchor")[0]),this._super(t,i,s)}}),e.widget("ui.tabs",e.ui.tabs,{options:{fx:null},_getFx:function(){var t,i,n=this.options.fx;return n&&(e.isArray(n)?(t=n[0],i=n[1]):t=i=n),n?{show:i,hide:t}:null},_toggle:function(e,t){function i(){s.running=!1,s._trigger("activate",e,t)}function n(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.show?o.animate(a.show,a.show.duration,function(){i()}):(o.show(),i())}var s=this,o=t.newPanel,r=t.oldPanel,a=this._getFx();return a?(s.running=!0,void(r.length&&a.hide?r.animate(a.hide,a.hide.duration,function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()))):this._super(e,t)}}))}(jQuery),function(e){function t(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))}function i(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),s=e.inArray(i,n);s!==-1&&n.splice(s,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")}var n=0;e.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return e(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var s=e.Event("blur");s.target=s.currentTarget=n[0],t.close(s,!0)}),this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,s=this,o=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){e.data("ui-tooltip-open")&&s._delay(function(){t&&(t.type=o),this._open(t,e,i)})}),void(i&&this._open(t,e,i)))},_open:function(i,n,s){function o(e){c.of=e,r.is(":hidden")||r.position(c)}var r,a,l,c=e.extend({},this.options.position);if(s){if(r=this._find(n),r.length)return void r.find(".ui-tooltip-content").html(s);n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),t(n,r.attr("id")),r.find(".ui-tooltip-content").html(s),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):r.position(e.extend({of:n},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(l=setInterval(function(){r.is(":visible")&&(o(c.of),clearInterval(l))},e.fx.interval)),this._trigger("open",i,{tooltip:r}),a={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(r)}},i&&"mouseover"!==i.type||(a.mouseleave="close"),i&&"focusin"!==i.type||(a.focusout="close"),this._on(!0,n,a)}},close:function(t){var n=this,s=e(t?t.currentTarget:this.element),o=this._find(s);this.closing||(s.data("ui-tooltip-title")&&s.attr("title",s.data("ui-tooltip-title")),i(s),o.stop(!0),this._hide(o,this.options.hide,function(){n._removeTooltip(e(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:o}),this.closing=!1)},_tooltip:function(t){var i="ui-tooltip-"+n++,s=e("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(s),s.appendTo(this.document[0].body),e.fn.bgiframe&&s.bgiframe(),this.tooltips[i]=t,s},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var s=e.Event("blur");s.target=s.currentTarget=n[0],t.close(s,!0),e("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),function($){$.extend({metadata:{defaults:{type:"attr",name:"data",cre:/({.*})/,single:"metadata"},setType:function(e,t){this.defaults.type=e,this.defaults.name=t},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);settings.single.length||(settings.single="metadata");var data=$.data(elem,settings.single);if(data)return data;data="{}";var getData=function(data){return"string"!=typeof data?data:void(data.indexOf("{")<0&&(data=eval("("+data+")")))},getObject=function(data){return"string"!=typeof data?data:data=eval("("+data+")")};if("html5"==settings.type){var object={};$(elem.attributes).each(function(){var e=this.nodeName;return!e.match(/^data-/)||(e=e.replace(/^data-/,""),void(object[e]=getObject(this.nodeValue)))})}else{if("class"==settings.type){var m=settings.cre.exec(elem.className);m&&(data=m[1])}else if("elem"==settings.type){if(!elem.getElementsByTagName)return;var e=elem.getElementsByTagName(settings.name);e.length&&(data=$.trim(e[0].innerHTML))}else if(void 0!=elem.getAttribute){var attr=elem.getAttribute(settings.name);attr&&(data=attr)}object=getObject(data.indexOf("{")<0?"{"+data+"}":data)}return $.data(elem,settings.single,object),object}}}),$.fn.metadata=function(e){return $.metadata.get(this[0],e)}}(jQuery),jQuery(function(e){function t(){var t=e("<div>").css({width:"100px",height:"100px",overflow:"scroll"}).appendTo("body"),i=t.width()-t[0].scrollWidth;t.remove(),e.ZContextMenu.scrollWidth=i}function i(e){return!e.fromDataBinding}function n(t,n){if(n||(n={}),!t.button||0==t.button){var s=c(t);if(!s.is("input[type=file]")){i(n)&&a(s);var o=d(t,"popup");if(!o)return o;var o=d(t,"popover");return o&&(o=d(t,"toolbar"))?e.ZContextMenu.colorpaletteRegistered?d(t,"colorpalette"):void 0:o}}}function s(e,t){e.data=t,t&&t.target&&(e.target=t.target);var i={left:e.clientX,top:e.clientY};return d(e,"context",i,!0)}function o(e){return e.parent().is("button")?e.parent():e}function r(t,i){var n=!1;return e.each(t,function(e,t){if(t==i[0])return n=!0,!1}),n}function a(e,t,i){setTimeout(function(){l(e,t,i)},10)}function l(t,i,n){var s=!i;i=i?i:{};var o="data-association",l="["+o+"]";if(t=t.is(l)?t:e(t.parents(l).get(0)),!(!t.length||i&&void 0==i.disabled&&t.is(":disabled"))){if(n){if(r(n,t))return}else n=[];n.push(t[0]);var c=t.attr(o),h=e(c);h.each(function(o,l){if(l!=t[0]&&!r(n,e(l))){l=e(l);var c={fromDataBinding:!0};if("undefined"!=typeof i.visible)if(l.is("input, button")&&l.button("widget").hasClass("ui-button"))l=l.parent().hasClass("ui-button-splitbutton")?l.parent():l.button("widget"),l[i.visible?"show":"hide"]();else{var h=l.closest(".ui-zmenu");h.length?h.zmenu((i.visible?"show":"hide")+"MenuItem","#"+l.attr("id")):l[i.visible?"show":"hide"]()}if("undefined"!=typeof i.disabled)if(l.is("input, button")&&l.button("widget").hasClass("ui-button"))l.button(i.disabled?"disable":"enable");else{var h=l.closest(".ui-zmenu");h.length?h.zmenu((i.disabled?"disable":"enable")+"MenuItems","#"+l.attr("id")):l[i.disabled?"disable":"enable"](!1,!0,c)}if("undefined"!=typeof i.checked){if(t.is("[checked]")||t.is("input[type=checkbox]")||t.is("input[type=radio]")){var u=t.is(":checked");if(l.is(".ui-zmenu-item")){l.data("checked",u);var h=l.closest(".ui-zmenu");h.zmenu("check",l,u)}else l.attr("checked",u)}l.is("input, button")&&(l.data("ui-zbuttonset")?l.buttonset("refresh"):l.data("ui-zbutton")&&l.button("refresh"))}s&&l.trigger("click",c),a(l,i,n)}})}}function c(t){var i=t.data&&t.data.target?t.data.target:t.srcElement;if(i){var n=i.correspondingElement;n&&(i=e(n))}else i=e(t.target);return e(i)}function h(e){e.stopPropagation(),e.preventDefault()}function u(e){return e.is("input,button,textarea,select")?e.is(":disabled"):e.hasClass("ui-state-disabled")}function d(t,i,n,s){var r=e.ZContextMenu.currentMenu;if(!e.ZContextMenu.hideMenu(t))return!1;e.ZContextMenu.colorpaletteRegistered&&"colorpalette"!=i&&e.ZContextMenu.colorpalette.zcolorpalette("hide");var a=c(t);a=o(e(a));var l=p(a,i),d=l.attr;if(a=l.element,u(a))return!0;if(d){var m=e("#"+d);if("toolbar"==i&&!m.length){var g=e(a.parent().metadata().relatedTabPane);g.hasClass("ui-ztoolbar-panel")&&(m=g.ztoolbar("getToolbarAsMenu"),m.attr("relativeto","parent"),e(a).attr("popup",e(a).attr("toolbar")).removeAttr("toolbar"))}if(r&&r[0]==m[0]&&this._lastVisitedMenu[0]===a[0]&&m.metadata().toggle)return h(t),!1;if(this._lastVisitedMenu=a,"colorpalette"==i){var v=e(l.element).hasClass("ui-zcolorchooser")?e(l.element).prev():e(l.element),a=e(l.element),b=v.metadata().colorpaletteOptions?v.metadata().colorpaletteOptions:{},y=e.data(a[0],"selectedColor");y=!(!y||"transparent"==y)&&y;var w=e.ZContextMenu.colorpalette;b.relativeto?e(w).attr("relativeto",b.relativeto):e(w).removeAttr("relativeto");var _=f(w,a);options=e.extend({},b,{relativeToEle:_,selectedColor:y}),e.ZContextMenu.displayColorPalette(a,options,!0)}else"popover"==i?(options=e.extend({},m.metadata()),e.ZContextMenu._lastVisitedPopover&&(e("#"+e.ZContextMenu._lastVisitedPopover.attr("popover")).zpopover("close"),e.ZContextMenu._lastVisitedPopover=void 0),void 0!==e.ZContextMenu._lastVisitedPopover&&e.ZContextMenu._lastVisitedPopover[0]===a[0]||(m.off("zpopoveropen.zcontext").on("zpopoveropen.zcontext",function(t,i){i.skipHighlightTarget||e.ZContextMenu.highlightItem(e(i.targetElement))}).off("zpopoverclose.zcontext").on("zpopoverclose.zcontext",function(t,i){i.skipHighlightTarget||e.ZContextMenu.highlightItem(e(i.targetElement),!0)}),m.data("zpopover")||m.zpopover(options),m.zpopover("open",a)),e.ZContextMenu._lastVisitedPopover=a):e.ZContextMenu.showMenu(m,a,n,t,s);return h(t),!1}return!0}function p(t,i){var n="["+i+"]";return t=t.is(n)?t:e(t.parents(n).get(0)),{element:t,attr:t.attr(i)}}function f(e,t){var i=e.attr("relativeto");if(i){for(var n=i.split("."),s=t,o=0;o<n.length;o++){try{var r=s[n[o]]();if(!r||!r.length)break}catch(e){break}s=r}s&&(t=s)}return t}function m(t,i,n,s){var o=t.attr("position");i=f(t,i);var r=i.offset(),a=i.outerHeight(),l=i.outerWidth(),c=t.outerHeight(),h=t.outerWidth();o||(o="after_start");var u=void 0!==s&&s.length?s.width():e.ZContextMenu.windowWidth,d=void 0!==s&&s.length?s.height():e.ZContextMenu.windowHeight;switch(o){case"after_start":r.top+=a;break;case"after_end":r.top+=a,r.left+=l;break;case"before_start":r.top-=c;break;case"before_end":r.top-=c,r.left+=l;break;case"start_before":r.left-=h;break;case"start_after":r.left-=h,r.top+=a;break;case"end_before":r.left+=l,r.top+c>=d&&(r.top+=a);break;case"end_after":r.left+=l,r.top+=a;break;case"end_after_end":r.top+=a,r.left=r.left+l-h;break;case"overlap":break;case"after_pointer":r={left:n.clientX+1,top:n.clientY+1};break;case"adjustable":var p=r.top+a,m=t.data("height")<c?t.data("height")+2:c,g=p+c-e.ZContextMenu.windowHeight;if(g>0){var v=r.top-m;v=v>0?v:0,v>=e.ZContextMenu.windowElement.scrollTop()&&(p=v)}r.top=p}return r.left+h>=u&&(r.left=r.left-(r.left+h-u+2)),r}var g="zcontextmenu";_lastVisited=void 0,_lastVisitedMenu=void 0,_lastVisitedPopover=void 0,e.ZContextMenu=function(i){bindEvents(e(i)),t()},e.ZContextMenu.clearTimout=function(){clearTimeout(e.ZContextMenu.ctimeout),e.ZContextMenu.ctimeout=void 0},e.ZContextMenu.hidingMenu=!0,bindEvents=function(t){t.on("click."+g,function(t,i){var s=e(t.target);s.closest(".ui-zmenu, .ui-zmenu-scroll-top, .ui-zmenu-scroll-bottom").length||(e.ZContextMenu.isColorpaletteShowing=!1,e.ZContextMenu.hidingMenu=!0,setTarget(t),n(t,i))}),t.on("contextmenu."+g,function(e,t){setTarget(e),s(e,t)}),e(".ui-dialog").on("dialogdragstart."+g,function(e){n(e)}),e.ZContextMenu._documentElement.on("element_state_changed",function(t,n){i(n)&&a(e(t.target),n)}).on("menuitemclicked",function(e,t){i(t)&&a(t.menuitem)}).on("tabselect",function(e,t){i(t)&&a(t.tab)})},setTarget=function(e){e.target.correspondingElement&&(e.target=e.target.correspondingElement)},e.ZContextMenu.getMenuPosition=function(e,t,i,n){return m(e,t,i,n)},e.ZContextMenu.highlightItem=function(e,t){if(!e.is(".ui-zcolorchooser")&&0!=e.metadata().highlightOnMenuShow){var i=t?"removeClass":"addClass",n="ui-state-highlight",s="ui-state-open";e[i](n);var o=e.parent();o&&(o[i](s),o.is(".ui-button-splitbutton")&&o[i](n))}},e.ZContextMenu.showMenu=function(t,i,n,s,o){if(!t||!t.length)return!1;var r=void 0,a=t.metadata();a&&(r=a.componentOptions),o||t.one("menushow.zcontext",function(t,i){i.skipHighlightTarget||e.ZContextMenu.highlightItem(e(i.target))}),t.zmenu(r),n||(n=m(t,i,s));var l=n.left,c=n.top;return e.ZContextMenu.currentMenu=t,t.zmenu("show",{left:l,top:c,currentTarget:s.target,target:i,event:s,isRightClick:o}),e.ZContextMenu._isMenuShowing=!0,e.ZContextMenu.hidingMenu=!1,t.one("menuhide.zcontext",function(t,i){var n=e(i.currentTarget).closest(".ui-button").length?e(i.currentTarget).closest(".ui-button"):e(i.target);e.ZContextMenu.highlightItem(n,!0),e.ZContextMenu.currentMenu=void 0,e.ZContextMenu._isMenuShowing=!1}),!0},e.ZContextMenu.hideMenu=function(t){return!((e.ZContextMenu.currentMenu&&e.ZContextMenu._isMenuShowing||e.ZContextMenu.colorpalette&&e.ZContextMenu.colorpalette.is(":visible"))&&(e.ZContextMenu.currentMenu&&e.ZContextMenu.currentMenu.hasClass("ui-zmenu")?e.ZContextMenu.currentMenu.zmenu("hide",void 0,t):e.ZContextMenu.isColorpaletteShowing=!0,e.ZContextMenu._isMenuShowing=!1,e.ZContextMenu.currentMenu=void 0,t&&e.ZContextMenu.consumeEventOnMenuHide))||(t.stopPropagation(),t.preventDefault(),!1)},e.ZContextMenu._tabDropdownClicked=void 0,e.ZContextMenu.currentMenu=void 0,e.ZContextMenu._colorpaletteHoveredMenuItem=void 0,e.ZContextMenu._isMenuShowing=!1,e.ZContextMenu.colorpalette=void 0,e.ZContextMenu.windowElement=e(window),e.ZContextMenu._documentElement=e(document),e.ZContextMenu.windowWidth=e.ZContextMenu.windowElement.width(),e.ZContextMenu.windowHeight=e.ZContextMenu.windowElement.height(),e.ZContextMenu.colorpaletteRegistered=!1,e.ZContextMenu.displayMenuComponents=function(t,i){e.ZContextMenu._colorpaletteHoveredMenuItem&&(e.ZContextMenu.displayColorPalette(void 0,void 0,!1),e.ZContextMenu._colorpaletteHoveredMenuItem=void 0);var n=i.menuitem.metadata();if(n.colorpalette){var s=e(i.menuitem),o=e(n.relatedButton);o=o.data("menuButton")?o.data("menuButton"):o,s.addClass("ui-state-hover");var r=n.colorpaletteOptions?n.colorpaletteOptions:{},a=e.data(e(o)[0],"selectedColor");a=!(!a||"transparent"==a)&&a;var l=e.ZContextMenu.colorpalette;r.relativeto?l.attr("relativeto",r.relativeto):l.removeAttr("relativeto"),options=e.extend({},r,{relativeToEle:o,selectedColor:a}),e.ZContextMenu.colorpalette.one("colorpaletteshow",function(t,i){var n=e.ZContextMenu.adjustElementPosition({bufferWidth:s.width()+l.width(),bufferHeight:l.height()-s.outerHeight(),top:s.offset().top,left:s.offset().left+s.width(),width:l.width(),height:l.height()});e.ZContextMenu.colorpalette.addClass("ui-zcolorpalette-menu-popover"),e.ZContextMenu.colorpalette.css({top:n.top,left:n.left})}),e.ZContextMenu._colorpaletteHoveredMenuItem=s,e.ZContextMenu.colorpalette.one("mouseenter",function(t,i){e.ZContextMenu._colorpaletteHoveredMenuItem&&e.ZContextMenu._colorpaletteHoveredMenuItem.addClass("ui-state-hover")}),s.one("mouseleave",function(t,i){l.is(":visible")&&e.ZContextMenu._colorpaletteHoveredMenuItem&&e.ZContextMenu._colorpaletteHoveredMenuItem.addClass("ui-state-hover")}),l.zcolorpalette("show",o,options)}},e.ZContextMenu.adjustElementPosition=function(t){return e.ZContextMenu.windowWidth-(t.left+t.width+e.ZContextMenu.scrollWidth)<5&&(t.left=t.left-t.bufferWidth),e.ZContextMenu.windowHeight-(t.top+t.height+e.ZContextMenu.scrollWidth)<5&&(t.top=t.top-t.bufferHeight,t.top<0&&(t.top=e.ZContextMenu.windowHeight-t.height-5)),t},e.ZContextMenu.registerColorpalette=function(t){e.ZContextMenu.colorpalette||(e.ZContextMenu.colorpalette=e("<div>"),e("body").append(e.ZContextMenu.colorpalette),e.ZContextMenu.colorpalette.zcolorpalette(t),e.ZContextMenu.colorpalette.on("colorpalettecolorselected",function(t,i){e(i.colorpicker).trigger("colorpalettecolorselected",i),e.data(e(i.colorpicker)[0],"selectedColor",i.color)}).on("colorpalettehover",function(t,i){e(i.colorpicker).trigger("colorpalettehover",i)}),e.ZContextMenu.colorpaletteRegistered=!0)},e.ZContextMenu.displayColorPalette=function(t,i,n){var s=e.ZContextMenu.colorpalette;s&&(setTimeout(function(){n?s.focus():s.focusout()},10),n?s.one("colorpaletteshow",function(t,i){e(i.colorpicker).trigger("colorpaletteshow",i),e.ZContextMenu.highlightItem(e(i.colorpicker))}).one("colorpalettehide",function(t,i){e(i.colorpicker).trigger("colorpalettehide",i),e.ZContextMenu.highlightItem(e(i.colorpicker),!0)}):e.ZContextMenu._colorpaletteHoveredMenuItem&&e.ZContextMenu._colorpaletteHoveredMenuItem.removeClass("ui-state-hover"),e.ZContextMenu.isColorpaletteShowing&&this._lastVisited&&this._lastVisited[0]===t[0]&&(n=!1),this._lastVisited=t,s.zcolorpalette(n?"show":"hide",t,i))},e.ZContextMenu.closePopover=function(){e.ZContextMenu._lastVisitedPopover&&(e("#"+e.ZContextMenu._lastVisitedPopover.attr("popover")).zpopover("close"),e.ZContextMenu._lastVisitedPopover=void 0)},e.fn.zcontextmenu=function(){e.ZContextMenu(this),e.ZContextMenu.windowElement.on("resize."+g,e.debounce(500,function(t){e.ZContextMenu.windowWidth=e.ZContextMenu.windowElement.width(),e.ZContextMenu.windowHeight=e.ZContextMenu.windowElement.height()})).on("resize.z"+g,function(){e.ZContextMenu.hideMenu(),e.ZContextMenu.closePopover()})},e(document).zcontextmenu()}),function(e){"undefined"!=typeof ZComponents&&void 0!==typeof ZComponents||(ZComponents=function(){ZComponents.isInited=!0}),ZComponents.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},ZComponents.retrieveOptions=function(e){var t=e.attr("data");return object={},t&&(object=ZComponents._getObject(t.indexOf("{")<0?"{"+t+"}":t)),object?object.componentOptions?object.componentOptions:object:{}},ZComponents._getObject=function(e){if("string"!=typeof e)return e;var t=e.replace(/'/g,'"');return e=JSON.parse(t)},ZComponents._trigger=function(t,i,n,s){var o,r,a=t.options[i];if(s=s||{},n=e.Event(n),n.type=(i===t.widgetEventPrefix?i:t.widgetEventPrefix+i).toLowerCase(),n.target=t.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return t.element.trigger(n,s),!(e.isFunction(a)&&a.apply(t.element[0],[n].concat(s))===!1||n.isDefaultPrevented())},ZComponents._getString=function(t,i,n){return e.i18n?e.i18n(n?n:"zbutton",i):t.options.keys[i]},ZComponents._changeOptions=function(t,i,n){if(void 0!=i&&void 0!==n)t.options[i]=n;else if("object"==typeof i){var s=t;e.each(i,function(e,t){s.options[e]=t})}else{if(void 0===i&&void 0===n)return t.options;if(void 0!==i&&void 0===n)return t.options[i]}}}(jQuery),jQuery(function(e){var t={},i=function(i){e.isArray(i)&&(i=i[0]),t=i},n="key",s="module",o="service",r=function(e){var t=e.split(".",2),i={};if(2!=t.length)return i[n]=e,i;i[o]=t[0],i[s]=t[1];var r=t[0].length+t[1].length+1,a=e.indexOf(".",r);return i[n]=e.substring(a+1,e.length),i},a=function(e,i,n){var s=t[e],o="[noi18n] "+i;if(s){var r=s[i];r&&(o=l(r,n))}return o},l=function(e,t){if("undefined"!=typeof t&&t.length>0)for(var i=0;i<t.length;i++){var n=new RegExp("\\{"+i+"\\}","gi");e=e.replace(n,t[i])}return e},c=function(e,t){var i=r(e);return a(i[s],i[n],t)};e.i18n=function(){var e=arguments,t=e[0];return 1==e.length&&"object"==typeof t?i(t):e.length>=1?"string"==typeof e[1]?a(e[0],e[1],e[2]):c(t,e[1]):void 0}}),jQuery(function(e){var t={zadvancedcolorpalette:{"hue.label":"H","saturation.label":"S","value.label":"V","red.label":"R","green.label":"G","blue.label":"B"},zcolorpalette:{"standardcolors.label":"Standard Colors","recentcolors.label":"Recent Colors","morecolors.label":"More Colors ","advancedcolorpalette.label":"Advanced Color Palette","darken.label":"Darken","lighten.label":"Lighten","defaultcolor.label":"Default Color","nofill.label":"No Fill"},zinoutlist:{"buttons.add":"Add","buttons.remove":"Remove"},zgradientslider:{"addstoptext.label":"Add Stop","removestoptext.label":"Remove Stop","stopshint.label":"(Click on the Stops to change value)","stopcolortext.label":"Stop Color:","transparencytext.label":"Transparency:","positiontext.label":"Position:","directiontext.label":"Direction:","angletext.label":"Angle:","gradientfilltext.label":"Gradient Fill:","colorpresets.label":"Color Presets:"},zpagination:{pagestring:"Page {0}"},common:{ok:"OK",cancel:"Cancel",close:"Close"},zimagelist:{"public.label":"Public","imagenotfound.label":"We can't find the image at that URL.","google.label":"Google","addtolibrary.label":"Add to Library",newest:"Newest First","uploading.label":"Uploading","decent.label":"Decent","pageno.label":"Page No :","upload.label":"Upload","chooseanimagetoupload.label":"Choose an Image to Upload","mylibrarysearch.label":"Search Image from My Library","dragdropimages.label":"Drag and Drop Images Here","library.label":"My Library","search.label":"Search","flickr.label":"Flickr","delete.label":"Delete","previewmessage.label":"If your URL is correct, you'll see a preview here. Large images may take a few minutes to appear.",namedesc:"Name (Z-A/9-0)","sortBy.label":"Sort By: ","picasa.label":"Picasa","signinasadifferentuser.label":"Sign in as a different user","ascent.label":"Ascent","checkurladdress.label":"Please check the address for typing errors.","pasteanimageurl.label":"Paste an image URL here:","addpicture.label":"Add Picture","myaccount.label":"My Account","usermsg.label":"My {0} Images","noimagesavailable.label":"No Images Available","or.label":"(or)","mylibrary.label":"My Library","checkimageispublic.label":"Make sure the image is public. If your image is protected by a password, or on an internal network, we will not be able to read it.",oldest:"Oldest First",nameasc:"Name (A-Z/0-9)"},imagelibrary:{"fromurl.label":"From URL","picasa.label":"Picasa","close.label":"Close","title.label":"Image Library","websearch.label":"Web Search","insert.label":"Insert","mylibrary.label":"My Library","flickr.label":"Flickr"},zvideohandler:{"novideofound.label":"No videos found.","uploaded.label":"Uploaded on","youtube.label":"YouTube","dailymotion.label":"DailyMotion","note.label":"Note:","insert.label":"Insert","change.label":"Change","insertgadget.label":"Insert Gadget","changegadget.label":"Change Gadget","pasteembedcode.label":"Paste the Embed Code here.","changeembedcode.label":"Change the Embed Code here.","searchmessage.label":"Type your search here to find videos.","provideproperembedcode.label":"Please provide proper embed code to insert.","notsupportedembedurl.label":"Embed URL from {0} service is not supported."},zcollaborator:{"customchatmessage.label":"Type your message for collaborators...","activeusers.label":"Active Users","otherusers.label":"Others","sharedusers.label":"Shared Users","collaborators.label":"Collaborators","actions.label":"Actions"},zdialog:{"close.label":"Close","minimize.label":"Minimize","maximize.label":"Maximize"},zerror:{"validfilemessage.label":"Please select a valid file"},zcommon:{"more.label":"More...","moreoptions.label":"More options..."},zoompanel:{"fittoscreen.label":"Fit To Screen"},zannouncementbar:{"title.label":"Announcement","announcement.label":"Announcement","whatsnew.label":"What's New?","more.label":"Learn more","close.label":"Close"},zimport:{"validfilemessage.label":"Please select a valid file","supportedfileformats.label":"Supported File Formats: ","maximumallowedfilesize.label":"Maximum file size allowed is ","localfile.label":"Local File","fromurl.label":"From URL","import.label":"Import","cancel.label":"Cancel","close.label":"Close","ispasswordprotected.label":"Is Password Protected?","yes.label":"Yes","no.label":"No","documentname.label":"Document Name:","importing.label":"Importing...","successmessage.label":"Imported Successfully","errormessage.label":"Unable to Import due to an unknown error in the specified file","cancelmessage.label":"Import Cancelled","optional.label":"Optional","enterpassword.label":"Enter Password","open.label":"Open","passwordprotectedmessage.label":"Only unprotected files will be imported","splCharacError.label":'Document Name cannot contain "<" character',"validsizemessage.label":"The file size exceeds the limit allowed.","erroronuploading.label":"Error while uploading files , Please try again","emptyfileuploaderror.label":"Empty file cannot be uploaded","filecontainsvirus.label":"File contains Virus!","storagespaceexceeds.label":"Your Storage space exceeds, Please upgrade your account.","fileconversionerror.label":"Uploaded successfully. Error while converting the file."},zscreengrabber:{"highlight.label":"Highlight","blackout.label":"Blackout","attach.label":"Attach","cancel.label":"Cancel","message.label":"Click to select the full screen. Drag to select part of the screen.","screencapturealert.label":"Unable to capture your screen due to an unknown error","screencapturefailure.label":"Sorry! We are unable to capture your screen due to an unknown error","actualsize.label":"Actual Size","smallsize.label":"Small Size","retry.label":"Retry","quit.label":"Quit"},ztoggle:{"on.label":"ON","off.label":"OFF"},znotifycollaborator:{"cancel.label":"Cancel","send.label":"Send","sending.label":"Sending...","title.label":"Notify Collaborators","more.label":"more","message.label":"Message","subject.label":"Subject","recipients.label":"To","allcollaborators.label":"All Collaborators","owneronly.label":"Owner Only","ownerandcoowner.label":"Owner & Co-Owners","selectedrecipients.label":"Specific People...","sendmailsuccessfully.label":"Mail sent successfully","sendmailwithoutsubject.label":"Would you like to send mail without a subject?","noresultsfound.label":"We could not find people matching your search."},ztab:{"expand.label":"Expand Toolbar","collapse.label":"Collapse Toolbar"},ztopbar:{salesAndMarketing:"SALES & MARKETING",customProcesses:"CUSTOM PROCESSES",customerSupport:"CUSTOMER SUPPORT",hr:"HR",finance:"FINANCE",emailAndCollaboration:"EMAIL & COLLABORATION",myAccount:"My Account",myStore:"My Store",signout:"Sign Out",zoho:"Zoho",show:"Show",sheet:"Sheet",writer:"Writer",zohoApps:"Zoho Apps",help:"Help",settings:"Settings",notifications:"Notifications",messages:"Inbox",upload:"Add",change:"Change",tryOtherEditions:"Try Other Editions",subscriptions:"Subscription",manageSubscription:"Manage Subscription",close:"Close",trialNotifyMessage:"Your {0} edition trial will expire in {1} days.",trialNotifyMessageToday:"Your {0} edition trial will expire today.",trialNotifyMessageTomorrow:"Your {0} edition trial will expire tomorrow.",trialNotifyMessageExpired:"Your {0} edition trial has expired.",helpCenter:"Help Center",faq:"FAQ",gettingStarted:"Getting Started",takeATour:"Take a Tour",forums:"Forums",support:"Support",feedback:"Feedback",liveChat:"Live Chat",blogs:"Blogs",upgradeNow:"Upgrade Now",upgrade:"Upgrade",managePortals:"Manage Portals",myPreferences:"My Preferences",adminPanel:"Admin Panel",projectSettings:"Project Settings",portalSettings:"Portal Settings",portals:"Portals",about:"About",crm:"CRM",campaigns:"Campaigns",sites:"Sites",survey:"Survey",creator:"Creator",reports:"Reports",vault:"Vault",support:"Support",assist:"Assist",liveDesk:"LiveDesk",books:"Books",invoice:"Invoice",people:"People",recruit:"Recruit",mail:"Mail",docs:"Docs",projects:"Projects",bugtracker:"BugTracker",meeting:"Meeting",connect:"Connect",salesiq:"Sales IQ",contactmanager:"ContactManager",willDoLater:"Will do later",userIdLabel:"User ID",nextLabel:"Next",prevLabel:"Prev",zohoHomeLabel:"Go to Zoho Home",allAppsLabel:"All Apps",myAppsLabel:"My Apps",userIdTooltipDefinition:"This is your unique identification number in Zoho.",userIdTooltipDescription:"It will be handy for you to identify yourself to our customer support executive, say when you seek our assistance through our Toll Free number."}};e.i18n(t)}),jQuery(function(e){function t(t,n,s){var o=t.data("menuButton");o&&o.button(n?"disable":"enable"),t=e(t);var r=void 0,a=void 0;if(t.is(".ui-zmenu-item")?(r=e(t.parents(".ui-zmenu").get(0)),a="zmenu"):(r=t.is("[ctype]")?t:e(t.parents("[ctype]").get(0)),a=r.attr("ctype")),!r.length)return!1;switch(a){case"ztoolbar":r[a](n?"disableButton":"enableButton",t.attr("id"));break;case"zmenu":r[a]("disableMenuItem",t.attr("id"),!n);break;case"button":case"zbutton":i(t,!n);break;default:return!!t.is("[ctype]")&&(t[t.attr("ctype")](n?"disable":"enable"),!0)}return!0}function i(e,t){if(e.is(".ui-button")){if(e.button(t?"enable":"disable"),e.metadata().splitbutton){var i=e.next(".ui-splitbutton");i.length&&i.button(t?"enable":"disable")}return!0}return!1}function n(t){i(t)||e(t).is(":disabled")||(e(t).prop("disabled",!0),e(t).addClass("ui-state-disabled"),l[c]=e(t),c++)}function s(t,n){i(t,!0)||(n?o(t):e(t).removeAttr("disabled"),e(t).removeClass("ui-state-disabled"))}function o(t){e(l).each(function(t,i){e(i).removeAttr("disabled")})}function r(e){return e.is("input")||e.is("button")||e.is("select")||e.is("textarea")?e.is(":disabled"):e.hasClass("ui-state-disabled")}function a(e,t,i){i=i?i:{},i.element=e,i.disabled=t,e.trigger("element_state_changed",i)}var l=[],c=0,h=function(o,r,a,l){if(!t(o,r)){if(!a)return void(r?n(e(o)):s(e(o),!0,void 0,l));var c=e(o).find("[ctype]");e(c).each(function(t,n){n=e(n);var s=n.attr("ctype");"zbutton"==s&&(s="button"),i(n,!r)||n[s](r?"disable":"enable")}),c=e(o).find("select,div,button,input:not([ctype]):not(.ui-widget)"),e(c).each(function(t,i){i=e(i);var a=i.closest(".ui-widget");o.has(a[0]).length||(r?n(i):s(i,l))}),r?n(o):s(o)}};e.fn.isDisabled=function(){var t=e(this);return r(t)},e.fn.disable=function(t,i,n){var s=e(this);h(s,!0,t),(void 0==i||i)&&a(s,!0,n)},e.fn.enable=function(t,i,n,s){var o=e(this);h(o,!1,t,s),(void 0==i||i)&&a(o,!1,n)}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=!1,i=!1,n=0,s=2e3,o=0,r=["webkit","ms","moz","o"],a=window.requestAnimationFrame||!1,l=window.cancelAnimationFrame||!1;if(!a)for(var c in r){var h=r[c];a||(a=window[h+"RequestAnimationFrame"]),l||(l=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"])}var u=window.MutationObserver||window.WebKitMutationObserver||!1,d={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0},p=!1,f=function(){if(p)return p;var e=document.createElement("DIV"),t=e.style,i=navigator.userAgent,n=navigator.platform,s={haspointerlock:"pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document};s.isopera="opera"in window,s.isopera12=s.isopera&&"getUserMedia"in navigator,s.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),s.isie="all"in document&&"attachEvent"in e&&!s.isopera,s.isieold=s.isie&&!("msInterpolationMode"in t),s.isie7=s.isie&&!s.isieold&&(!("documentMode"in document)||7==document.documentMode),s.isie8=s.isie&&"documentMode"in document&&8==document.documentMode,s.isie9=s.isie&&"performance"in window&&9<=document.documentMode,s.isie10=s.isie&&"performance"in window&&10==document.documentMode,s.isie11="msRequestFullscreen"in e&&11<=document.documentMode,s.isie9mobile=/iemobile.9/i.test(i),s.isie9mobile&&(s.isie9=!1),s.isie7mobile=!s.isie9mobile&&s.isie7&&/iemobile/i.test(i),s.ismozilla="MozAppearance"in t,s.iswebkit="WebkitAppearance"in t,s.ischrome="chrome"in window,s.ischrome22=s.ischrome&&s.haspointerlock,s.ischrome26=s.ischrome&&"transition"in t,s.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,s.hasmstouch=window.MSPointerEvent||!1,s.hasw3ctouch=window.PointerEvent||!1,s.ismac=/^mac$/i.test(n),s.isios=s.cantouch&&/iphone|ipad|ipod/i.test(n),s.isios4=s.isios&&!("seal"in Object),s.isios7=s.isios&&"webkitHidden"in document,s.isandroid=/android/i.test(i),s.haseventlistener="addEventListener"in e,s.trstyle=!1,s.hastransform=!1,s.hastranslate3d=!1,s.transitionstyle=!1,s.hastransition=!1,s.transitionend=!1,n=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(i=0;i<n.length;i++)if("undefined"!=typeof t[n[i]]){s.trstyle=n[i];break}s.hastransform=!!s.trstyle,s.hastransform&&(t[s.trstyle]="translate3d(1px,2px,3px)",s.hastranslate3d=/translate3d/.test(t[s.trstyle])),s.transitionstyle=!1,s.prefixstyle="",s.transitionend=!1;for(var n="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),o=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),r="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),i=0;i<n.length;i++)if(n[i]in t){s.transitionstyle=n[i],s.prefixstyle=o[i],s.transitionend=r[i];break}s.ischrome26&&(s.prefixstyle=o[1]),s.hastransition=s.transitionstyle;e:{for(i=["-webkit-grab","-moz-grab","grab"],(s.ischrome&&!s.ischrome22||s.isie)&&(i=[]),n=0;n<i.length;n++)if(o=i[n],t.cursor=o,t.cursor==o){t=o;break e}t="url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}return s.cursorgrabvalue=t,s.hasmousecapture="setCapture"in e,s.hasMutationObserver=!1!==u,p=s},m=function(r,c){function h(){var e=y.doc.css(_.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function p(){var e=y.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function m(e,t,i){return t=e.css(t),e=parseFloat(t),isNaN(e)?(e=T[t]||0,i=3==e?i?y.win.outerHeight()-y.win.innerHeight():y.win.outerWidth()-y.win.innerWidth():1,y.isie8&&e&&(e+=1),i?e:0):e}function v(e,t,i,n){y._bind(e,t,function(n){n=n?n:window.event;var s={original:n,target:n.target||n.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return n.preventDefault?n.preventDefault():n.returnValue=!1,!1},stopImmediatePropagation:function(){n.stopImmediatePropagation?n.stopImmediatePropagation():n.cancelBubble=!0}};return"mousewheel"==t?(s.deltaY=-.025*n.wheelDelta,n.wheelDeltaX&&(s.deltaX=-.025*n.wheelDeltaX)):s.deltaY=n.detail,i.call(e,s)},n)}function b(e,t,i){var n,s;if(0==e.deltaMode?(n=-Math.floor(y.opt.mousescrollstep/54*e.deltaX),s=-Math.floor(y.opt.mousescrollstep/54*e.deltaY)):1==e.deltaMode&&(n=-Math.floor(e.deltaX*y.opt.mousescrollstep),s=-Math.floor(e.deltaY*y.opt.mousescrollstep)),t&&y.opt.oneaxismousemode&&0==n&&s&&(n=s,s=0,i&&(0>n?y.getScrollLeft()>=y.page.maxw:0>=y.getScrollLeft())&&(s=n,n=0)),n&&(y.scrollmom&&y.scrollmom.stop(),y.lastdeltax+=n,y.debounced("mousewheelx",function(){var e=y.lastdeltax;y.lastdeltax=0,y.rail.drag||y.doScrollLeftBy(e)},15)),s){if(y.opt.nativeparentscrolling&&i&&!y.ispage&&!y.zoomactive)if(0>s){if(y.getScrollTop()>=y.page.maxh)return!0}else if(0>=y.getScrollTop())return!0;y.scrollmom&&y.scrollmom.stop(),y.lastdeltay+=s,y.debounced("mousewheely",function(){var e=y.lastdeltay;y.lastdeltay=0,y.rail.drag||y.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var y=this;if(this.version="3.6.0",this.name="nicescroll",this.me=c,this.opt={doc:e("body"),win:!1},e.extend(this.opt,d),this.opt.snapbackspeed=80,r)for(var w in y.opt)"undefined"!=typeof r[w]&&(y.opt[w]=r[w]);this.iddoc=(this.doc=y.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(y.opt.win?y.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==y.opt.win,this.win=y.opt.win||(this.ispage?e(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win,this.body=e("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=y.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):!0===this.opt.rtlmode,this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;do this.id="ascrail"+s++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=this.railslocked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=y.opt.overflowx,this.overflowy=y.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=f();var _=e.extend({},this.detected);this.ishwscroll=(this.canhwscroll=_.hastransform&&y.opt.hwacceleration)&&y.haswrapper,this.hasreversehr=this.isrtlmode&&!_.iswebkit,this.istouchcapable=!1,!_.cantouch||_.isios||_.isandroid||!_.iswebkit&&!_.ismozilla||(this.istouchcapable=!0,_.cantouch=!1),y.opt.enablemouselockapi||(_.hasmousecapture=!1,_.haspointerlock=!1),this.debounced=function(e,t,i){var n=y.delaylist[e];y.delaylist[e]=t,n||setTimeout(function(){var t=y.delaylist[e];y.delaylist[e]=!1,t.call(y)},i)};var x=!1;this.synched=function(e,t){return y.synclist[e]=t,function(){x||(a(function(){x=!1;for(var e in y.synclist){var t=y.synclist[e];t&&t.call(y),y.synclist[e]=!1}}),x=!0)}(),e},this.unsynched=function(e){y.synclist[e]&&(y.synclist[e]=!1)},this.css=function(e,t){for(var i in t)y.saved.css.push([e,i,e.css(i)]),e.css(i,t[i])},this.scrollTop=function(e){return"undefined"==typeof e?y.getScrollTop():y.setScrollTop(e)},this.scrollLeft=function(e){return"undefined"==typeof e?y.getScrollLeft():y.setScrollLeft(e)};var C=function(e,t,i,n,s,o,r){this.st=e,this.ed=t,this.spd=i,this.p1=n||0,this.p2=s||1,this.p3=o||0,this.p4=r||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(C.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},_.hastranslate3d&&_.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){if(e=h())return 16==e.length?-e[13]:-e[5];if(y.timerscroll&&y.timerscroll.bz)return y.timerscroll.bz.getNow()}return y.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=h())return 16==e.length?-e[12]:-e[4];if(y.timerscroll&&y.timerscroll.bh)return y.timerscroll.bh.getNow()}return y.doc.translate.x},this.notifyScrollEvent=function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),t.niceevent=!0,e.dispatchEvent(t)};var k=this.isrtlmode?1:-1;_.hastranslate3d&&y.opt.enabletranslate3d?(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(_.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=e*k+"px",y.doc.css(_.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])}):(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(_.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=e*k+"px",y.doc.css(_.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])})}else this.getScrollTop=function(){return y.docscroll.scrollTop()},this.setScrollTop=function(e){return y.docscroll.scrollTop(e)},this.getScrollLeft=function(){return y.detected.ismozilla&&y.isrtlmode?Math.abs(y.docscroll.scrollLeft()):y.docscroll.scrollLeft()},this.setScrollLeft=function(e){return y.docscroll.scrollLeft(y.detected.ismozilla&&y.isrtlmode?-e:e)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var i=e.target||e.srcElement||e||!1;i&&i.id!=t;)i=i.parentNode||!1;return!1!==i};var T={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(y.isfixed){var e=y.win.offset(),t=y.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}return e=y.win.offset(),y.viewport?(t=y.viewport.offset(),{top:e.top-t.top,left:e.left-t.left}):e},this.updateScrollBar=function(e){if(y.ishwscroll)y.rail.css({height:y.win.innerHeight()-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.railh&&y.railh.css({width:y.win.innerWidth()-(y.opt.railpadding.left+y.opt.railpadding.right)});else{var t=y.getOffset(),i=t.top,n=t.left-(y.opt.railpadding.left+y.opt.railpadding.right),i=i+m(y.win,"border-top-width",!0),n=n+(y.rail.align?y.win.outerWidth()-m(y.win,"border-right-width")-y.rail.width:m(y.win,"border-left-width")),s=y.opt.railoffset;s&&(s.top&&(i+=s.top),y.rail.align&&s.left&&(n+=s.left)),y.railslocked||y.rail.css({top:i,left:n,height:(e?e.h:y.win.innerHeight())-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.zoom&&y.zoom.css({top:i+1,left:1==y.rail.align?n-20:n+y.rail.width+4}),y.railh&&!y.railslocked&&(i=t.top,n=t.left,(s=y.opt.railhoffset)&&(s.top&&(i+=s.top),s.left&&(n+=s.left)),e=y.railh.align?i+m(y.win,"border-top-width",!0)+y.win.innerHeight()-y.railh.height:i+m(y.win,"border-top-width",!0),n+=m(y.win,"border-left-width"),y.railh.css({top:e-(y.opt.railpadding.top+y.opt.railpadding.bottom),left:n,width:y.railh.width}))}},this.doRailClick=function(e,t,i){var n;y.railslocked||(y.cancelEvent(e),t?(t=i?y.doScrollLeft:y.doScrollTop,n=i?(e.pageX-y.railh.offset().left-y.cursorwidth/2)*y.scrollratio.x:(e.pageY-y.rail.offset().top-y.cursorheight/2)*y.scrollratio.y,t(n)):(t=i?y.doScrollLeftBy:y.doScrollBy,n=i?y.scroll.x:y.scroll.y,e=i?e.pageX-y.railh.offset().left:e.pageY-y.rail.offset().top,i=i?y.view.w:y.view.h,t(n>=e?i:-i)))},y.hasanimationframe=a,y.hascancelanimationframe=l,y.hasanimationframe?y.hascancelanimationframe||(l=function(){y.cancelAnimationFrame=!0}):(a=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},l=clearInterval),this.init=function(){if(y.saved.css=[],_.isie7mobile||_.isoperamini)return!0;if(_.hasmstouch&&y.css(y.ispage?e("html"):y.win,{"-ms-touch-action":"none"}),y.zindex="auto",y.zindex=y.ispage||"auto"!=y.opt.zindex?y.opt.zindex:p()||"auto",!y.ispage&&"auto"!=y.zindex&&y.zindex>o&&(o=y.zindex),y.isie&&0==y.zindex&&"auto"==y.opt.zindex&&(y.zindex="auto"),!y.ispage||!_.cantouch&&!_.isieold&&!_.isie9mobile){var s=y.docscroll;y.ispage&&(s=y.haswrapper?y.win:y.doc),_.isie9mobile||y.css(s,{"overflow-y":"hidden"}),y.ispage&&_.isie7&&("BODY"==y.doc[0].nodeName?y.css(e("html"),{"overflow-y":"hidden"}):"HTML"==y.doc[0].nodeName&&y.css(e("body"),{"overflow-y":"hidden"})),!_.isios||y.ispage||y.haswrapper||y.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var r=e(document.createElement("div"));r.css({position:"relative",top:0,float:"right",width:y.opt.cursorwidth,height:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),r.hborder=parseFloat(r.outerHeight()-r.innerHeight()),r.addClass("nicescroll-cursors"),y.cursor=r;var a=e(document.createElement("div"));a.attr("id",y.id),a.addClass("nicescroll-rails nicescroll-rails-vr");var l,c,h,d=["left","right","top","bottom"];for(h in d)c=d[h],(l=y.opt.railpadding[c])?a.css("padding-"+c,l+"px"):y.opt.railpadding[c]=0;a.append(r),a.width=Math.max(parseFloat(y.opt.cursorwidth),r.outerWidth()),a.css({width:a.width+"px",zIndex:y.zindex,background:y.opt.background,cursor:"default"}),a.visibility=!0,a.scrollable=!0,a.align="left"==y.opt.railalign?0:1,y.rail=a,r=y.rail.drag=!1,!y.opt.boxzoom||y.ispage||_.isieold||(r=document.createElement("div"),y.bind(r,"click",y.doZoom),y.bind(r,"mouseenter",function(){y.zoom.css("opacity",y.opt.cursoropacitymax)}),y.bind(r,"mouseleave",function(){y.zoom.css("opacity",y.opt.cursoropacitymin)}),y.zoom=e(r),y.zoom.css({cursor:"pointer","z-index":y.zindex,backgroundImage:"url("+y.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),y.opt.dblclickzoom&&y.bind(y.win,"dblclick",y.doZoom),_.cantouch&&y.opt.gesturezoom&&(y.ongesturezoom=function(e){return 1.5<e.scale&&y.doZoomIn(e),.8>e.scale&&y.doZoomOut(e),y.cancelEvent(e)},y.bind(y.win,"gestureend",y.ongesturezoom))),y.railh=!1;var f;if(y.opt.horizrailenabled&&(y.css(s,{"overflow-x":"hidden"}),r=e(document.createElement("div")),r.css({position:"absolute",top:0,height:y.opt.cursorwidth,width:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),_.isieold&&r.css({overflow:"hidden"}),r.wborder=parseFloat(r.outerWidth()-r.innerWidth()),r.addClass("nicescroll-cursors"),y.cursorh=r,f=e(document.createElement("div")),f.attr("id",y.id+"-hr"),f.addClass("nicescroll-rails nicescroll-rails-hr"),f.height=Math.max(parseFloat(y.opt.cursorwidth),r.outerHeight()),f.css({height:f.height+"px",zIndex:y.zindex,background:y.opt.background}),f.append(r),f.visibility=!0,f.scrollable=!0,f.align="top"==y.opt.railvalign?0:1,y.railh=f,y.railh.drag=!1),y.ispage?(a.css({position:"fixed",top:"0px",height:"100%"}),a.align?a.css({right:"0px"}):a.css({left:"0px"}),y.body.append(a),y.railh&&(f.css({position:"fixed",left:"0px",width:"100%"}),f.align?f.css({bottom:"0px"}):f.css({top:"0px"}),y.body.append(f))):(y.ishwscroll?("static"==y.win.css("position")&&y.css(y.win,{position:"relative"}),s="HTML"==y.win[0].nodeName?y.body:y.win,e(s).scrollTop(0).scrollLeft(0),y.zoom&&(y.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),s.append(y.zoom)),a.css({position:"absolute",top:0}),a.align?a.css({right:0}):a.css({left:0}),s.append(a),f&&(f.css({position:"absolute",left:0,bottom:0}),f.align?f.css({bottom:0}):f.css({top:0}),s.append(f))):(y.isfixed="fixed"==y.win.css("position"),s=y.isfixed?"fixed":"absolute",y.isfixed||(y.viewport=y.getViewport(y.win[0])),y.viewport&&(y.body=y.viewport,0==/fixed|absolute/.test(y.viewport.css("position"))&&y.css(y.viewport,{position:"relative"})),a.css({position:s}),y.zoom&&y.zoom.css({position:s}),y.updateScrollBar(),y.body.append(a),y.zoom&&y.body.append(y.zoom),y.railh&&(f.css({position:s}),y.body.append(f))),_.isios&&y.css(y.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),_.isie&&y.opt.disableoutline&&y.win.attr("hideFocus","true"),_.iswebkit&&y.opt.disableoutline&&y.win.css({outline:"none"})),!1===y.opt.autohidemode?(y.autohidedom=!1,y.rail.css({opacity:y.opt.cursoropacitymax}),y.railh&&y.railh.css({opacity:y.opt.cursoropacitymax})):!0===y.opt.autohidemode||"leave"===y.opt.autohidemode?(y.autohidedom=e().add(y.rail),_.isie8&&(y.autohidedom=y.autohidedom.add(y.cursor)),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh)),y.railh&&_.isie8&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"scroll"==y.opt.autohidemode?(y.autohidedom=e().add(y.rail),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh))):"cursor"==y.opt.autohidemode?(y.autohidedom=e().add(y.cursor),y.railh&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"hidden"==y.opt.autohidemode&&(y.autohidedom=!1,y.hide(),y.railslocked=!1),_.isie9mobile)y.scrollmom=new g(y),y.onmangotouch=function(){var e=y.getScrollTop(),t=y.getScrollLeft();if(e==y.scrollmom.lastscrolly&&t==y.scrollmom.lastscrollx)return!0;var i=e-y.mangotouch.sy,n=t-y.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(i,2)))){var s=0>i?-1:1,o=0>n?-1:1,r=+new Date;y.mangotouch.lazy&&clearTimeout(y.mangotouch.lazy),80<r-y.mangotouch.tm||y.mangotouch.dry!=s||y.mangotouch.drx!=o?(y.scrollmom.stop(),y.scrollmom.reset(t,e),y.mangotouch.sy=e,y.mangotouch.ly=e,y.mangotouch.sx=t,y.mangotouch.lx=t,y.mangotouch.dry=s,y.mangotouch.drx=o,y.mangotouch.tm=r):(y.scrollmom.stop(),y.scrollmom.update(y.mangotouch.sx-n,y.mangotouch.sy-i),y.mangotouch.tm=r,i=Math.max(Math.abs(y.mangotouch.ly-e),Math.abs(y.mangotouch.lx-t)),y.mangotouch.ly=e,y.mangotouch.lx=t,2<i&&(y.mangotouch.lazy=setTimeout(function(){y.mangotouch.lazy=!1,y.mangotouch.dry=0,y.mangotouch.drx=0,y.mangotouch.tm=0,y.scrollmom.doMomentum(30)},100)))}},a=y.getScrollTop(),f=y.getScrollLeft(),y.mangotouch={sy:a,ly:a,dry:0,sx:f,lx:f,drx:0,lazy:!1,tm:0},y.bind(y.docscroll,"scroll",y.onmangotouch);else{if(_.cantouch||y.istouchcapable||y.opt.touchbehavior||_.hasmstouch){y.scrollmom=new g(y),y.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(y.hasmoving=!1,!y.railslocked){var i;if(_.hasmstouch)for(i=!!t.target&&t.target;i;){var n=e(i).getNiceScroll();if(0<n.length&&n[0].me==y.me)break;if(0<n.length)return!1;if("DIV"==i.nodeName&&i.id==y.id)break;i=!!i.parentNode&&i.parentNode}if(y.cancelScroll(),(i=y.getTarget(t))&&/INPUT/i.test(i.nodeName)&&/range/i.test(i.type))return y.stopPropagation(t);if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),y.forcescreen&&(n=t,t={original:t.original?t.original:t},t.clientX=n.screenX,t.clientY=n.screenY),y.rail.drag={x:t.clientX,y:t.clientY,sx:y.scroll.x,sy:y.scroll.y,st:y.getScrollTop(),sl:y.getScrollLeft(),pt:2,dl:!1},y.ispage||!y.opt.directionlockdeadzone)y.rail.drag.dl="f";else{var n=e(window).width(),s=e(window).height(),o=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),r=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),s=Math.max(0,r-s),n=Math.max(0,o-n);y.rail.drag.ck=!y.rail.scrollable&&y.railh.scrollable?0<s&&"v":!(!y.rail.scrollable||y.railh.scrollable)&&(0<n&&"h"),y.rail.drag.ck||(y.rail.drag.dl="f")}if(y.opt.touchbehavior&&y.isiframe&&_.isie&&(n=y.win.position(),y.rail.drag.x+=n.left,y.rail.drag.y+=n.top),y.hasmoving=!1,y.lastmouseup=!1,y.scrollmom.reset(t.clientX,t.clientY),!_.cantouch&&!this.istouchcapable&&!t.pointerType){if(!i||!/INPUT|SELECT|TEXTAREA/i.test(i.nodeName))return!y.ispage&&_.hasmousecapture&&i.setCapture(),y.opt.touchbehavior?(i.onclick&&!i._onclick&&(i._onclick=i.onclick,i.onclick=function(e){return!y.hasmoving&&void i._onclick.call(this,e)}),y.cancelEvent(t)):y.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(e(i).attr("type"))&&(pc={tg:i,click:!1},y.preventclick=pc)}}},y.ontouchend=function(e){if(!y.rail.drag)return!0;if(2==y.rail.drag.pt){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(y.scrollmom.doMomentum(),y.rail.drag=!1,y.hasmoving&&(y.lastmouseup=!0,y.hideCursor(),_.hasmousecapture&&document.releaseCapture(),!_.cantouch))return y.cancelEvent(e)}else if(1==y.rail.drag.pt)return y.onmouseup(e)};var m=y.opt.touchbehavior&&y.isiframe&&!_.hasmousecapture;y.ontouchmove=function(t,i){if(!y.rail.drag||t.targetTouches&&y.opt.preventmultitouchscrolling&&1<t.targetTouches.length||t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(2==y.rail.drag.pt){if(_.cantouch&&_.isios&&"undefined"==typeof t.original)return!0;if(y.hasmoving=!0,y.preventclick&&!y.preventclick.click&&(y.preventclick.click=y.preventclick.tg.onclick||!1,y.preventclick.tg.onclick=y.onpreventclick),t=e.extend({original:t},t),"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),y.forcescreen){var n=t;t={original:t.original?t.original:t},t.clientX=n.screenX,t.clientY=n.screenY}var s,n=s=0;m&&!i&&(s=y.win.position(),n=-s.left,s=-s.top);var o=t.clientY+s;s=o-y.rail.drag.y;var r=t.clientX+n,a=r-y.rail.drag.x,l=y.rail.drag.st-s;y.ishwscroll&&y.opt.bouncescroll?0>l?l=Math.round(l/2):l>y.page.maxh&&(l=y.page.maxh+Math.round((l-y.page.maxh)/2)):(0>l&&(o=l=0),l>y.page.maxh&&(l=y.page.maxh,o=0));var c;if(y.railh&&y.railh.scrollable&&(c=y.isrtlmode?a-y.rail.drag.sl:y.rail.drag.sl-a,y.ishwscroll&&y.opt.bouncescroll?0>c?c=Math.round(c/2):c>y.page.maxw&&(c=y.page.maxw+Math.round((c-y.page.maxw)/2)):(0>c&&(r=c=0),c>y.page.maxw&&(c=y.page.maxw,r=0))),n=!1,y.rail.drag.dl)n=!0,"v"==y.rail.drag.dl?c=y.rail.drag.sl:"h"==y.rail.drag.dl&&(l=y.rail.drag.st);else{s=Math.abs(s);var a=Math.abs(a),h=y.opt.directionlockdeadzone;if("v"==y.rail.drag.ck){if(s>h&&a<=.3*s)return y.rail.drag=!1,!0;a>h&&(y.rail.drag.dl="f",e("body").scrollTop(e("body").scrollTop()))}else if("h"==y.rail.drag.ck){if(a>h&&s<=.3*a)return y.rail.drag=!1,!0;s>h&&(y.rail.drag.dl="f",e("body").scrollLeft(e("body").scrollLeft()))}}if(y.synched("touchmove",function(){y.rail.drag&&2==y.rail.drag.pt&&(y.prepareTransition&&y.prepareTransition(0),y.rail.scrollable&&y.setScrollTop(l),y.scrollmom.update(r,o),y.railh&&y.railh.scrollable?(y.setScrollLeft(c),y.showCursor(l,c)):y.showCursor(l),_.isie10&&document.selection.clear())}),_.ischrome&&y.istouchcapable&&(n=!1),n)return y.cancelEvent(t)}else if(1==y.rail.drag.pt)return y.onmousemove(t)}}if(y.onmousedown=function(e,t){if(!y.rail.drag||1==y.rail.drag.pt){if(y.railslocked)return y.cancelEvent(e);y.cancelScroll(),y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,pt:1,hr:!!t};var i=y.getTarget(e);return!y.ispage&&_.hasmousecapture&&i.setCapture(),y.isiframe&&!_.hasmousecapture&&(y.saved.csspointerevents=y.doc.css("pointer-events"),y.css(y.doc,{"pointer-events":"none"})),y.hasmoving=!1,y.cancelEvent(e)}},y.onmouseup=function(e){if(y.rail.drag)return 1!=y.rail.drag.pt||(_.hasmousecapture&&document.releaseCapture(),y.isiframe&&!_.hasmousecapture&&y.doc.css("pointer-events",y.saved.csspointerevents),y.rail.drag=!1,y.hasmoving&&y.triggerScrollEnd(),y.cancelEvent(e))},y.onmousemove=function(e){if(y.rail.drag&&1==y.rail.drag.pt){if(_.ischrome&&0==e.which)return y.onmouseup(e);if(y.cursorfreezed=!0,y.hasmoving=!0,y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(e.clientX-y.rail.drag.x),0>y.scroll.x&&(y.scroll.x=0);var t=y.scrollvaluemaxw;y.scroll.x>t&&(y.scroll.x=t)}else y.scroll.y=y.rail.drag.sy+(e.clientY-y.rail.drag.y),0>y.scroll.y&&(y.scroll.y=0),t=y.scrollvaluemax,y.scroll.y>t&&(y.scroll.y=t);return y.synched("mousemove",function(){y.rail.drag&&1==y.rail.drag.pt&&(y.showCursor(),y.rail.drag.hr?y.hasreversehr?y.doScrollLeft(y.scrollvaluemaxw-Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollLeft(Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollTop(Math.round(y.scroll.y*y.scrollratio.y),y.opt.cursordragspeed))}),y.cancelEvent(e)}},_.cantouch||y.opt.touchbehavior)y.onpreventclick=function(e){if(y.preventclick)return y.preventclick.tg.onclick=y.preventclick.click,y.preventclick=!1,y.cancelEvent(e)},y.bind(y.win,"mousedown",y.ontouchstart),y.onclick=!_.isios&&function(e){return!y.lastmouseup||(y.lastmouseup=!1,y.cancelEvent(e))},y.opt.grabcursorenabled&&_.cursorgrabvalue&&(y.css(y.ispage?y.doc:y.win,{cursor:_.cursorgrabvalue}),y.css(y.rail,{cursor:_.cursorgrabvalue}));else{var v=function(e){if(y.selectiondrag){if(e){var t=y.win.outerHeight();e=e.pageY-y.selectiondrag.top,0<e&&e<t&&(e=0),e>=t&&(e-=t),y.selectiondrag.df=e}0!=y.selectiondrag.df&&(y.doScrollBy(2*-Math.floor(y.selectiondrag.df/6)),y.debounced("doselectionscroll",function(){v()},50))}};y.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},y.onselectionstart=function(e){y.ispage||(y.selectiondrag=y.win.offset())},y.onselectionend=function(e){y.selectiondrag=!1},y.onselectiondrag=function(e){y.selectiondrag&&y.hasTextSelected()&&y.debounced("selectionscroll",function(){v(e)},250)}}_.hasw3ctouch?(y.css(y.rail,{"touch-action":"none"}),y.css(y.cursor,{"touch-action":"none"}),y.bind(y.win,"pointerdown",y.ontouchstart),y.bind(document,"pointerup",y.ontouchend),y.bind(document,"pointermove",y.ontouchmove)):_.hasmstouch?(y.css(y.rail,{"-ms-touch-action":"none"}),y.css(y.cursor,{"-ms-touch-action":"none"}),y.bind(y.win,"MSPointerDown",y.ontouchstart),y.bind(document,"MSPointerUp",y.ontouchend),y.bind(document,"MSPointerMove",y.ontouchmove),y.bind(y.cursor,"MSGestureHold",function(e){e.preventDefault()}),y.bind(y.cursor,"contextmenu",function(e){e.preventDefault()})):this.istouchcapable&&(y.bind(y.win,"touchstart",y.ontouchstart),y.bind(document,"touchend",y.ontouchend),y.bind(document,"touchcancel",y.ontouchend),y.bind(document,"touchmove",y.ontouchmove)),(y.opt.cursordragontouch||!_.cantouch&&!y.opt.touchbehavior)&&(y.rail.css({cursor:"default"}),y.railh&&y.railh.css({cursor:"default"}),y.jqbind(y.rail,"mouseenter",function(){return!(!y.ispage&&!y.win.is(":visible"))&&(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0))}),y.jqbind(y.rail,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.rail,"click",function(e){y.doRailClick(e,!1,!1)}),y.bind(y.rail,"dblclick",function(e){y.doRailClick(e,!0,!1)}),y.bind(y.cursor,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursor,"dblclick",function(e){y.cancelEvent(e)})),y.railh&&(y.jqbind(y.railh,"mouseenter",function(){return!(!y.ispage&&!y.win.is(":visible"))&&(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0))}),y.jqbind(y.railh,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.railh,"click",function(e){y.doRailClick(e,!1,!0)}),y.bind(y.railh,"dblclick",function(e){y.doRailClick(e,!0,!0)}),y.bind(y.cursorh,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursorh,"dblclick",function(e){y.cancelEvent(e)})))),_.cantouch||y.opt.touchbehavior?(y.bind(_.hasmousecapture?y.win:document,"mouseup",y.ontouchend),y.bind(document,"mousemove",y.ontouchmove),y.onclick&&y.bind(document,"click",y.onclick),y.opt.cursordragontouch&&(y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.cursorh&&y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onmouseup))):(y.bind(_.hasmousecapture?y.win:document,"mouseup",y.onmouseup),y.bind(document,"mousemove",y.onmousemove),y.onclick&&y.bind(document,"click",y.onclick),y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.railh&&(y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.bind(y.cursorh,"mouseup",y.onmouseup)),!y.ispage&&y.opt.enablescrollonselection&&(y.bind(y.win[0],"mousedown",y.onselectionstart),y.bind(document,"mouseup",y.onselectionend),y.bind(y.cursor,"mouseup",y.onselectionend),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onselectionend),y.bind(document,"mousemove",y.onselectiondrag)),y.zoom&&(y.jqbind(y.zoom,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.zoom,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}))),y.opt.enablemousewheel&&(y.isiframe||y.bind(_.isie&&y.ispage?document:y.win,"mousewheel",y.onmousewheel),y.bind(y.rail,"mousewheel",y.onmousewheel),y.railh&&y.bind(y.railh,"mousewheel",y.onmousewheelhr)),y.ispage||_.cantouch||/HTML|^BODY/.test(y.win[0].nodeName)||(y.win.attr("tabindex")||y.win.attr({tabindex:n++}),y.jqbind(y.win,"focus",function(e){t=y.getTarget(e).id||!0,y.hasfocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"blur",function(e){t=!1,y.hasfocus=!1}),y.jqbind(y.win,"mouseenter",function(e){i=y.getTarget(e).id||!0,y.hasmousefocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"mouseleave",function(){i=!1,y.hasmousefocus=!1,y.rail.drag||y.hideCursor()}))}if(y.onkeypress=function(n){if(y.railslocked&&0==y.page.maxh)return!0;n=n?n:window.e;var s=y.getTarget(n);if(s&&/INPUT|TEXTAREA|SELECT|OPTION/.test(s.nodeName)&&(!s.getAttribute("type")&&!s.type||!/submit|button|cancel/i.tp)||e(s).attr("contenteditable"))return!0;if(y.hasfocus||y.hasmousefocus&&!t||y.ispage&&!t&&!i){if(s=n.keyCode,y.railslocked&&27!=s)return y.cancelEvent(n);var o=n.ctrlKey||!1,r=n.shiftKey||!1,a=!1;switch(s){case 38:case 63233:y.doScrollBy(72),a=!0;break;case 40:case 63235:y.doScrollBy(-72),a=!0;break;case 37:case 63232:y.railh&&(o?y.doScrollLeft(0):y.doScrollLeftBy(72),a=!0);break;case 39:case 63234:y.railh&&(o?y.doScrollLeft(y.page.maxw):y.doScrollLeftBy(-72),a=!0);break;case 33:case 63276:y.doScrollBy(y.view.h),a=!0;break;case 34:case 63277:y.doScrollBy(-y.view.h),a=!0;break;case 36:case 63273:y.railh&&o?y.doScrollPos(0,0):y.doScrollTo(0),a=!0;break;case 35:case 63275:y.railh&&o?y.doScrollPos(y.page.maxw,y.page.maxh):y.doScrollTo(y.page.maxh),a=!0;break;case 32:y.opt.spacebarenabled&&(r?y.doScrollBy(y.view.h):y.doScrollBy(-y.view.h),a=!0);break;case 27:y.zoomactive&&(y.doZoom(),a=!0)}if(a)return y.cancelEvent(n)}},y.opt.enablekeyboard&&y.bind(document,_.isopera&&!_.isopera12?"keypress":"keydown",y.onkeypress),y.bind(document,"keydown",function(e){e.ctrlKey&&(y.wheelprevented=!0)}),y.bind(document,"keyup",function(e){e.ctrlKey||(y.wheelprevented=!1)}),y.bind(window,"blur",function(e){y.wheelprevented=!1}),y.bind(window,"resize",y.lazyResize),y.bind(window,"orientationchange",y.lazyResize),y.bind(window,"load",y.lazyResize),_.ischrome&&!y.ispage&&!y.haswrapper){var b=y.win.attr("style"),a=parseFloat(y.win.css("width"))+1;y.win.css("width",a),y.synched("chromefix",function(){y.win.attr("style",b)})}y.onAttributeChange=function(e){y.lazyResize(y.isieold?250:30)},!1!==u&&(y.observerbody=new u(function(t){if(t.forEach(function(t){if("attributes"==t.type)return e("body").hasClass("modal-open")?y.hide():y.show()}),document.body.scrollHeight!=y.page.maxh)return y.lazyResize(30)}),y.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),y.ispage||y.haswrapper||(!1!==u?(y.observer=new u(function(e){e.forEach(y.onAttributeChange)}),y.observer.observe(y.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),y.observerremover=new u(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(y&&e.removedNodes[t]==y.win[0])return y.remove()})}),y.observerremover.observe(y.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(y.bind(y.win,_.isie&&!_.isie9?"propertychange":"DOMAttrModified",y.onAttributeChange),_.isie9&&y.win[0].attachEvent("onpropertychange",y.onAttributeChange),y.bind(y.win,"DOMNodeRemoved",function(e){e.target==y.win[0]&&y.remove()}))),!y.ispage&&y.opt.boxzoom&&y.bind(window,"resize",y.resizeZoom),y.istextarea&&y.bind(y.win,"mouseup",y.lazyResize),y.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var w=function(){y.iframexd=!1;var t;try{t="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(e){y.iframexd=!0,t=!1}if(y.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(y.forcescreen=!0,y.isiframe&&(y.iframe={doc:e(t),html:y.doc.contents().find("html")[0],body:y.doc.contents().find("body")[0]},y.getContentSize=function(){return{w:Math.max(y.iframe.html.scrollWidth,y.iframe.body.scrollWidth),h:Math.max(y.iframe.html.scrollHeight,y.iframe.body.scrollHeight)}},y.docscroll=e(y.iframe.body)),!_.isios&&y.opt.iframeautoresize&&!y.isiframe){y.win.scrollTop(0),y.doc.height("");var i=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);y.doc.height(i)}y.lazyResize(30),_.isie7&&y.css(e(y.iframe.html),{"overflow-y":"hidden"}),y.css(e(y.iframe.body),{"overflow-y":"hidden"}),_.isios&&y.haswrapper&&y.css(e(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?y.bind(this.contentWindow,"scroll",y.onscroll):y.bind(t,"scroll",y.onscroll),y.opt.enablemousewheel&&y.bind(t,"mousewheel",y.onmousewheel),y.opt.enablekeyboard&&y.bind(t,_.isopera?"keypress":"keydown",y.onkeypress),(_.cantouch||y.opt.touchbehavior)&&(y.bind(t,"mousedown",y.ontouchstart),y.bind(t,"mousemove",function(e){return y.ontouchmove(e,!0)}),y.opt.grabcursorenabled&&_.cursorgrabvalue&&y.css(e(t.body),{cursor:_.cursorgrabvalue})),y.bind(t,"mouseup",y.ontouchend),y.zoom&&(y.opt.dblclickzoom&&y.bind(t,"dblclick",y.doZoom),y.ongesturezoom&&y.bind(t,"gestureend",y.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){w.call(y.doc[0],!1)},500),y.bind(this.doc,"load",w)}},this.showCursor=function(e,t){if(y.cursortimeout&&(clearTimeout(y.cursortimeout),y.cursortimeout=0),y.rail){if(y.autohidedom&&(y.autohidedom.stop().css({opacity:y.opt.cursoropacitymax}),y.cursoractive=!0),y.rail.drag&&1==y.rail.drag.pt||("undefined"!=typeof e&&!1!==e&&(y.scroll.y=Math.round(1*e/y.scrollratio.y)),"undefined"!=typeof t&&(y.scroll.x=Math.round(1*t/y.scrollratio.x))),y.cursor.css({height:y.cursorheight,top:y.scroll.y}),y.cursorh){var i=y.hasreversehr?y.scrollvaluemaxw-y.scroll.x:y.scroll.x;!y.rail.align&&y.rail.visibility?y.cursorh.css({width:y.cursorwidth,left:i+y.rail.width}):y.cursorh.css({width:y.cursorwidth,left:i}),y.cursoractive=!0}y.zoom&&y.zoom.stop().css({opacity:y.opt.cursoropacitymax})}},this.hideCursor=function(e){y.cursortimeout||!y.rail||!y.autohidedom||y.hasmousefocus&&"leave"==y.opt.autohidemode||(y.cursortimeout=setTimeout(function(){y.rail.active&&y.showonmouseevent||(y.autohidedom.stop().animate({opacity:y.opt.cursoropacitymin}),y.zoom&&y.zoom.stop().animate({opacity:y.opt.cursoropacitymin}),y.cursoractive=!1),y.cursortimeout=0},e||y.opt.hidecursordelay))},this.noticeCursor=function(e,t,i){y.showCursor(t,i),y.rail.active||y.hideCursor(e)},this.getContentSize=y.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:y.haswrapper?function(){return{w:y.doc.outerWidth()+parseInt(y.win.css("paddingLeft"))+parseInt(y.win.css("paddingRight")),h:y.doc.outerHeight()+parseInt(y.win.css("paddingTop"))+parseInt(y.win.css("paddingBottom"))}}:function(){return{w:y.docscroll[0].scrollWidth,h:y.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!y||!y.win)return!1;if(!y.haswrapper&&!y.ispage){if("none"==y.win.css("display"))return y.visibility&&y.hideRail().hideRailHr(),!1;y.hidden||y.visibility||y.showRail().showRailHr()}var i=y.page.maxh,n=y.page.maxw,s=y.view.h,o=y.view.w;if(y.view={w:y.ispage?y.win.width():parseInt(y.win[0].clientWidth),h:y.ispage?y.win.height():parseInt(y.win[0].clientHeight)},y.page=t?t:y.getContentSize(),y.page.maxh=Math.max(0,y.page.h-y.view.h),y.page.maxw=Math.max(0,y.page.w-y.view.w),y.page.maxh==i&&y.page.maxw==n&&y.view.w==o&&y.view.h==s){if(y.ispage)return y;if(i=y.win.offset(),y.lastposition&&(n=y.lastposition,n.top==i.top&&n.left==i.left))return y;y.lastposition=i}return 0==y.page.maxh?(y.hideRail(),y.scrollvaluemax=0,y.scroll.y=0,y.scrollratio.y=0,y.cursorheight=0,y.setScrollTop(0),y.rail.scrollable=!1):(y.page.maxh-=y.opt.railpadding.top+y.opt.railpadding.bottom,y.rail.scrollable=!0),0==y.page.maxw?(y.hideRailHr(),y.scrollvaluemaxw=0,y.scroll.x=0,y.scrollratio.x=0,y.cursorwidth=0,y.setScrollLeft(0),y.railh.scrollable=!1):(y.page.maxw-=y.opt.railpadding.left+y.opt.railpadding.right,y.railh.scrollable=!0),y.railslocked=y.locked||0==y.page.maxh&&0==y.page.maxw,y.railslocked?(y.ispage||y.updateScrollBar(y.view),!1):(y.hidden||y.visibility?y.hidden||y.railh.visibility||y.showRailHr():y.showRail().showRailHr(),y.istextarea&&y.win.css("resize")&&"none"!=y.win.css("resize")&&(y.view.h-=20),y.cursorheight=Math.min(y.view.h,Math.round(y.view.h/y.page.h*y.view.h)),y.cursorheight=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorheight),y.cursorwidth=Math.min(y.view.w,Math.round(y.view.w/y.page.w*y.view.w)),y.cursorwidth=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorwidth),y.scrollvaluemax=y.view.h-y.cursorheight-y.cursor.hborder-(y.opt.railpadding.top+y.opt.railpadding.bottom),y.railh&&(y.railh.width=0<y.page.maxh?y.view.w-y.rail.width:y.view.w,y.scrollvaluemaxw=y.railh.width-y.cursorwidth-y.cursorh.wborder-(y.opt.railpadding.left+y.opt.railpadding.right)),y.ispage||y.updateScrollBar(y.view),y.scrollratio={x:y.page.maxw/y.scrollvaluemaxw,y:y.page.maxh/y.scrollvaluemax},y.getScrollTop()>y.page.maxh?y.doScrollTop(y.page.maxh):(y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x)),y.cursoractive&&y.noticeCursor()),y.scroll.y&&0==y.getScrollTop()&&y.doScrollTo(Math.floor(y.scroll.y*y.scrollratio.y)),y)},this.resize=y.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,y.debounced("resize",y.resize,e),y},this.jqbind=function(t,i,n){y.events.push({e:t,n:i,f:n,q:!0}),e(t).bind(i,n)},this.bind=function(e,t,i,n){var s="jquery"in e?e[0]:e;"mousewheel"==t?window.addEventListener||"onwheel"in document?y._bind(s,"wheel",i,n||!1):(e="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",v(s,e,i,n||!1),"DOMMouseScroll"==e&&v(s,"MozMousePixelScroll",i,n||!1)):s.addEventListener?(_.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&y._bind(s,"mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove",function(e){if(e.touches){if(2>e.touches.length){var t=e.touches.length?e.touches[0]:e;t.original=e,i.call(this,t)}}else e.changedTouches&&(t=e.changedTouches[0],t.original=e,i.call(this,t))},n||!1),y._bind(s,t,i,n||!1),_.cantouch&&"mouseup"==t&&y._bind(s,"touchcancel",i,n||!1)):y._bind(s,t,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1!==i.call(s,e)&&!1!==n||y.cancelEvent(e)})},_.haseventlistener?(this._bind=function(e,t,i,n){y.events.push({e:e,n:t,f:i,b:n,q:!1}),e.addEventListener(t,i,n||!1)},this.cancelEvent=function(e){return!!e&&(e=e.original?e.original:e,e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1)},this.stopPropagation=function(e){return!!e&&(e=e.original?e.original:e,e.stopPropagation(),!1)},this._unbind=function(e,t,i,n){e.removeEventListener(t,i,n)}):(this._bind=function(e,t,i,n){y.events.push({e:e,n:t,f:i,b:n,q:!1}),e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},this.cancelEvent=function(e){return!!(e=window.event||!1)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1)},this.stopPropagation=function(e){return!!(e=window.event||!1)&&(e.cancelBubble=!0,!1)},this._unbind=function(e,t,i,n){e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=!1}),this.unbindAll=function(){for(var e=0;e<y.events.length;e++){var t=y.events[e];t.q?t.e.unbind(t.n,t.f):y._unbind(t.e,t.n,t.f,t.b)}},this.showRail=function(){return 0==y.page.maxh||!y.ispage&&"none"==y.win.css("display")||(y.visibility=!0,y.rail.visibility=!0,y.rail.css("display","block")),y},this.showRailHr=function(){return y.railh?(0==y.page.maxw||!y.ispage&&"none"==y.win.css("display")||(y.railh.visibility=!0,y.railh.css("display","block")),y):y},this.hideRail=function(){return y.visibility=!1,y.rail.visibility=!1,y.rail.css("display","none"),y},this.hideRailHr=function(){return y.railh?(y.railh.visibility=!1,y.railh.css("display","none"),y):y},this.show=function(){return y.hidden=!1,y.railslocked=!1,y.showRail().showRailHr()},this.hide=function(){return y.hidden=!0,y.railslocked=!0,y.hideRail().hideRailHr()},this.toggle=function(){return y.hidden?y.show():y.hide()},this.remove=function(){y.stop(),y.cursortimeout&&clearTimeout(y.cursortimeout),y.doZoomOut(),y.unbindAll(),_.isie9&&y.win[0].detachEvent("onpropertychange",y.onAttributeChange),!1!==y.observer&&y.observer.disconnect(),!1!==y.observerremover&&y.observerremover.disconnect(),!1!==y.observerbody&&y.observerbody.disconnect(),y.events=null,y.cursor&&y.cursor.remove(),y.cursorh&&y.cursorh.remove(),y.rail&&y.rail.remove(),y.railh&&y.railh.remove(),y.zoom&&y.zoom.remove();for(var t=0;t<y.saved.css.length;t++){var i=y.saved.css[t];i[0].css(i[1],"undefined"==typeof i[2]?"":i[2])}y.saved=!1,y.me.data("__nicescroll","");var n=e.nicescroll;n.each(function(e){if(this&&this.id===y.id){delete n[e];for(var t=++e;t<n.length;t++,e++)n[e]=n[t];n.length--,n.length&&delete n[n.length]}});for(var s in y)y[s]=null,delete y[s];y=null},this.scrollstart=function(e){return this.onscrollstart=e,y},this.scrollend=function(e){return this.onscrollend=e,y},this.scrollcancel=function(e){return this.onscrollcancel=e,y},this.zoomin=function(e){return this.onzoomin=e,y},this.zoomout=function(e){return this.onzoomout=e,y},this.isScrollable=function(t){if(t=t.target?t.target:t,"OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var i=e(t),i=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(i))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(t){for(t=!(!t||!t.parentNode)&&t.parentNode;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var i=e(t);if(/fixed|absolute/.test(i.css("position")))return i;var n=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(n)&&t.clientHeight!=t.scrollHeight||0<i.getNiceScroll().length)return i;t=!!t.parentNode&&t.parentNode}return!1},this.triggerScrollEnd=function(){if(y.onscrollend){var e=y.getScrollLeft(),t=y.getScrollTop();y.onscrollend.call(y,{type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}})}},this.onmousewheel=function(e){if(!y.wheelprevented){if(y.railslocked)return y.debounced("checkunlock",y.resize,250),!0;if(y.rail.drag)return y.cancelEvent(e);if("auto"==y.opt.oneaxismousemode&&0!=e.deltaX&&(y.opt.oneaxismousemode=!1),y.opt.oneaxismousemode&&0==e.deltaX&&!y.rail.scrollable)return!y.railh||!y.railh.scrollable||y.onmousewheelhr(e);var t=+new Date,i=!1;return y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),i=!0),y.checkarea=t,!!y.nativescrollingarea||((e=b(e,!1,i))&&(y.checkarea=0),e)}},this.onmousewheelhr=function(e){if(!y.wheelprevented){if(y.railslocked||!y.railh.scrollable)return!0;if(y.rail.drag)return y.cancelEvent(e);var t=+new Date,i=!1;return y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),i=!0),y.checkarea=t,!!y.nativescrollingarea||(y.railslocked?y.cancelEvent(e):b(e,!0,i))}},this.stop=function(){return y.cancelScroll(),y.scrollmon&&y.scrollmon.stop(),y.cursorfreezed=!1,y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.noticeCursor(),y},this.getTransitionSpeed=function(e){var t=Math.round(10*y.opt.scrollspeed);return e=Math.min(t,Math.round(e/20*y.opt.scrollspeed)),20<e?e:0},y.opt.smoothscroll?y.ishwscroll&&_.hastransition&&y.opt.usetransition&&y.opt.smoothscroll?(this.prepareTransition=function(e,t){var i=t?20<e?e:0:y.getTransitionSpeed(e),n=i?_.prefixstyle+"transform "+i+"ms ease-out":"";return y.lasttransitionstyle&&y.lasttransitionstyle==n||(y.lasttransitionstyle=n,y.doc.css(_.transitionstyle,n)),i},this.doScrollLeft=function(e,t){var i=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var n=y.getScrollTop(),s=y.getScrollLeft();return(0>(y.newscrolly-n)*(t-n)||0>(y.newscrollx-s)*(e-s))&&y.cancelScroll(),0==y.opt.bouncescroll&&(0>t?t=0:t>y.page.maxh&&(t=y.page.maxh),0>e?e=0:e>y.page.maxw&&(e=y.page.maxw)),(!y.scrollrunning||e!=y.newscrollx||t!=y.newscrolly)&&(y.newscrolly=t,y.newscrollx=e,y.newscrollspeed=i||!1,!y.timer&&void(y.timer=setTimeout(function(){var i,n,s=y.getScrollTop(),o=y.getScrollLeft();i=e-o,n=t-s,i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(n,2))),i=y.newscrollspeed&&1<y.newscrollspeed?y.newscrollspeed:y.getTransitionSpeed(i),y.newscrollspeed&&1>=y.newscrollspeed&&(i*=y.newscrollspeed),y.prepareTransition(i,!0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),0<i&&(!y.scrollrunning&&y.onscrollstart&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:o,y:s},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:i}),_.transitionend?y.scrollendtrapped||(y.scrollendtrapped=!0,y.bind(y.doc,_.transitionend,y.onScrollTransitionEnd,!1)):(y.scrollendtrapped&&clearTimeout(y.scrollendtrapped),y.scrollendtrapped=setTimeout(y.onScrollTransitionEnd,i)),y.timerscroll={bz:new C(s,y.newscrolly,i,0,0,.58,1),bh:new C(o,y.newscrollx,i,0,0,.58,1)},y.cursorfreezed||(y.timerscroll.tm=setInterval(function(){y.showCursor(y.getScrollTop(),y.getScrollLeft())},60))),y.synched("doScroll-set",function(){y.timer=0,y.scrollendtrapped&&(y.scrollrunning=!0),y.setScrollTop(y.newscrolly),y.setScrollLeft(y.newscrollx),y.scrollendtrapped||y.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!y.scrollendtrapped)return!0;var e=y.getScrollTop(),t=y.getScrollLeft();return y.scrollrunning=!1,_.transitionend||clearTimeout(_.transitionend),y.scrollendtrapped=!1,y._unbind(y.doc[0],_.transitionend,y.onScrollTransitionEnd),y.prepareTransition(0),y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1,y.cursorfreezed=!1,y.showCursor(e,t),y},this.onScrollTransitionEnd=function(){y.scrollendtrapped&&y._unbind(y.doc[0],_.transitionend,y.onScrollTransitionEnd),y.scrollendtrapped=!1,y.prepareTransition(0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1;var e=y.getScrollTop(),t=y.getScrollLeft();return y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.noticeCursor(!1,e,t),y.cursorfreezed=!1,0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw),e!=y.newscrolly||t!=y.newscrollx?y.doScrollPos(t,e,y.opt.snapbackspeed):(y.onscrollend&&y.scrollrunning&&y.triggerScrollEnd(),void(y.scrollrunning=!1))}):(this.doScrollLeft=function(e,t){var i=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){function n(){if(y.cancelAnimationFrame)return!0;if(y.scrollrunning=!0,u=1-u)return y.timer=a(n)||1;var e,t,i=0,s=t=y.getScrollTop();y.dst.ay?(s=y.bzscroll?y.dst.py+y.bzscroll.getNow()*y.dst.ay:y.newscrolly,e=s-t,(0>e&&s<y.newscrolly||0<e&&s>y.newscrolly)&&(s=y.newscrolly),y.setScrollTop(s),s==y.newscrolly&&(i=1)):i=1,t=e=y.getScrollLeft(),y.dst.ax?(t=y.bzscroll?y.dst.px+y.bzscroll.getNow()*y.dst.ax:y.newscrollx,e=t-e,(0>e&&t<y.newscrollx||0<e&&t>y.newscrollx)&&(t=y.newscrollx),y.setScrollLeft(t),t==y.newscrollx&&(i+=1)):i+=1,2==i?(y.timer=0,y.cursorfreezed=!1,y.bzscroll=!1,y.scrollrunning=!1,0>s?s=0:s>y.page.maxh&&(s=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw),t!=y.newscrollx||s!=y.newscrolly?y.doScrollPos(t,s):y.onscrollend&&y.triggerScrollEnd()):y.timer=a(n)||1}if(t="undefined"==typeof t||!1===t?y.getScrollTop(!0):t,y.timer&&y.newscrolly==t&&y.newscrollx==e)return!0;y.timer&&l(y.timer),y.timer=0;var s=y.getScrollTop(),o=y.getScrollLeft();(0>(y.newscrolly-s)*(t-s)||0>(y.newscrollx-o)*(e-o))&&y.cancelScroll(),y.newscrolly=t,y.newscrollx=e,y.bouncescroll&&y.rail.visibility||(0>y.newscrolly?y.newscrolly=0:y.newscrolly>y.page.maxh&&(y.newscrolly=y.page.maxh)),y.bouncescroll&&y.railh.visibility||(0>y.newscrollx?y.newscrollx=0:y.newscrollx>y.page.maxw&&(y.newscrollx=y.page.maxw)),y.dst={},y.dst.x=e-o,y.dst.y=t-s,y.dst.px=o,y.dst.py=s;var r=Math.round(Math.sqrt(Math.pow(y.dst.x,2)+Math.pow(y.dst.y,2)));y.dst.ax=y.dst.x/r,y.dst.ay=y.dst.y/r;var c=0,h=r;if(0==y.dst.x?(c=s,h=t,y.dst.ay=1,y.dst.py=0):0==y.dst.y&&(c=o,h=e,y.dst.ax=1,y.dst.px=0),r=y.getTransitionSpeed(r),i&&1>=i&&(r*=i),y.bzscroll=0<r&&(y.bzscroll?y.bzscroll.update(h,r):new C(c,h,r,0,1,0,1)),!y.timer){(s==y.page.maxh&&t>=y.page.maxh||o==y.page.maxw&&e>=y.page.maxw)&&y.checkContentSize();var u=1;y.cancelAnimationFrame=!1,y.timer=1,y.onscrollstart&&!y.scrollrunning&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:o,y:s},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:r}),n(),(s==y.page.maxh&&t>=s||o==y.page.maxw&&e>=o)&&y.checkContentSize(),y.noticeCursor()}},this.cancelScroll=function(){return y.timer&&l(y.timer),y.timer=0,y.bzscroll=!1,y.scrollrunning=!1,y}):(this.doScrollLeft=function(e,t){var i=y.getScrollTop();y.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=y.getScrollLeft();y.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var n=e>y.page.maxw?y.page.maxw:e;0>n&&(n=0);var s=t>y.page.maxh?y.page.maxh:t;0>s&&(s=0),y.synched("scroll",function(){y.setScrollTop(s),y.setScrollLeft(n)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var i=0,i=t?Math.floor((y.scroll.y-e)*y.scrollratio.y):(y.timer?y.newscrolly:y.getScrollTop(!0))-e;if(y.bouncescroll){var n=Math.round(y.view.h/2);i<-n?i=-n:i>y.page.maxh+n&&(i=y.page.maxh+n)}return y.cursorfreezed=!1,n=y.getScrollTop(!0),0>i&&0>=n?y.noticeCursor():i>y.page.maxh&&n>=y.page.maxh?(y.checkContentSize(),y.noticeCursor()):void y.doScrollTop(i)},this.doScrollLeftBy=function(e,t){var i=0,i=t?Math.floor((y.scroll.x-e)*y.scrollratio.x):(y.timer?y.newscrollx:y.getScrollLeft(!0))-e;if(y.bouncescroll){var n=Math.round(y.view.w/2);i<-n?i=-n:i>y.page.maxw+n&&(i=y.page.maxw+n)}return y.cursorfreezed=!1,n=y.getScrollLeft(!0),0>i&&0>=n||i>y.page.maxw&&n>=y.page.maxw?y.noticeCursor():void y.doScrollLeft(i)},this.doScrollTo=function(e,t){t&&Math.round(e*y.scrollratio.y),y.cursorfreezed=!1,y.doScrollTop(e)},this.checkContentSize=function(){var e=y.getContentSize();e.h==y.page.h&&e.w==y.page.w||y.resize(!1,e)},y.onscroll=function(e){y.rail.drag||y.cursorfreezed||y.synched("scroll",function(){y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.railh&&(y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x))),y.noticeCursor()})},y.bind(y.docscroll,"scroll",y.onscroll),this.doZoomIn=function(t){if(!y.zoomactive){y.zoomactive=!0,y.zoomrestore={style:{}};var i,n="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),s=y.win[0].style;for(i in n){var r=n[i];y.zoomrestore.style[r]="undefined"!=typeof s[r]?s[r]:""}return y.zoomrestore.style.width=y.win.css("width"),y.zoomrestore.style.height=y.win.css("height"),y.zoomrestore.padding={w:y.win.outerWidth()-y.win.width(),h:y.win.outerHeight()-y.win.height()},_.isios4&&(y.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0)),y.win.css({position:_.isios4?"absolute":"fixed",top:0,left:0,"z-index":o+100,margin:"0px"}),n=y.win.css("backgroundColor"),(""==n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&y.win.css("backgroundColor","#fff"),y.rail.css({"z-index":o+101}),y.zoom.css({"z-index":o+102}),y.zoom.css("backgroundPosition","0px -18px"),y.resizeZoom(),y.onzoomin&&y.onzoomin.call(y),y.cancelEvent(t)}},this.doZoomOut=function(t){if(y.zoomactive)return y.zoomactive=!1,y.win.css("margin",""),y.win.css(y.zoomrestore.style),_.isios4&&e(window).scrollTop(y.zoomrestore.scrollTop),y.rail.css({"z-index":y.zindex}),y.zoom.css({"z-index":y.zindex}),y.zoomrestore=!1,y.zoom.css("backgroundPosition","0px 0px"),y.onResize(),y.onzoomout&&y.onzoomout.call(y),y.cancelEvent(t)},this.doZoom=function(e){return y.zoomactive?y.doZoomOut(e):y.doZoomIn(e)},this.resizeZoom=function(){if(y.zoomactive){var t=y.getScrollTop();y.win.css({width:e(window).width()-y.zoomrestore.padding.w+"px",height:e(window).height()-y.zoomrestore.padding.h+"px"}),y.onResize(),y.setScrollTop(Math.min(y.page.maxh,t))}},this.init(),e.nicescroll.push(this)},g=function(e){var t=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(e,i){t.stop();var n=t.time();t.steptime=0,t.lasttime=n,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=i,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,i){var n=t.time();t.steptime=n-t.lasttime,t.lasttime=n;var n=i-t.lasty,s=e-t.lastx,o=t.nc.getScrollTop(),r=t.nc.getScrollLeft(),o=o+n,r=r+s;t.snapx=0>r||r>t.nc.page.maxw,t.snapy=0>o||o>t.nc.page.maxh,t.speedx=s,t.speedy=n,t.lastx=e,t.lasty=i},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,i){var n=!1;0>i?(i=0,n=!0):i>t.nc.page.maxh&&(i=t.nc.page.maxh,n=!0),0>e?(e=0,n=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,n=!0),n?t.nc.doScrollPos(e,i,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var i=t.time(),n=e?i+e:t.lasttime;e=t.nc.getScrollLeft();var s=t.nc.getScrollTop(),o=t.nc.page.maxh,r=t.nc.page.maxw;if(t.speedx=0<r?Math.min(60,t.speedx):0,t.speedy=0<o?Math.min(60,t.speedy):0,n=n&&60>=i-n,(0>s||s>o||0>e||e>r)&&(n=!1),e=!(!t.speedx||!n)&&t.speedx,t.speedy&&n&&t.speedy||e){var a=Math.max(16,t.steptime);50<a&&(e=a/50,t.speedx*=e,t.speedy*=e,a=50),t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var l=t.lastscrollx,c=t.lastscrolly,h=function(){var e=600<t.time()-i?.04:.02;t.speedx&&(l=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=l,0>l||l>r)&&(e=.1),t.speedy&&(c=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=c,0>c||c>o)&&(e=.1),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=l,t.nc.setScrollLeft(l)),t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=c,t.nc.setScrollTop(c)),t.timer||(t.nc.hideCursor(),t.doSnapy(l,c))}),1>t.demulxy?t.timer=setTimeout(h,a):(t.stop(),t.nc.hideCursor(),t.doSnapy(l,c))};h()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},v=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(t,i,n){return(i=e.data(t,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollTop():v.call(t)},set:function(t,i){var n=e.data(t,"__nicescroll")||!1;return n&&n.ishwscroll?n.setScrollTop(parseInt(i)):v.call(t,i),this}},e.fn.scrollTop=function(t){if("undefined"==typeof t){var i=!!this[0]&&(e.data(this[0],"__nicescroll")||!1);return i&&i.ishwscroll?i.getScrollTop():v.call(this)}return this.each(function(){var i=e.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollTop(parseInt(t)):v.call(e(this),t)})};var b=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(t,i,n){return(i=e.data(t,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollLeft():b.call(t)},set:function(t,i){var n=e.data(t,"__nicescroll")||!1;return n&&n.ishwscroll?n.setScrollLeft(parseInt(i)):b.call(t,i),this}},e.fn.scrollLeft=function(t){if("undefined"==typeof t){var i=!!this[0]&&(e.data(this[0],"__nicescroll")||!1);return i&&i.ishwscroll?i.getScrollLeft():b.call(this)}return this.each(function(){var i=e.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollLeft(parseInt(t)):b.call(e(this),t)})};var y=function(t){var i=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var t=0,n=0;t<i.length;t++)e.call(i[t],n++);return i},this.push=function(e){i[i.length]=e,i.length++},this.eq=function(e){return i[e]},t)for(var n=0;n<t.length;n++){var s=e.data(t[n],"__nicescroll")||!1;s&&(this[this.length]=s,this.length++)}return this};!function(e,t,i){for(var n=0;n<t.length;n++)i(e,t[n])}(y.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(t){return"undefined"==typeof t?new y(this):this[t]&&e.data(this[t],"__nicescroll")||!1},e.extend(e.expr[":"],{nicescroll:function(t){return!!e.data(t,"__nicescroll")}}),e.fn.niceScroll=function(t,i){"undefined"!=typeof i||"object"!=typeof t||"jquery"in t||(i=t,t=!1),i=e.extend({},i);var n=new y;"undefined"==typeof i&&(i={}),t&&(i.doc=e(t),i.win=e(this));var s=!("doc"in i);return s||"win"in i||(i.win=e(this)),this.each(function(){var t=e(this).data("__nicescroll")||!1;t||(i.doc=s?e(this):i.doc,t=new m(i,e(this)),e(this).data("__nicescroll",t)),n.push(t)}),1==n.length?n[0]:n},window.NiceScroll={getjQuery:function(){return e}},e.nicescroll||(e.nicescroll=new y,e.nicescroll.options=d)}),function(e){e.fn.inlineStyler=function(t){var i=e.extend({propertyGroups:{"*":["border","border-radius","box-shadow","height","margin","padding","width","max-width","min-width","border-collapse","border-spacing","caption-side","empty-cells","table-layout","direction","font","font-family","font-style","font-variant","font-size","font-weight","letter-spacing","line-height","text-align","text-decoration","text-indent","text-overflow","text-shadow","text-transform","white-space","word-spacing","word-wrap","vertical-align","color","background","background-color","background-image","background-position","background-repeat","Opacity","bottom","clear","clip","cursor","display","float","left","opacity","outline ","overflow","position","resize ","right","top","visibility","z-index","list-style-image","list-style-position","list-style-type"],block:["margin","padding"]},elementGroups:{"*":["A","ABBR","ACRONYM","ADDRESS","APPLET","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BASEFONT","BDI","BDO","BIG","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","COMMAND","DATALIST","DD","DEL","DETAILS","DFN","DIALOG","DIR","DIV","DL","DT","EM","EMBED","FIELDSET","FIGCAPTION","FIGURE","FONT","FOOTER","FORM","FRAME","FRAMESET","H1","HEAD","HEADER","HR","HTML","I","IFRAME","IMG","INPUT","INS","KBD","KEYGEN","LABEL","LEGEND","LI","LINK","MAP","MARK","MENU","META","METER","NAV","NOFRAMES","NOSCRIPT","OBJECT","OL","OPTGROUP","OPTION","OUTPUT","P","PARAM","PRE","PROGRESS","Q","RP","RT","RUBY","S","SAMP","SCRIPT","SECTION","SELECT","SMALL","SOURCE","SPAN","STRIKE","STRONG","STYLE","SUB","SUMMARY","SUP","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","TT","U","UL","VAR","VIDEO","WBR"]}},t);this.each(function(t,n){for(var s in i.elementGroups)for(var o=0,r=i.elementGroups[s].length;o<r;o++){var a=e(this).find(i.elementGroups[s][o]);a.each(function(){if(e(this).attr("style"))var t=e(this).attr("style"),n=t.split(";");else var n=[];for(var o=0,r=i.propertyGroups[s].length;o<r;o++){var a=i.propertyGroups[s][o];e(this).css(a)&&n.push(a+":"+e(this).css(a))}e(this).attr("style",n.join(";"))})}})}}(jQuery),function(e){e.fn.extend({addTimerClass:function(e,t,i){var n=this;return this.addClass(e),setTimeout(function(){n.removeClass(e),i&&i.call()},t||0),this},closestChild:function(){var e=Array.prototype.slice.call(arguments);return this.find.apply(this,e).first()},closestParent:function(){var e=Array.prototype.slice.call(arguments);return this.parent().closest.apply(this,e)},donetyping:function(t,i){i=i||1e3;var n,s=function(e){n&&(n=null,t.call(e))};return this.each(function(t,o){var r=e(o);r.is(":input")&&r.on("keyup keypress paste",function(e){"keyup"==e.type&&8!=e.keyCode||(clearTimeout(n),n=setTimeout(function(){s(o)},i))}).on("blur",function(){s(o)})})}}),e.expr.filters.hidden=function(t){return!e.expr.filters.visible(t)},e.expr.filters.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}}(jQuery),jQuery(function(e){e.extend({_isAjaxUploadCompatible:function(){return void 0==this._isCompatible&&(this._isCompatible="undefined"!=typeof(new XMLHttpRequest).upload),this._isCompatible},_isFileParam:function(t){if("object"==typeof t)try{var i=e(t)[0];if(i.name||i.files||i.nodeType&&e(i).is("input[type=file]"))return!0}catch(e){}return!1},_parseFiles:function(t){var i={},n=this;return t=e.isArray(t)?t:[t],this._isAjaxUploadCompatible()?e.each(t,function(t,s){e.each(s,function(t,o){var r=n._isFileParam(o);if(r){var a=[];if(e(o).is("input[type=file]")){for(var l=0;l<e(o).length;l++){var c=e(o)[l];c.nodeType&&c.files&&a.push(c.files)}i[t]=a}else i[t]=o;s[t]=void 0,delete s[t]}})}):e.each(t,function(t,s){e.each(s,function(t,o){var r=n._isFileParam(o);if(r){var a=e(o)[0];a.nodeType&&e(a).is("input[type=file]")&&a.files&&(o=a.files),i[t]=o,s[t]=void 0,delete s[t]}})}),i},ajaxUpload:function(e,t,i,n,s,o){var r=this._parseFiles(t);return this._getUploader().post(this,e,t,r,i,n,s,o)},ajaxDownload:function(e,t,i,n){return this.uploaders.iframeUploader.get(this,e,t,[],i,n)},_getUploader:function(){return this.uploaders[this._isAjaxUploadCompatible()?"ajaxUploader":"iframeUploader"]},_getParamFilledURL:function(t,i){return e.each(i,function(e,i){t+=t.indexOf("?")==-1?"?":"&",t+=e+"="+unescape(encodeURIComponent(i))}),t},uploaders:{ajaxUploader:{post:function(t,i,n,s,o,r,a,l){var c=this;s=this._getFiles(s);var h=[];return l?e(s).each(function(e,s){var l=c.upload(t,i,n,s,o,r,a);h.push(l)}):h=c.upload(t,i,n,s,o,r,a),this._controller(h,s)},_controller:function(t,i){return{files:i,abort:function(){e.each(t,function(e,t){t.abort()})},getFilesDetails:function(){var t=[];return e(i).each(function(e,i){t.push({name:i.fileName,size:i.size})}),t}}},_getFiles:function(t){var i=this,n=[];return e.each(t,function(t,s){s.name?(s.pname=t,n.push(s)):e.each(s,function(e,s){if(s.name)s.pname=t,n.push(s);else for(var o=i._getFiles(s),e=0;e<o.length;e++){var r=o[e];r&&(r.pname=t,n.push(r))}})}),n.length||(n[0]=void 0),n},_getFileName:function(e){return e.fileName?e.fileName:e.name},_getFileSize:function(e){return e.fileSize?e.fileSize:e.size},upload:function(e,t,i,n,s,o,r){var a=new XMLHttpRequest,l=s.customData?s.customData:void 0;if(a.onreadystatechange=function(){if(4==a.readyState){var e=200==a.status?s.success:s.fail;e&&e(a.responseText,a,l)}},s.progress){var c=function(e){var t=Math.floor(e.loaded/e.total*100);e.file=n,void 0!==l?(l.percentage=t,s.progress(e,l)):s.progress(e,t)};a.addEventListener("progress",c,!1),a.upload.addEventListener("progress",c,!1)}return s.complete&&(a.addEventListener("load",s.complete,!1),a.upload.addEventListener("load",s.complete,!1)),s.beforeSend&&s.beforeSend(),a.open("POST",t,!r),this["undefined"!=typeof FormData?"_doFormUpload":"_doBinaryUpload"](a,i,n),a},_doFormUpload:function(t,i,n){var s=new FormData;e.each(i,function(e,t){s.append(e,t)}),e.each(n,function(e,t){t&&s.append(t.pname,t)}),t.send(s)},_doBinaryUpload:function(t,i,n){var s="zoho",o="---------------"+s+Math.random(),r="\r\n--"+o,a="",l=this;e.each(i,function(e,t){a+="\r\n"+l._getMultiPartParamStr(e,t),a+="\r\n--"+o}),r+=a,n?(r+="\r\n",r+=this._getMultiPartFileParamStr(n.pname,n),r+="\r\n--"+o+"--"):r+="--",t.setRequestHeader("Content-Length",r.length),t.setRequestHeader("Content-Type","multipart/form-data; charset: UTF-8; accept-charset: UTF-8; boundary="+o),t.setRequestHeader("Connection","close"),t.sendAsBinary(r)},_getMultiPartFileParamStr:function(e,t){return'Content-Disposition: form-data; name="'+e+'"; filename="'+unescape(encodeURIComponent(t.fileName))+'"\r\nContent-Type: application/octet-stream\r\n\r\n'+t.getAsBinary()},_getMultiPartParamStr:function(e,t){return'Content-Disposition: form-data; name="'+e+'"\r\n\r\n'+unescape(encodeURIComponent(t))}},iframeUploader:{post:function(e,t,i,n,s,o){return this._perform(e,t,i,n,s,o)},get:function(e,t,i,n,s,o){return this._perform(e,t,i,n,s,o,!0)},_perform:function(t,i,n,s,o,r,a){var l=this._createIframe(),c=this._fillParams(t,i,n,s,l.attr("name"),a),h=o.customData?o.customData:void 0,t=this;return l.load(function(i){var n=t.getResponse(e(l[0].contentWindow.document.body),r);o.success&&o.success(n,void 0,h),c.remove(),l.remove()}),o.beforeSend&&o.beforeSend(),c.submit(),this._controller(l,c,s)},getResponse:function(t,i){switch(i){case"json":case"jsonp":return e.parseJSON(t.text());case"html":return t.html();case"text":default:return t.text()}},_controller:function(t,i,n){return{files:[n],abort:function(){t[0].contentWindow.stop()},getFilesDetails:function(){var t=[];return e(n).each(function(i,n){n=e(n),t.push({name:n.val(),size:""})}),t}}},_createIframe:function(){var t="uploadFrame"+(new Date).getTime(),i=e('<iframe name="'+t+'">').attr({src:"about:blank",height:"0",width:"0",frameborder:"0",id:t});return this._iframe=i,e(document.body).append(i),i},_getParamFilledForm:function(t,i,n){e.each(i,function(i,n){if(n){var s=e("<input type=hidden name="+i+">").attr({value:n});t.append(s)}}),e.each(n,function(i,n){n=e(n),n.data("parent",n.parent());var s=n.clone(!0);s.insertBefore(n),t.append(n)})},_fillParams:function(t,i,n,s,o,r){var a=e("<form>").attr({method:r?"get":"post",target:o,action:i});return r||(a.attr("enctype","multipart/form-data"),a[0].encoding="multipart/form-data"),e(document.body).append(a.fadeTo(0,0)),this._getParamFilledForm(a,n,s),a}}}})}),function(e,t){"$:nomunge";var i,n=e.jQuery||e.Cowboy||(e.Cowboy={});n.throttle=i=function(e,i,s,o){function r(){function n(){l=+new Date,s.apply(c,u)}function r(){a=t}var c=this,h=+new Date-l,u=arguments;o&&!a&&n(),a&&clearTimeout(a),o===t&&h>e?n():i!==!0&&(a=setTimeout(o?r:n,o===t?e-h:e))}var a,l=0;return"boolean"!=typeof i&&(o=s,s=i,i=t),n.guid&&(r.guid=s.guid=s.guid||n.guid++),r},n.debounce=function(e,n,s){return s===t?i(e,n,!1):i(e,s,n!==!1)}}(this),function(e){e.whileAsync=function(e){var t=Math.abs(e.delay)||10,i=isNaN(e.bulk)?500:Math.abs(e.bulk),n=e.test||function(){return!0},s=e.loop||function(){},o=e.end||function(){};!function(){for(var e=!1,r=new Date;(e=n())&&(s(),!(0===i||new Date-r>i)););e?setTimeout(arguments.callee,t):o()}()},e.eachAsync=function(t,i){var n=0,s=t.length,o=i.loop||function(){};e.whileAsync(e.extend(i,{test:function(){return n<s},loop:function(){var e=t[n];return o.call(e,n++,e)}}))},e.fn.eachAsync=function(t){return e.eachAsync(this,t),this}}(jQuery);!function(t){t.ui.key={_keyInit:function(){var t=this;this.element.bind("keypress."+this.widgetName,function(e){return t._keyPress(e)}).bind("keydown."+this.widgetName,function(e){return t._keyDown(e)}).bind("keyup."+this.widgetName,function(e){return t._keyUp(e)})},_keyDestroy:function(){this.element.unbind("."+this.widgetName)},_keyPress:function(t){},_keyDown:function(t){},_keyUp:function(t){}}}(jQuery),function(t){var e={widgetEventPrefix:"menubar",_currentSelectedMenu:void 0,_EVENTS:{ONMOUSEOVERMENU:"mouseover",ONMOUSEOUTMENU:"mouseout",ONCLICKMENU:"click",ONBEFOREHIDEMENU:"beforehide",ONHIDEMENU:"hide",ONBEFOREUNHIDEMENU:"beforeunhide",ONUNHIDEMENU:"unhide",ONBEFOREDISABLEMENUBAR:"beforedisable",ONDISABLEMENUBAR:"disable",ONBEFOREENABLEMENUBAR:"beforeenable",ONENABLEMENUBAR:"enable",ONSHOW:"show"},_create:function(){this._initMenubar(),this._bindEvents()},_initMenubar:function(){this._menusMain=t("ul:first",this.element),this._menusMain.addClass("ui-widget ui-zmenubar ui-state-active"),this._menus=t(this._menusMain).children();var e=this;this._menus.each(function(i,n){e._buildMenu(t(n),i)}),this._menusMain.show()},_bindEvents:function(){var e=this;t(document).on("keydown."+this.widgetName,function(t){e._keyPressed(t)}),t(document).on("menubarshow."+this.widgetName,function(t){alert("show event trigged")})},_getRelatedMenuPopup:function(e){var i=t("a",e).click(function(t){t.preventDefault()}).attr("href");if(i.indexOf("#")!=-1){var n=i.split("#");i=n[n.length-1]}return i},_buildMenu:function(e,i){e.addClass("ui-zmenubar-item");var n=(t.ui.shortcutkeys.register(e),this._getRelatedMenuPopup(e));e.attr("popup",n);var o=e.metadata(),s=e.text();o.label||(o.label=s),o.index=i;var a=t("<span>").text(o.label);e.append(a);var r=this;t("#"+n).on("menushow."+this.widgetName,function(e,i){t(i.target[0]).addClass("ui-zmenubar-selected ui-state-hover"),r._currentSelectedMenu=i.target[0],r._menusMain.on("mouseover."+this.widgetName,function(t){r._handleMenuMouseOver(t)})}),t("#"+n).on("menuhide."+this.widgetName,function(e,i){t(i.target[0]).removeClass("ui-zmenubar-selected ui-state-hover"),r._currentSelectedMenu=void 0,r._menusMain.off("mouseover."+this.widgetName)})},_handleMenuMouseOver:function(e){var i=e.srcElement;i||(i=e.target),t(i).is("[popup]")&&t(i).trigger("click")},_getMenuAt:function(e,i){var n=i?this._menusMain.children():this._menus;return e>=n.length?[]:(e=!e||e<0?0:e,t(n[e]))},hideMenu:function(t){var e=this._getMenuAt(t,!0);e.length&&this._hideMenu(e)},unhideMenu:function(e){var i=t(this._getMenuAt(e,!0));i.length&&this._hideMenu(i,!0)},_hideMenu:function(e,i){if((1!=this._menus.length||i)&&!this._isDisabled(t(this._menusMain))){var n=(t(e).metadata(),this._triggerEvent(this._EVENTS[i?"ONBEFOREUNHIDEMENU":"ONBEFOREHIDEMENU"],e));n&&(e[i?"show":"hide"](),this._triggerEvent(this._EVENTS[i?"ONUNHIDEMENU":"ONHIDEMENU"],e))}},_disableMenubar:function(e){var i=this._triggerEvent(this._EVENTS[e?"ONBEFOREENABLEMENUBAR":"ONBEFOREDISABLEMENUBAR"]);i&&(e?t(this._menusMain).removeClass("ui-state-disabled"):t(this._menusMain).addClass("ui-state-disabled"),e?t(this._menusMain).removeAttr("disabled"):t(this._menusMain).attr("disabled",!e),e?t(this._menus).removeAttr("disabled"):t(this._menus).attr("disabled",!e),this._triggerEvent(this._EVENTS[e?"ONENABLEMENUBAR":"ONDISABLEMENUBAR"]))},_isDisabled:function(t){var e=t.attr("disabled");return!!e},disableMenubar:function(t){this._disableMenubar(!1)},enableMenubar:function(){this._disableMenubar(!0)},_triggerEvent:function(e,i,n){var o=t(this.element);i&&(o=t(i));var s={menu:o};return n&&(s=t.extend(s,n)),this._trigger(e,e,s)},triggerEvent:function(){this._triggerEvent(this._EVENTS.ONSHOW)},_getSelectedMenuIndex:function(t){var e=t.metadata();return e.index},_keyPressed:function(e){if(this._currentSelectedMenu){e.stopPropagation(),e.preventDefault();var i=this._menus.length,n=this._getSelectedMenuIndex(t(this._currentSelectedMenu)),o=n;switch(e.keyCode){case t.ui.keyCode.RIGHT:o++;break;case t.ui.keyCode.LEFT:o--;break;case t.ui.keyCode.HOME:o=0;break;case t.ui.keyCode.END:o=i-1}if(o<0?o=i-1:o>=i&&(o=0),n!=o){var s=this._menus[o];t(s).trigger("click")}}}};e=t.extend({},e),t.widget("ui.zmenubar",e),t.ui.zmenubar.defaults={}}(jQuery),function(t){t.widget("ui.zmenu",{widgetEventPrefix:"menu",_DEFAULT_ICONS:{CHECK_BOX_NOT_CHECKED_ICON:"ui-zmenu-no-icon",CHECK_BOX_CHECKED_ICON:"ui-icon-check",RADIO_BUTTON_NOT_CHECKED_ICON:"ui-zmenu-no-icon",RADIO_BUTTON_CHECKED_ICON:"ui-icon-bullet"},_MENU_ITEM_TYPES:{CHECK_BOX:"checkbox",RADIO_BUTTON:"radio",SUB_MENU:"submenu"},_EVENTS:{ONBEFORESHOW:"beforeshow",ONBEFOREHIDE:"beforehide",ONSHOW:"show",ONHIDE:"hide",ONMENUITEMCLICKED:"itemclicked",ONBEFORESUBMENUSHOW:"beforesubshow",ONSUBMENUSHOW:"subshow",ONBEFORESUBMENUHIDE:"beforesubhide",ONSUBMENUHIDE:"subhide",ONMENUITEMHOVERED:"itemhovered",ONMENUITEMDISABLED:"itemdisabled",ONICONCHANGE:"itemiconchange",ONLABELCHANGE:"itemlabelchange"},_MENU_SCOPES:{icon_text:"ui-zmenu-icontext",icon_only:"ui-zmenu-icononly",text_only:"ui-zmenu-textonly",icon_only_floating:"ui-zmenu-icononly ui-zmenu-floating",text_only_floating:"ui-zmenu-textonly ui-zmenu-floating",icon_text_floating:"ui-zmenu-icontext-floating",icon_text_header:"ui-zmenu-icontext-header",icon_text_on_top:"ui-zmenu-icontext-top",icon_text_on_bottom:"ui-zmenu-icontext-bottom",icon_text_hint:"ui-zmenu-icontext-hint"},_CHECK_SELECTION_ICON:"ui-state-active",options:{positionAlterable:!0,type:"icon_text",bindKeys:!0,fixed:!1,fixWidth:!0,columns:3,skipHighlightTarget:!1,scroll:"default",toggle:!0},_create:function(){var e=this,i=this.element.metadata().toggle||this.options.toggle;this.element.metadata().toggle=!!i,e._buildMenu(this.element),this._menuTextArray=[],this._initEvents();var n=this.options.appendTo;void 0!==n&&""!==n&&(n=n.indexOf("#")!=-1?n:"#"+n,this.options.appendTo=t(n)),this.options.fixed?(this._resetMenuTextArray(this.element),this.show()):this.element.hide(),this.options.bindKeys&&this.element.focusable(),this.options.height&&this.element.data("height",this.options.height),this.element.data("positionAlterable",this.options.positionAlterable)},_addScopeForMenu:function(t,e){t.addClass(this._MENU_SCOPES[e?e:this.options.type])},_initEvents:function(e){var i=e?"sub":"",n=e;if(e=e?e:this.element,!(e.data("initialized")&&!n||this._isExternalSubmenu(e))){e.data("initialized",!0);var o=this;t(e).on("click."+i+this.widgetName,function(t,e){return o._menuClicked(t,e)})}},_buildMenu:function(t,e){t.addClass("ui-widget ui-widget-content ui-zmenu "+(this.options.fixed?"":"ui-widget-shadow-new ui-corner-all ui-zmenu-position")),this._addScopeForMenu(t,e),this._buildDefaults(t)},_uninitSliders:function(t){var e=t.metadata();e.sliders&&(e.sliders.top&&e.sliders.top.remove(),e.sliders.bottom&&e.sliders.bottom.remove())},_createSlider:function(e,i){var n=i?"top":"bottom",o=e.metadata();o.sliders||(o.sliders={});var s=o.sliders[n];s&&s.remove(),s=t("<div>").addClass("ui-zmenu-scroll-"+n),o.sliders[n]=s;var a=this;s.hover(function(t){a._startScroll(e,i)},function(t){a._stopScroll(e)}).hide(),s.click(function(t){var n=e.scrollTop();return a._stopScroll(e),e.scrollTop(n+100*(i?-1:1)),a._startScroll(e,i),!1});var r=e.position(),l=e.outerWidth()-2,u=i?0:e.outerHeight()-6;s.css({top:r.top+1+u,left:r.left+1,width:l}).fadeTo(0,1);var h=i?"-3px":"-1px",d="top"==n?"ui-corner-bottom":"ui-corner-top",c=t('<button class="ui-button ui-widget ui-state-default ui-button-icon-only ui-scroll-arrowbg '+d+'"></button>').css({top:h}),p="top"==n?"n":"s",m=t('<span class="ui-button-icon-primary ui-icon ui-components-icon ui-icon-triangle-1-'+p+'"></span>'),f=t('<span class="ui-button-text">.</span>');return t(m).appendTo(t(c)),t(f).appendTo(t(c)),t(c).appendTo(s),s.insertAfter(e),s},_initSliders:function(t){this._createSlider(t),this._createSlider(t,!0);this._displayScrolls(t)},_displayScrolls:function(t){var e=t.metadata().sliders,i=t.scrollTop();e.top[0==i?"hide":"show"](),e.bottom[t[0].scrollHeight-i<t.outerHeight()?"hide":"show"]()},_startScroll:function(t,e){var i=e?0:t[0].scrollHeight-t.innerHeight(),n=this,o=t.scrollTop()-i,s=Math.abs(1e3*o/50);t.animate({scrollTop:i},{duration:s,easing:"linear",complete:function(){n._displayScrolls(t)}})},_stopScroll:function(t){t.stop(),this._displayScrolls(t)},_scrollToView:function(t,e,i){var n=e.scrollTop(),o=t.height(),s=t.position().top,a=e.height();if(a-s<o){var r=n+(s-(a/3-o));e.animate({scrollTop:r},{duration:300,easing:"linear"})}else if(s<-1){var r=s-o;e.animate({scrollTop:r},{duration:300,easing:"linear"})}return!1},_buildDefaults:function(e){var i=e.children("li"),n=this;i.each(function(i,o){n._buildMenuItem(t(o),e)})},_setWidth:function(e,i){if(!this._isFloatingMenu(e)){var n=t("#tmpDiv");n.length||(n=t("<div>").attr("id","tmpDiv").css({width:"auto"}).appendTo("body")),n.attr("class","ui-zmenu "+e.attr("class")),n.html(t(i).clone());var o=n.outerWidth()+1;t(i).data("width",o),n.empty().hide()}},_addEventsForMenuItems:function(e){var i=this;e.hover(function(e,n){e.data=n,i._handleMouseOverOnMenuItems(t(this),e)},function(e,n){e.data=n,i._handleMouseOutOnMenuItems(t(this),e)})},_getMenuItemType:function(t){return t.attr("mtype")},_isChecked:function(t){return!!this._isCheckBoxOrRadioButton(t)&&t.data("checked")},_getRelatedIcon:function(t){var e=this._getInputType(t),i=t.metadata(),n=i.icon;if(e){var o=this._isChecked(t);if(n)n=o?n+" "+this._CHECK_SELECTION_ICON:n;else switch(e){case this._MENU_ITEM_TYPES.CHECK_BOX:n=this._DEFAULT_ICONS[o?"CHECK_BOX_CHECKED_ICON":"CHECK_BOX_NOT_CHECKED_ICON"];break;case this._MENU_ITEM_TYPES.RADIO_BUTTON:n=this._DEFAULT_ICONS[o?"RADIO_BUTTON_CHECKED_ICON":"RADIO_BUTTON_NOT_CHECKED_ICON"]}}return n},_getIconForMenuItem:function(t){var e=t.metadata(),i=this._getRelatedIcon(t);return i||(i=e.icon),e.iconText&&(i=(i?i+" ":"")+"ui-zmenu-icon-textable"),i=i?i:"ui-zmenu-no-icon"},_isGroup:function(t){var e=this._getMenuItemType(t);return"group"===e},_isSeparator:function(t){var e=this._getMenuItemType(t);return"separator"===e},_buildGroup:function(e){var i=t(e).children("ul");if(!i.length)return!1;i.addClass("ui-zmenu-group-base");var n=i.metadata(),o=n.type;!o&&n.componentOptions&&(o=n.componentOptions.type),this._addScopeForMenu(i,o);var s=t(i).children("li"),a=this,r=e.attr("id");i.metadata().type;s.each(function(e){var n=t(s[s.length-e-1]);a._buildMenuItem(n,i),a._buildGroupItem(n,r)});e.text();return e.attr("mtype","group"),e.attr("gname",e.attr("id")),e.addClass("ui-zmenu-group-wrapper"),i},_buildGroupItem:function(t,e){this._isGroup(t)||(t.attr("gname",e),t.is("[mtype=separator]")||t.addClass("ui-zmenu-group-item"))},_buildSeparator:function(t){var e=t.attr("groupSep");t.addClass("ui-zmenu-separator"),e&&t.addClass("ui-zmenu-group-separator")},_getScopedMenu:function(t){var e=t.closest(".ui-zmenu-group-base");return e.length||(e=t.closest(".ui-zmenu")),e},_getMenuItemScopeType:function(t){var e=this._getScopedMenu(t),i=this.getMenuType(e);return i},_buildMenuItem:function(e,i){e.addClass("ui-zmenu-item");var n=this._isFloatingMenu(i);n&&e.addClass("ui-zmenu-item-floating");var o=e.metadata();o.hidden&&this._hideMenuItem(e,!1,!0);var s=this._getMenuItemType(e);if("custom"==s){var a=o&&o.html;a="object"==typeof a?a.content:a,a&&e.html(a),e.addClass("ui-zmenu-item-custom");var r=e.find(".ui-widget-shadow-new");r.removeClass("ui-widget-shadow-new");var l=e.find(".ui-corner-all");return l.removeClass("ui-corner-all"),this._addEventsForMenuItems(e),void(i.children(":not([mtype=custom])").length&&this._setWidth(i,e))}if(this._isSeparator(e))return this._buildSeparator(e);var u=!1;if(this._isGroup(e)){u=!0;var h=this._buildGroup(e);h&&(e=e.clone(!0),e.attr("id",e.attr("id")+"Label"),e.removeClass("ui-zmenu-group-wrapper"),h.prepend(e),h.parent().removeClass("ui-zmenu-item")),e.addClass("ui-zmenu-group")}else"icon_text_floating"==this._getMenuItemScopeType(e)&&e.addClass("ui-widget-content");n=n&&!e.hasClass("ui-zmenu-group")&&!e.hasClass("ui-zmenu-subsplit");var d=t("<span />").addClass("ui-zmenu-icon-layout"),c=t("<span />").addClass("ui-icon ui-zmenu-icon-inner"+(n?" ui-zmenu-icon-placeholder":"")).addClass(this._getIconForMenuItem(e));o.iconText&&(i.data("iconAsText",!0),c.text(o.iconText)),d.append(c),c.hasClass(this._CHECK_SELECTION_ICON)&&(c.removeClass(this._CHECK_SELECTION_ICON),this._isFloatingMenu(e,!0)||d.addClass(this._CHECK_SELECTION_ICON));var p=void 0;"file"==s&&(p=e.find("input[type=file]").detach(),p.addClass("ui-zmenu-file"));var m=u?"":e.text();if(this._isSubMenuItem(e)){var f=t(e).contents().filter(function(){return 3==this.nodeType}),_=this;f.each(function(e,i){var n=_._trimStr(t(i).text());n.length&&(m=n,t(i).remove())})}else e.text("");o.label||(o.label=this._trimStr(m));var g=o.ellipsis?o.label+"...":o.label,v=t("<span />").addClass("ui-zmenu-text"+(n?" ui-zmenu-text-placeholder":"")).text(g),b=t.ui.shortcutkeys?t.ui.shortcutkeys.register(e):void 0;e.append(d,v),this._isRadioButton(e)&&this._isChecked(e)&&this._fixCheckRadio(e,!0);var C=t("<span>").addClass("ui-zmenu-item-placeholder");if(this._isSubMenuItem(e)){if(this._buildSubMenu(e),b&&e.is("[mtype=splitmenu]")){var E=this._createShortCutEle(e,b);C.insertAfter(E).hide()}}else if(b){var E=this._createShortCutEle(e,b);C.insertAfter(E)}var y=e.metadata().hint;if(y){var x=t("<span />").addClass("ui-zmenu-hint");x.text(y),e.append(x)}p&&e.append(p),u?o.label.length||e.remove():(this._checkAndDisableMenuItem(e,!0),this._addEventsForMenuItems(e));var z=e.attr("onclick");this._fixClick(e,z),e.removeAttr("onclick"),e.off("click")},_createShortCutEle:function(e,i){var n=t("<span />").addClass("ui-zmenu-shortcut");return n.text(i[0]),e.append(n),n},_trimStr:function(t){return t.replace(/^\s+|\s+$/g,"")},_fixClick:function(t,e){var i=t.metadata();i.clickHandler||(i.clickHandler=e,i.onclick=function(t){var e=i.clickHandler;e&&e.call(t)})},_buildSplitMenu:function(e){var i=e.metadata(),n=t("<ul>").attr("mtype","group").addClass("ui-zmenu-splitgroup"),o=t("<li>").attr({mtype:"group",id:"group_"+e.attr("id")}),s=t("<li>").addClass("ui-zmenu-subsplit");s.data("mainsplit",e),e.data("subsplit",s);var a=this._isDisabled(e);a&&this._disableMenuItem(s,!a),i.doNotOpenSubmenu||e.hover(function(t){var i=setTimeout(function(){s.trigger(t)},150);e.data("timeout",i)},function(t){var i=e.data("timeout");i&&clearTimeout(i)}),o.append(n),o.addClass("ui-zmenu-splitmenu"),o.insertBefore(e),this._buildMenuItem(o,n),n.append(e);var r=this._getSubMenu(e);if("object"==typeof r)if(r.metadata().isExternalSubMenu){var i=e.metadata();s.metadata().submenu=i.submenu,delete i.submenu}else s.append(r);else s.append(r);return n.append(s),n.addClass("ui-zmenu-floating"),this._buildMenuItem(s,n),!0},_buildSubMenu:function(e){if("splitmenu"!=e.attr("mtype")||!this._buildSplitMenu(e)){var i=e.metadata();if(i.contextual){e.addClass("ui-zmenu-item-contextual");var n=this;e.on("contextmenu."+this.widgetName,function(t){n._showSubmenu(e,{left:t.clientX,top:t.clientY,forcePosition:!0},!0),n._setFocus()})}var o=t("<span />").addClass("ui-icon ui-zmenu-submenu-arrow-cue ui-components-icon ui-icon-triangle-1-e");e.append(o);var s=this._getSubMenu(e);if(s&&(s.hide().attr({mtype:"submenu"}),s.parent().attr({mtype:"submenuitem"}),e.metadata().submenu=s,s.metadata().parent=e,!s.metadata().isExternalSubMenu)){var a=s.metadata(),r=a.type;!r&&a.componentOptions&&(r=a.componentOptions.type),this._buildMenu(s,r)}}},_isSubMenuItem:function(t){var e=t.metadata();return!!e.submenu||!t.is("[mtype=group]")&&t.children(":first").is("ul")},_isSubMenu:function(t){var e=t.metadata().parent;return!!e},_getSubMenu:function(e){var i=e.metadata().submenu;if("string"==typeof i){if(i=t(i),!i.length)return;var n=i.metadata();i.data("zmenu")||i.zmenu(n.componentOptions),n.isExternalSubMenu=!0}return i&&i.length?(i.metadata().parent=e,i):e.children("ul:first")},_clearMenuTimeout:function(){this._menuTimeout&&(clearTimeout(this._menuTimeout),this._menuTimeout=void 0)},_isLastMenuItem:function(t){return t.parent().children("li:last").get(0)==t.get(0)},_isFirstMenuItem:function(t){return t.parent().children("li:first").get(0)==t.get(0)},_isDirectEvent:function(t){return!!t.originalEvent},_isMenuOfMenuItemShown:function(e){return this._isSubMenuItem(e)&&t(this._getSubMenu(e)).is(":visible")},_checkAndHideAllOpenedSubMenus:function(e){var i=e.find(".ui-state-hover:last");if(i.length){var n=this._getSubMenu(i);t(n).is(":visible")&&(this._checkAndHideAllOpenedSubMenus(n),i.trigger("mouseleave"))}},_handleMouseOverOnMenuItems:function(t,e,i){i&&this._scrollToView(t,t.closest(".ui-zmenu"));var n=!!e&&this._isDirectEvent(e);if(t.is(".ui-state-hover")&&this._isMenuOfMenuItemShown(t))return void this._setLastOverlayedMenuItem(t);if(this._checkAndHideAllOpenedSubMenus(t.closest(".ui-zmenu")),this._setLastOverlayedMenuItem(t),this._clearMenuTimeout(),!t.is("[mtype=custom]")){var o=this._isSubMenuItem(t);if(this._isDisabled(t)||t.addClass("ui-state-hover"),!this._isDisabled(t)&&t.is(".ui-zmenu-subsplit")){var s=t.data("mainsplit");s&&s.addClass("ui-state-hover")}this._isDisabled(t)||(o&&n&&!t.is(".ui-zmenu-item-contextual")&&this._showSubmenu(t,{isSplitMenu:t.is(".ui-zmenu-subsplit")}),this._triggerEvent(this._EVENTS.ONMENUITEMHOVERED,e,t.parent(),t))}},_showSubmenu:function(e,i,n){var o=this;i.target||(i.target=e);var s=function(){o.show(i,t(o._getSubMenu(e)))};n?s():o._menuTimeout=setTimeout(s,100)},_handleMouseOutOnMenuItems:function(e,i){var n=this._isDirectEvent(i);if(n){if(!e.parent().has(i.relatedTarget).length){if(this._isSubMenuItem(e)&&this._isMenuOfMenuItemShown(e))return;this._setLastOverlayedMenuItem(void 0)}}else{var o=i.data;if(!this._isMenuOfMenuItemShown(e)||!this._isElementInMenu(o,t(this._getSubMenu(e)))){if(this._clearMenuTimeout(),e.removeClass("ui-state-hover"),e.is(".ui-zmenu-subsplit")){var s=e.data("mainsplit");s&&s.removeClass("ui-state-hover")}if(this._isSubMenuItem(e)){var a=this._getSubMenu(e);if(!a)return;this._isElementInMenu(o,t(a))||this.hide(a)}}}},_isElementInMenu:function(e,i){return i||(i=this.element),e=t(e)[0],1==i.has(e).length},_getAllMenuItems:function(t,e,i,n,o){return t&&t.length||(t=this.element),t.find(".ui-zmenu-item:not([mtype=group], .ui-zmenu-subsplit"+(o?", .ui-zmenu-separator":"")+(e?", .ui-zmenu-item-floating":"")+(i?", li ul[mtype=submenu] li":"")+")"+(n?":visible":""))},_getMenuTypeFromData:function(t){var e=t.metadata(),i=e.type;return!i&&e.componentOptions&&(i=e.componentOptions.type),i},getMenuType:function(t){if(t&&this._isExternalSubmenu(t))return t.zmenu("getMenuType");t||(t=this.element);var e=this._getMenuTypeFromData(t);return e||(t.is(".ui-zmenu-group-base")&&(t=t.closest(".ui-zmenu"),e=this._getMenuTypeFromData(t)),e||(e=this.options.type)),e},_isFloatingMenu:function(t,e){var i=e?this._getScopedMenu(t):t?t:this.element,n=this.getMenuType(i);return this._isTypeFloating(n,i)},_isTypeFloating:function(t,e){return!!(t&&t.indexOf("floating")!=-1||e&&(e.hasClass("ui-zmenu-floating")||e.hasClass("ui-zmenu-icontext-floating")))},_fixTextOnlyFloatingItemsWidth:function(e){var i=e.children("li:not(.ui-zmenu-group):not(.ui-zmenu-separator)"),n=0;i.each(function(e,i){i=t(i);var o=i.width();o>n&&(n=o)}),i.width(n)},_fixFloatingMenuWidth:function(e){var i=e.metadata().columns;if(!i||i==-1){var n=e.closest(".ui-zmenu");if(i=this._isExternalSubmenu(n)?n.zmenu("option","columns"):this.options.columns,!i||i==-1)return}var o=this._getAllMenuItems(e,!1,!1,!0),s=t(o[0]).outerWidth(!0);this._fixEllipsisForMenuItems(o,e,s*i);var a=s*i;e.width(a+1),e.data("width",a)},_getItemWithMaxWidth:function(e){e=e?e:this._getAllMenuItems(this.element,!1,!1,!0);var i=0,n=e[0];return e.each(function(e,o){o=t(o);var s=o.data("width");s>i&&(i=s,n=o)}),n},_getItemsLargerThanMenu:function(e,i,n){var o=[];return e=e?e:this._getAllMenuItems(this.element,!1,!1,!0),e.each(function(e,i){i=t(i);var s=i.width();s>n&&o.push(i)}),o},_fixEllipsisForMenuItems:function(e,i,n){var o=this._getItemsLargerThanMenu(e,i,n),s=this;t(o).each(function(e,i){i=t(i),s._fixEllipsisForMenuItem(i,n)})},_fixEllipsisForMenuItem:function(e,i){var n=this;t(e).each(function(e,o){var s=i,o=t(o),a=o,r=void 0;if(o.is("[mtype=custom]"))if(o.html()==o.text())r=o.text();else if(1==o.children().length)o=o.children(":first"),r=o.text();else{var l=o.find("[ellipsis=true]");l.length&&(r=l.text(),o=l)}else{a=o.find(".ui-zmenu-text"),r=a.text();var u=o.find(".ui-zmenu-icon-layout"),h=o.find(".ui-zmenu-shortcut");s=i-(u.is(":visible")?u.width():0)-(h.is(":visible")?h.width():0)}if(r){var d=n._getEllipsisText(r,s);o.attr("title",r),o.data("text",r),a.text(d)}})},_getEllipsisText:function(e,i){var n="...",o=0,s=t("<span>").addClass("ui-zmenu-item ui-zmenu-item-dummy").text(e);for(t("body").append(s);s.width()>i&&o<=10;)o++,e=e.substring(0,e.length-7)+n,s.text(e);return s.remove(),delete s,e},_fixMenuItemsWidth:function(t,e,i){if(t&&this.options.fixWidth){this.element[0]==t[0]&&t.css("width","");var n=t;return t.is(".ui-zmenu-group-base")&&(n=t.closest(".ui-zmenu")),e||(e=this.getMenuType(t)),this._isTypeFloating(e)?("text_only_floating"==e&&this._fixTextOnlyFloatingItemsWidth(t),this._fixFloatingMenuWidth(t)):void 0}},_fixMenuHeight:function(e,i){e.removeClass("ui-zmenu-scroll");var n="auto";e.height(n);var o=e.data("positionAlterable");o||this._positionMenu(e,i);var s=e.height(),a=1*e.css("top").split("px")[0]-t(window).scrollTop();a=a?a:0;var r=t(window).height(),l=r-s;if(a+s>=r&&(l<0||!o)&&(n=r-a-15),e.data("height")){var u=e.data("height")?e.data("height"):e.data("modifiedHeight");n=u<s?u:n}else l>0&&o&&(n=s);e.height(n);var h=t.ZContextMenu.scrollWidth,d=e.metadata(),c=d.isExternalSubMenu&&d.componentOptions?d.componentOptions.scroll:this.options.scroll;if(s>n){e.data("modifiedHeight",n);var p=e.data("modifiedHeight");if(c=c?c:"default",c&&"no"!=c)if(e.data("pos")||this._positionMenu(e,i),"slider"==c)p&&p!=n&&this._uninitSliders(e),this._initSliders(e);else{e.addClass("ui-zmenu-scroll");var m=e.data("width")+(this._isFloatingMenu(e)?h+1:h);e.width(m)}}else c&&"no"!=c&&e.removeClass("ui-zmenu-scroll")},_positionMenu:function(t,e,i){if(e||(e=t.data("pos"))){if(void 0==i&&(i=t.data("isSubMenu")),i&&(!e||!e.forcePosition)){var n=t.metadata().parent,o=n.offset(),s=o.left+n.outerWidth()-3,a=o.top+1;e={left:s,top:a}}(this.options.positionAlterable||i)&&(e=this._checkBoundriesAndAlterPosition(t,e,n)),t.data({pos:e,isSubMenu:i});var r=t.metadata().sliders;r&&(r.top.css({left:e.left+1,top:e.top+1}),r.bottom.css({left:e.left+1,top:e.top+(t.outerHeight()-6)+1})),t.css(e)}},_checkBoundriesAndAlterPosition:function(e,i,n){var o=this.options.positionAlterable,s=this.options.appendTo,a=void 0!==s&&s.length?s:t(window),r={height:a.scrollTop()+a.height(),width:a.scrollLeft()+a.width()},l=i.top+e.outerHeight(),u=i.left+e.outerWidth();return"left"!=o&&(r.height<l&&(i.top=r.height-e.outerHeight()-2),i.top<0&&(i.top=0)),"top"!=o&&(r.width<u&&(n?i.left=i.left-n.outerWidth()-e.outerWidth()+5:i.left=r.width-e.outerWidth()-2),i.left<0&&(i.left=0)),i},_hideAllSubMenus:function(){var t=this._traverseAndFindBaseMenu();t[0]!=this.element[0]?t.zmenu("hide"):this._checkAndHideAllOpenedSubMenus(t)},_traverseAndFindBaseMenu:function(t){var e=t;t=t?t:this.element;var i=t.metadata();if(i.isExternalSubMenu||!e&&t.is("[mtype=submenu]"))for(var n=i.parent;n;){var e=n.closest(".ui-zmenu");e.is(":visible")?(t=e,i=t.metadata(),n=i.parent):n=!1}return t.closest(".ui-zmenu")},_initRuntimeEvents:function(){var e=this;t(this.element).on("keydown.run"+this.widgetName,function(i){var n=i&&i.target?i.target:i.srcElement;t(n).is(".ui-focusable")&&e._keyPressed(i)})},_lastOverlayedMenuItem:void 0,_lastOverlayedMenu:void 0,_setLastOverlayedMenuItem:function(t,e){if(!this._lastOverlayedMenuItem||!t||this._lastOverlayedMenuItem.get(0)!=t.get(0)){if(this._lastOverlayedMenuItem&&t&&t.length&&!this._lastOverlayedMenu.has(t.get(0)).length){var i=t.metadata().submenu;if(!i||i[0]!=this._lastOverlayedMenu[0]){var n=this._lastOverlayedMenu.metadata().parent;n&&n.parent().has(t[0]).length&&n.trigger("mouseleave",t)}}if(this._lastOverlayedMenuItem&&!e&&this._lastOverlayedMenuItem.trigger("mouseleave",t),this._lastOverlayedMenuItem=t,t&&t.length){var o=t.closest(".ui-zmenu");this.updateLastMenuChain(o)}}},updateLastMenuChain:function(t,e){if(this._lastOverlayedMenu=t,!e&&t[0]!=this.element[0]){var i=this._traverseAndFindBaseMenu();i.zmenu("updateLastMenuChain",t,!0)}},_getExactItem:function(t,e){var i=t.children("ul:first");return i.length&&i.is(".ui-zmenu-group-base")?i.children("li:visible:not(.ui-zmenu-group, .ui-zmenu-separator):"+(e?"last":"first")):t},_getNextFloatingMenuItem:function(e,i,n,o,s){var a=void 0,r=o?"top":"left",l=i.length;return t.each(i,function(n,o){o=i[s?l-n-1:n];var u=t(o).position();if(u[r]==e[r])return a=t(o),!1}),a},_getNextMenuItem:function(e,i,n,o){var s=this._lastOverlayedMenu&&0!=this._lastOverlayedMenu.length?this._lastOverlayedMenu:this.element,a=this._isFloatingMenu(s),r=void 0;if(n=void 0!=n?n:this._lastOverlayedMenuItem,n=n&&n.hasClass("ui-zmenu-subsplit")?n.closest(".ui-zmenu-group-wrapper"):n,0==n&&(n=void 0),n&&n.length){if(n.is(".ui-zmenu-group-wrapper"))r=n[e?"prev":"next"](),(!r.length||r.is(".ui-zmenu-group-wrapper,.ui-zmenu-group,.ui-zmenu-separator")&&!r.find("li:visible").length)&&(r=this._getNextMenuItem(e,i,r));else{r=n[e?"prevAll":"nextAll"](":visible.ui-zmenu-item,.ui-zmenu-group-wrapper").not(".ui-zmenu-separator,.ui-zmenu-group");var l=n.position(),u=o==t.ui.keyCode.LEFT||o==t.ui.keyCode.RIGHT;if(a?(r=this._getNextFloatingMenuItem(l,r,e,u),r||(r=n[e?"nextAll":"prevAll"](".ui-zmenu-item:not(.ui-zmenu-separator):not(.ui-zmenu-group):visible"),l[u?"left":"top"]=0,r=this._getNextFloatingMenuItem(l,r,e,u,!0))):r=t(r[0]),!r||!r.length){var h=n.closest("ul.ui-zmenu-group-base"),d=!1;h.length&&(d=h.parent()),r=this._getNextMenuItem(e,i,d)}}r=this._getExactItem(r,e)}else r=s.find(".ui-zmenu-item:visible:not(.ui-zmenu-group, .ui-zmenu-seperator, .ui-zmenu-subsplit):"+(e?"last":"first")),r=this._getExactItem(r,e);return this._setLastOverlayedMenuItem(r,i),this._lastOverlayedMenuItem},_menuClicked:function(e,i){var n=t(e.target);if(n.is("input[type=file]")){var o=this;return n.one("change",function(t){o.hide()}),!0}n.is("li")||(n=n.parent()),this._handleClickOnMenuItem(n,e,i)},_handleClickOnMenuItem:function(e,i,n){if(e=t(e).closest(".ui-zmenu-item"),n||(n={}),void 0!==e&&e.length&&e){var o=e.metadata();if(e.is("[mtype=splitmenu]")&&!o.doNotOpenSubmenu&&this._clearMenuTimeout(),this._isDisabled(e)||this._isGroup(e)||this._isSubMenuItem(e)&&!o.contextual)return;var s=o.onclick;s&&s(),i.originalEvent||(i=void 0),this._isCheckBoxOrRadioButton(e)&&this._check(e,void 0,n);var a=e.closest(".ui-zmenu");return a.data("isSubMenu")&&(this._target=a.data("target")),o.doNotTriggerClickEvent||this._triggerEvent(this._EVENTS.ONMENUITEMCLICKED,i,a,e,n),!e.is(".ui-zmenu-item-contextual")&&(this.options.fixed||this._isSubMenuItem(e))||o.doNotTriggerClickEvent||"checkbox"!=e.attr("inputtype")&&this.hide(void 0,i),!1}},_keyPressed:function(t){if(this.options.bindKeys){var e=t.keyCode;this.handleKeyCode(e,t),t.preventDefault(),t.stopPropagation()}},_hideLastShownMenu:function(){var t=this._lastOverlayedMenu.metadata().parent;this._lastOverlayedMenuItem=t,this.hide(this._lastOverlayedMenu);var e=t.closest(".ui-zmenu");this.updateLastMenuChain(e)},_isMenuMainMenu:function(e){return t(e).get(0)==this.element.get(0)},destroy:function(){this._uninitSliders(this.element),this.element.off("."+this.widgetName),this.element.find(".ui-zmenu-item-contextual").off("."+this.widgetName),t.Widget.prototype.destroy.apply(this,arguments)},_destroyRuntimeEvents:function(){t(this.element).off(".run"+this.widgetName)},_isCheckBoxOrRadioButton:function(t){var e=this._getInputType(t);return e==this._MENU_ITEM_TYPES.CHECK_BOX||e==this._MENU_ITEM_TYPES.RADIO_BUTTON},_isCheckBox:function(t){return this._getInputType(t)==this._MENU_ITEM_TYPES.CHECK_BOX},_isRadioButton:function(t){return this._getInputType(t)==this._MENU_ITEM_TYPES.RADIO_BUTTON},_getInputType:function(t){return t.attr("inputtype")},_fixCheckIcon:function(e,i){var n=this._isCheckBox(e);e.data("checked",i),delete e.metadata().checked;var o=this._isFloatingMenu(e,!0);if(o&&"splitmenu"!=e.attr("mtype"))return void e[i?"addClass":"removeClass"](this._CHECK_SELECTION_ICON);var s=t(".ui-zmenu-icon-layout",e).children(":first");s.removeClass(this._DEFAULT_ICONS[n?"CHECK_BOX_CHECKED_ICON":"RADIO_BUTTON_CHECKED_ICON"]),s.removeClass(this._DEFAULT_ICONS[n?"CHECK_BOX_NOT_CHECKED_ICON":"RADIO_BUTTON_NOT_CHECKED_ICON"]),s.removeClass(this._CHECK_SELECTION_ICON);var a=e.metadata(),r=a.icon,l=this._getRelatedIcon(e);r?(s=s.parent(),s[l.indexOf(this._CHECK_SELECTION_ICON)!=-1?"addClass":"removeClass"](this._CHECK_SELECTION_ICON),e[i?"addClass":"removeClass"]("is-selected")):s.addClass(l)},_defaultFixCheckIcon:function(t,e){"undefined"==typeof e&&(e=!this._isChecked(t)),this._fixCheckIcon(t,e)},_fixCheckRadio:function(e,i){var n=t(e).attr("name");if(!n)return this._defaultFixCheckIcon(e);var o=e.closest(".ui-zmenu"),s=this,a=o.find("li[inputtype=radio][name="+n+"]");a.filter(function(){return t(this).data("checked")});var r=e;a.each(function(e,n){n=t(n),i&&s._isChecked(n)&&(r=n),s._fixCheckIcon(n,!1),n.removeClass("is-selected")}),s._fixCheckIcon(r,!0)},_check:function(t,e,i,n){var o=this._getInputType(t);if(this._isCheckBoxOrRadioButton(t))switch(o){case this._MENU_ITEM_TYPES.CHECK_BOX:this._defaultFixCheckIcon(t,e);break;case this._MENU_ITEM_TYPES.RADIO_BUTTON:this._fixCheckRadio(t)}n&&(i?i&&i.fromDataBinding&&t.trigger("element_state_changed",{checked:!!t.data("checked")}):t.trigger("element_state_changed",{checked:!!t.data("checked")}))},_isDisabled:function(t){var e=!!t.attr("disabled")&&t.attr("disabled");return e},_checkAndDisableMenuItem:function(t,e){var i=this._isDisabled(t),n="ui-state-disabled";t[i?"addClass":"removeClass"](n),e||this._triggerEvent(this._EVENTS.ONMENUITEMDISABLED,void 0,this.element,t)},_disableMenuItem:function(e,i){var n="string"==typeof e?t("#"+e,this.element):t(e);i?n.removeAttr("disabled"):n.attr({disabled:!i}),this._checkAndDisableMenuItem(n);var o=n.data("subsplit");o&&this._disableMenuItem(o,i),n.trigger("element_state_changed",{disabled:!i,checked:!!n.data("checked")})},_isBaseMenu:function(t){return!t||t.get(0)==this.element.get(0)},_isExternalSubmenu:function(t){return t.metadata().isExternalSubMenu},_triggerEvent:function(e,i,n,o,s){var a=this._isBaseMenu(n),r={orgEvent:i,currentTarget:this._currentTarget,target:this._target?this._target:n.data("target"),offset:this.element.offset(),menu:n,isBaseMenu:a};return i&&t(i.target).closest(".ui-zmenu-item").length?r.menuitem=t(i.target).closest(".ui-zmenu-item"):o&&(r.menuitem=o),s&&(r=t.extend({},r,s)),this._isExternalSubmenu(n)&&e.indexOf("sub")!=-1&&n.zmenu("triggerEvent",e.replace("sub",""),i,r),this._trigger(e,i,r)},triggerEvent:function(t,e,i){return this._trigger(t,e,i)},_getLastAppendableElement:function(t){var e=t.metadata().parent.closest(".ui-zmenu"),i=e.metadata().sliders;if(i&&i.length){if(i.bottom)return i.bottom;if(i.top)return i.top}return e},_setFocus:function(){var t=this,e=function(){t.element.focus()};setTimeout(e,100)},show:function(e,i){var n=this.options.appendTo,o=!1,s=void 0!==this.options.width?this.options.width:"auto",a={};if(this.options.fixed||(e&&(a.target=e.target,a.currentTarget=e.currentTarget),i?i.data("target",e.target):(this._target=e.target,this._currentTarget=e.currentTarget)),i){if(o=!0,i.is(":visible"))return;if(!i.length)return;i.insertAfter(this._getLastAppendableElement(i)),this._initEvents(i)}else{if(i=this.element,this._initRuntimeEvents(),i.is(":visible"))return;this.options.fixed||(void 0!==n&&n.length?n.append(i):t("body").append(i)),this._setFocus()}var r=this._isFloatingMenu(i);if(r||i.width(s),this.updateLastMenuChain(i),this.options.fixed)i.show();else{var l=e?e.event:void 0,u=this._triggerEvent(this._EVENTS[o?"ONBEFORESUBMENUSHOW":"ONBEFORESHOW"],l,i,void 0,a);if(0==u)return;if(e.target&&e.isSplitMenu&&!e.target.is(":visible"))return;if(i.fadeIn(200),this.refresh(i),this._fixMenuUI(i,e,o),e){e.isRightClick&&i.attr("position","after_pointer");var h=t.ZContextMenu.getMenuPosition(i,e.target,e.event,n);if(e.left=h.left,e.top=h.top,void 0!==n&&n.length){var d=n.css("position");if("absolute"===d||"relative"===d){var c=n.offset();e.left=h.left-(c.left+parseInt(n.css("borderRightWidth"))),e.top=h.top-(c.top+parseInt(n.css("borderTopWidth")))}}this._positionMenu(i,e,o)}this.options.skipHighlightTarget&&(a.skipHighlightTarget=this.options.skipHighlightTarget),this._triggerEvent(this._EVENTS[o?"ONSUBMENUSHOW":"ONSHOW"],l,i,void 0,a)}if(!r){var p=i.innerWidth()+1,m=t.ZContextMenu.scrollWidth;i.hasClass("ui-zmenu-scroll")?i.width(p+m):i.width(p)}this._resetMenuTextArray(i)},refresh:function(t){t=t?t:this.element,this._fixMenuItemsWidth(t)},_fixMenuUI:function(t,e,i){t.is(":visible")&&(this._fixMenuHeight(t,e),this._positionMenu(t,e,i),t.scrollTop(0))},_resetMenuTextArray:function(e){this._menuTextArray=[],this._prevSearchKey="",this._prevKeydownTime="",this._prevSearchIndex="",this._prevSearchTimer=void 0;var i=":visible[mtype!=separator][mtype!=custom][disabled!=disabled]";this.options.fixed&&(i="[mtype!=separator][mtype!=custom][disabled!=disabled]");for(var n=e.children(i),o=0;o<n.length;o++)if(t(n[o]).hasClass("ui-zmenu-group-wrapper"))for(var s=t(n[o]).children(":visible").children(":visible[mtype!=separator][mtype!=custom][disabled!=disabled]"),a=0;a<s.length;a++)this._menuTextArray[this._menuTextArray.length]={text:t(s[a]).metadata().label,menuitem:t(s[a])};else this._menuTextArray[this._menuTextArray.length]={text:t(n[o]).metadata().label,menuitem:t(n[o])}},hide:function(e,i){if(!this.options.fixed){var n=!1;if(e&&e.length){n=!0,e=t(e),e.off(".sub"+this.widgetName);var o=e.metadata().parent;o&&!e.metadata().isExternalSubMenu&&o.append(e)}else e=this.element,this._hideAllSubMenus(),this._destroyRuntimeEvents();if(e=t(e),t("li.ui-state-hover",e).each(function(e,i){t(i).removeClass("ui-state-hover")}),e.get(0)!=this.element.get(0)?this.updateLastMenuChain(e.parent().parent()):this._lastOverlayedMenuItem=void 0,!e.is(":hidden")&&this._triggerEvent(this._EVENTS[n?"ONBEFORESUBMENUHIDE":"ONBEFOREHIDE"],i,e)){if(this._uninitSliders(e),this._isFloatingMenu(e)?null:e.width(e.innerWidth()+1+t.ZContextMenu.scrollWidth),e.hide(),n){var s=t(e.metadata().parent).parent();s.hasClass("ui-zmenu-group-base")&&(s=s.parent().parent()),this._resetMenuTextArray(s)}else this._resetMenuTextArray(e);e.css({top:"",left:"",height:"",width:""}),this._triggerEvent(this._EVENTS[n?"ONSUBMENUHIDE":"ONHIDE"],void 0,e)}}},_attrNames:["id","name","mtype","inputtype","disabled","data-association","data","class"],addMenuItem:function(e,i,n){var o=t("<li>"),s=t(this.element);e.menu&&e.menu.length&&"object"==typeof e.menu&&(s=t(e.menu).is("ul")?e.menu:t(e.menu).children("ul"));var a=void 0,r=s.children("li");if("undefined"!=typeof e.pos&&r.length){var l=!1;e.pos>=r.length&&(e.pos=r.length-1,l=!0),e.pos<=0&&(e.pos=0),a=t(r.eq(e.pos)),a.hasClass("ui-zmenu-group")&&s.hasClass("ui-zmenu-group-base")?1===r.length?s.append(o):o.insertAfter(a):o[l?"insertAfter":"insertBefore"](a)}else s.append(o);var u=e.mtype;if(o.attr("mtype",u),"separator"!=u){t(this._attrNames).each(function(t,i){e[i]&&o.attr(i,e[i]+"")});var h=o.metadata(),d=this;for(var c in e)t.inArray(c,d._attrNames)==-1&&"menuItems"!=c&&"onclick"!=c&&e[c]&&(h[c]=e[c]);if(this._fixClick(o,e.onclick),"object"==typeof e.menuItems){var p=t("<ul>");p.metadata().type=e.type,o.append(p),t(e.menuItems).each(function(t,e){e.menu=p,e.internal=!0,d.addMenuItem(e,void 0,n)})}else n&&n(o,e)}else e.id&&o.attr("id",e.id),e.isGroupSep&&o.attr("groupSep",e.isGroupSep);if(e.checked&&o.data("checked",e.checked),e.hidden&&o.data("hidden",e.hidden),e.internal||(this._buildMenuItem(o,s),this._isGroup(s.parent())&&this._buildGroupItem(o,s.parent().attr("id"))),e.attr&&o.attr(e.attr),e.title&&o.attr("title",e.title),e.html){var m=e.html.content,f=e.html.replaceWithText;if(m){var _=void 0;if(f)o.find(".ui-zmenu-text").html(m),_=o.find(".ui-zmenu-text");else{var g=this._getIconHolderForMenuItem(o);g.html(m),g.css({background:"none"}),_=g}_.css({width:"auto",height:"auto",position:"relative",left:"0px",top:"0px"})}}var v=e.externalAssociation;v&&o.data("externalAssociation",v);var b=e.iconText;if(b){o.metadata().iconText=b}var C=e.splitButtonData;return C&&o.data("relatedButton",C),i||this._fixMenuUI(s),o},addMenuItems:function(e,i){var n=this,o=[];return t(e).each(function(t,e){var s=n.addMenuItem(e,!0,i);o.push(s)}),this._fixMenuUI(this.element),o},removeMenuItem:function(e){e=e.indexOf("#")!=-1?e.replace("#",""):e,this.hide(),t("#"+e,this.element).remove(),this._fixMenuUI(this.element)},removeAllMenuItems:function(e,i,n){e=e?e:this.element;var o=null,s=n?":not(.ui-zmenu-group)":"";o=t(e).is("li")?t(e).children("ul").children(s):t(e).children(s),o&&(this._removeAllMenuItems(o,i),this._resetMenuItemsWidthAndHeight(e.closest(".ui-zmenu")))},_removeAllMenuItems:function(e,i){var n=this;t(e).each(function(e,o){o=t(o);o.metadata();if(n._isSubMenuItem(o)){var s=n._getSubMenu(o);n._isExternalSubmenu(s)?i||s.zmenu("removeAllMenuItems",s):(n.removeAllMenuItems(s),s.remove())}o.remove()})},_resetMenuItemsWidthAndHeight:function(t){t.height("auto"),t.find("ul").width("auto"),t.find("li:not(.ui-zmenu-group-wrapper .ui-zmenu-group)").width("auto"),this.refresh(t)},disableMenuItem:function(t,e){var i=this._getMenuItemId(t);if(i.length)return this._disableMenuItem(i,e)},_itemsWidthStateChanged:!1,_hideMenuItem:function(t,e){var i=this._getMenuItemId(t);i.length&&i[e?"show":"hide"]();this.element.is(":visible");return this._showOrHideCorrespondingSep(i,e),this._itemsWidthStateChanged=!0,i.trigger("element_state_changed",{visible:!!e,disabled:this._isDisabled(i),checked:!!i.data("checked")}),i},_showOrHideCorrespondingSep:function(t,e){var i=e?"":":visible",n=t.prevAll(".ui-zmenu-separator"+i),o=t.nextAll(".ui-zmenu-separator"+i+":first");if(n.length&&o.length)t.prevAll(e?":first":":visible:first").is(".ui-zmenu-separator")&&t.nextAll(e?":first":":visible:first").is(".ui-zmenu-separator")&&t.nextAll(".ui-zmenu-separator"+(e?":first":":visible:first"))[e?"show":"hide"]();else if(n.length){var s=t.prevAll(e?":first":":visible:first"),a=t.next(".ui-zmenu-item"+i),r=!!e||0==a.filter(":visible").length;r&&s.is(".ui-zmenu-separator")&&s[e?"show":"hide"]()}else{var l=t.nextAll(e?":first":":visible:first"),u=t.prev(".ui-zmenu-item"+i),h=!!e||0==u.filter(":visible").length;h&&l.is(".ui-zmenu-separator")&&l[e?"show":"hide"]()}},hideMenuItem:function(t){this._hideMenuItem(t)},showMenuItem:function(t){this._hideMenuItem(t,!0)},hideAllMenuItems:function(){var e=t(this.element).find("li:not(.ui-zmenu-group-wrapper)");this._hideMenuItems(e)},showAllMenuItems:function(){var e=t(this.element).find("li");this._hideMenuItems(e,!0)},_hideMenuItems:function(e,i){var n=this;t(e).each(function(t,e){var o=n._hideMenuItem(e,i);i&&n._isSubMenuItem(o)&&n._hideMenuItems(o.find("li"),i)})},hideMenuItems:function(t){this._hideMenuItems(t)},showMenuItems:function(t){this._hideMenuItems(t,!0)},_getGroupArrSelector:function(e,i){var n="string"==typeof e?[e]:e,o=i?"!":"",s="",a=n.length;return t.each(n,function(t,e){s+="li[gname"+o+"="+e+"]",t!=a-1&&(s+=",")}),s},_hideMenuGroup:function(e,i){var n=this._getGroupArrSelector(e),o=t(n,this.element);this._hideMenuItems(o,i)},hideMenuGroup:function(t){this._hideMenuGroup(t)},showMenuGroup:function(e,i){var n="string"==typeof e?[e]:e;if(i){var o=this._getGroupArrSelector(e,!0),s=t(o,this.element);this._hideMenuItems(s)}this._hideMenuGroup(n,!0)},_disableMenuItems:function(e,i){var n=this;t(e).each(function(t,e){n._disableMenuItem(e,i)})},disableMenuItems:function(t){this._disableMenuItems(t)},enableMenuItems:function(t){this._disableMenuItems(t,!0)},_disableMenuGroup:function(e,i){var n=t("[gname="+e+"]",this.element);this._disableMenuItems(n,i)},disableMenuGroup:function(t){this._disableMenuGroup(t)},enableMenuGroup:function(t){this._disableMenuGroup(t,!0)},getItemCount:function(){return t(this.element).children(".ui-zmenu-item,.ui-zmenu-splitmenu").length},check:function(t,e){var i=this._getMenuItemId(t);if(i&&i.length>0)return this._check(i,e)},_uncheckAllItems:function(e){var i=this,n=this.getSelectedItems(e);n&&n.length&&n.each(function(e,n){n=t(n),i._fixCheckIcon(n,!1)})},getSelectedItems:function(e){e=e||this.element;var i=e.children("[inputtype=radio],[inputtype=checkbox]").filter(function(){return t(this).data("checked")});return i.length?i:void 0},checkAllItems:function(e,i){var n=this.element;if(!e)return this._uncheckAllItems(n);i=i?i:n.find("[inputtype=checkbox],[inputtype=radio]");var o=this;i.each(function(i,n){o.check(t(n),e)})},_getIconHolderForMenuItem:function(t){return t.find(".ui-zmenu-icon-inner")},getIconHolderForMenuItem:function(e){var i="object"==typeof e?e:t("#"+e,this.element);return this._getIconHolderForMenuItem(i)},getAllIconHolders:function(e){var i=e?[]:{},n=this;return this._getAllMenuItems().each(function(o,s){s=t(s);var a=e?o:s.attr("id"),r=n._getIconHolderForMenuItem(s);i[a]={icon:r,item:s}}),i},getIconHolderForMenuItems:function(e){var i=[],n=this;return t(e).each(function(t,e){i[i.length]=n.getIconHolderForMenuItem(e)}),i},_getMenuItemAsObject:function(e){var i=this,n={};t(this._attrNames).each(function(t,i){var o=e.attr(i);o&&(n[i]=o)});var o=e.metadata(),i=this;for(var s in o)t.inArray(s,i._attrNames)==-1&&"menuItems"!=s&&o[s]&&(n[s]=o[s]);if(this._isSubMenuItem(e)){var a=this._getSubMenu(e);a&&(n.menuItems=this._getMenuAsObject(a))}return n},_getMenuAsObject:function(e){e||(e=this.element);var i=this,n=e.children(),o=[];return n.each(function(e,n){o.push(i._getMenuItemAsObject(t(n)))}),o},getMenuAsObject:function(){return this._getMenuAsObject()},getMenuItemAt:function(t,e){return e||(e=this.element),e.find(".ui-zmenu-item[mtype!=separator][mtype!=group]:eq("+t+")")},getMenuItemAsObjectAt:function(t,e){return this._getMenuItemAsObject(this.getMenuItemAt(t,e))},showMenuItemAsSelected:function(t,e){this.getMenuItemAt(t,e).trigger("mouseover")},_hoverOnMenuItem:function(t){t.trigger("mouseover")},hoverPreviousMenuItem:function(){this._hoverOnMenuItem(this._getNextMenuItem(!0))},hoverNextMenuItem:function(){this._hoverOnMenuItem(this._getNextMenuItem())},hoverMenuItemWithLableStartingWith:function(e){var i=this.element.children(":visible"),n=!1;return t(i).each(function(i,o){if(o=t(o),0==o.text().indexOf(e))return n=t(o),!1}),n?this._hoverOnMenuItem(n):this._lastOverlayedMenuItem&&(this._lastOverlayedMenuItem.trigger("mouseout"),this._lastOverlayedMenuItem=void 0),n},handleKeyCode:function(e){var i=this._isFloatingMenu();switch(e){case t.ui.keyCode.UP:this._getNextMenuItem(!0).trigger("mouseover");break;case t.ui.keyCode.DOWN:this._getNextMenuItem().trigger("mouseover");break;case t.ui.keyCode.RIGHT:var n=(this._lastOverlayedMenuItem.nextAll(":visible.ui-zmenu-item,.ui-zmenu-group-wrapper").not(".ui-zmenu-separator,.ui-zmenu-group"),this._getSubMenu(this._lastOverlayedMenuItem)),o=this._lastOverlayedMenuItem.closest(".ui-zmenu");if(i||!n.length&&o.hasClass("ui-zmenu-floating")){var s=void 0;this._getNextMenuItem(s,s,s,e).trigger("mouseover");break}if(this._lastOverlayedMenuItem.is(".ui-state-disabled"))return;if(this._isSubMenuItem(this._lastOverlayedMenuItem)){var o=this._getSubMenu(this._lastOverlayedMenuItem);if(!o)return;this.show({target:this._lastOverlayedMenuItem},o),this._lastOverlayedMenuItem=void 0,this._getNextMenuItem(!1,!0).trigger("mouseover")}break;case t.ui.keyCode.LEFT:var o=this._lastOverlayedMenuItem.closest(".ui-zmenu-group-base");o.length||(o=this._lastOverlayedMenuItem.closest(".ui-zmenu"));var a=o.find(":visible.ui-zmenu-item,.ui-zmenu-group-wrapper").not(".ui-zmenu-separator,.ui-zmenu-group").filter(":first"),r=a.position().left,l=this._lastOverlayedMenuItem.position().left,u=!(l>r);if(i||!u){var s=void 0;this._getNextMenuItem(!0,s,s,e).trigger("mouseover");break}this._isMenuMainMenu(this._lastOverlayedMenu)||this._hideLastShownMenu();break;case t.ui.keyCode.ESCAPE:this.options.fixed||(this._isMenuMainMenu(this._lastOverlayedMenu)?this.hide():this._hideLastShownMenu());break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this.selectHoveredMenuItem();break;default:alphaNumericKey=String.fromCharCode(e),this._menuTextArray.length&&this._callMenuitemSearch(alphaNumericKey,(new Date).getTime())}},_callMenuitemSearch:function(t,e){var i=!1;""!==this._prevKeydownTime&&e-this._prevKeydownTime>700?(i=this._prevSearchKey==t,this._prevSearchKey=t):this._prevSearchKey=this._prevSearchKey+t,this._prevKeydownTime=e,this._menuitemSearch(i)},_menuitemSearch:function(e){var i=new RegExp("^"+this._prevSearchKey.replace(/[|()\[{.+*?$\\]/g,"\\$0"),"i"),n=e&&this._prevSearchIndex<this._menuTextArray.length?this._prevSearchIndex+1:0;for(n=n>0&&n<this._menuTextArray.length?n:0,x=n;x<this._menuTextArray.length;x++)if(this._menuTextArray[x].text.match(i)){this._prevSearchIndex=x;var o=!1;for(y=x+1;y<this._menuTextArray.length;y++)this._menuTextArray[y].text.match(i)&&(o=!0);return o||(this._prevSearchIndex=-1),void this._handleMouseOverOnMenuItems(t(this._menuTextArray[x].menuitem),void 0,!0)}},selectHoveredMenuItem:function(){var e=this._lastOverlayedMenuItem;return e&&t(e).trigger("click"),this.hide(),!!e&&e},getSplitMenuItem:function(t){return t.hasClass(".ui-zmenu-subsplit")?t.prev(".ui-zmenu-item"):t.closest(".ui-zmenu-splitgroup").find(".ui-zmenu-item")},bindKeys:function(t){this.options.bindKeys=t},_disable:function(t,e){var i=this;t=t?t:this.element,this._getAllMenuItems().each(function(t,n){i._disableMenuItem(n,e)})},disable:function(t){this._disable(t)},enable:function(t){this._disable(t,!0)},changeIcon:function(e,i){var n=this._getMenuItemId(e);if(n.data("fromMenuItemChange",!0),i=i.primary?i.primary:i){var o=this._getIconHolderForMenuItem(n);o.attr("class","ui-icon ui-zmenu-icon-inner "+i)}var s=t(n.metadata().relatedButton).data("fromButtonChange");s||this._triggerEvent(this._EVENTS.ONICONCHANGE,void 0,this.element,n,{icon:i})},_getMenuItemId:function(e){if("string"!=typeof e)return t(e);var i=e.indexOf("#")!=-1?e:"#"+e;return this.element.find(i)},changeLabel:function(e,i){var n=this._getMenuItemId(e);if(n.length){i=n.metadata().ellipsis?i+"...":i,n.data("fromMenuItemChange",!0),i&&n.find(".ui-zmenu-text").text(i);var o=t(n.metadata().relatedButton).data("fromButtonChange");o||this._triggerEvent(this._EVENTS.ONLABELCHANGE,void 0,this.element,n,{label:i})}},isOpened:function(){return this.element.is(":visible")},setPlaceHolderDimesion:function(t,e){e=e?e:this.element;var i=e.find(".ui-zmenu-icon-placeholder");e.hasClass("ui-zmenu-icononly")&&e.hasClass("ui-zmenu-floating")?i.css(t):e.hasClass("ui-zmenu-icontext-floating")&&(i.css(t),e.find(".ui-zmenu-text-placeholder").css({width:t.width}))}}),t.ui.zmenu.createMenu=function(e,i,n){var o=t("<ul>").attr({id:e}).hide(),s=void 0;"object"==typeof n&&(n.menuClass&&o.addClass(n.menuClass),n.appendTo&&(s=n.appendTo)),o=o.zmenu(n),o.zmenu("addMenuItems",i,n?n.addItemCallback:void 0);var a=t("body");return void 0!==s&&""!==s&&(s=s.indexOf("#")!=-1?s:"#"+s,a=t(s)),a.append(o),o}}(jQuery),function(t){var e={_prevented:!1,_shortcutkeys:!0,_changeShortCut:!1,_isMac:!1,_spCharArr:{"<F1>":"112","<F2>":"113","<F3>":"114","<F4>":"115","<F5>":"116","<F6>":"117","<F7>":"118","<F8>":"119","<F9>":"120","<F10>":"121","<F11>":"122","<F12>":"123",PRINTSCREEN:"44",NUMLOCK:"144",PAUSE:"19",INSERT:"45",HOME:"36",PAGEUP:"33",PAGEDOWN:"34",DELETE:"46",END:"35",TAB:"9",CAPSLOCK:"20",WINDOWS:"91",ARROW_UP:"38",ARROW_DOWN:"40",ARROW_LEFT:"37",ARROW_RIGHT:"39",ENTER:"13",BACKSPACE:"8",SPACE:"32",ESCAPE:"27",DOT:"190",".":"190","":"226",91:"219",92:"220",93:"221",61:"187",45:"189",96:"192",44:"188",47:"191",39:"222",59:"186",123:"219",124:"220",125:"221",43:"187",95:"189",126:"192",60:"188",62:"190",63:"191",34:"222",58:"186",33:"49",64:"50",35:"51",36:"52",37:"53",94:"54",38:"55",42:"56",40:"57",41:"48"},_create:function(){this.options=t.extend({},t.ui.shortcutkeys.defaults,this.options),this._isMac=this._isMacOS(),this._isWindows=this._isWindowsOS();var e=this;t(document).on("keydown",function(t){e._shortcutkeys&&e._keyDown(t)})},_keyDown:function(t){if(this._checkTargetElement(t)){var e=this._getShortCutObject(t);e.eventObj&&"keyup"!==e.eventObj.handleOn&&this._triggerShortCut(e.eventObj,t,e.shortcutkey)}},_keyUp:function(t){if(this._checkTargetElement(t)){var e=this._getShortCutObject(t);e.eventObj&&"keyup"===e.eventObj.handleOn&&this._triggerShortCut(e.eventObj,t,e.shortcutkey)}},_checkTargetElement:function(e){if(this.options.discardInputElements){var i=e.srcElement;if(i||(i=e.target),i=t(i),!i.hasClass("ui-focus-element")&&(i.is("input")||!i.data("shortcut")&&void 0!=i.data("shortcut")||i.is("textarea")))return!1}return!0},_getShortCutObject:function(e){var i="",n=e.keyCode;e.ctrlKey&&(i+="ctrl+"),this._isMac&&e.metaKey&&(i+="cmd+"),e.shiftKey&&(i+="shift+"),e.altKey&&(i+="alt+");var o=String.fromCharCode(n);n>=65&&n<=90&&(n=o.charCodeAt());var s=this,a=i;i+=n;var r=i,l=t.ui.shortcutkeys.keys[i];if(!l)for(var u in s._spCharArr){if(s._spCharArr[u]===n.toString()){var h=a+u.toLowerCase();r=h,l=t.ui.shortcutkeys.keys[h]}if(l)break}return{eventObj:l,shortCutKey:r}},_triggerShortCut:function(e,i,n){this._prevented=!0;var o=t(e.element);o&&(o.is(":disabled")||(o.is(":checkbox")&&"click"===e.event?t(o).each(function(){t(this).triggerHandler(e.event,{ele:t(this),fromShortCut:!0,shortcutkey:n})}):o.trigger(e.event,{ele:o,fromShortCut:!0,shortcutkey:n}),(o.data("button")||o.data("ui-button"))&&o.button("refresh")),i.preventDefault(),i.stopPropagation())},_getShortCutKey:function(t,e){var i=void 0;for(var n in t)t[n]===e.toString()&&(i=n.toLowerCase());return i},_registerKey:function(e,i,n,o){var s=this._sortKeyCombination(i);s&&(t.ui.shortcutkeys.keys[s]={element:e,event:n,handleOn:o.handleOn})},_isMacOS:function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("mac")!=-1},_isWindowsOS:function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("win")!=-1},_unregisterKey:function(e){var i=this._sortKeyCombination(e);i&&delete t.ui.shortcutkeys.keys[i]},_sortKeyCombination:function(e){var n=["ctrl","cmd","shift","alt"],o=e.split("+"),s="",e="";for(i=0;i<t(n).size();i++)for(j=0;j<o.length;j++)n[i]==o[j]?s+=o[j]+"+":t.inArray(o[j],t(n))==-1&&(e=o[j]),""==o[j]&&(e="+");return this._spCharArr[e.toUpperCase()]||(e=e.toUpperCase().charCodeAt(0)),s+=e},register:function(e){e=t(e);var i=e.metadata(),n=this._getKey(e,this._isMac),o={},s=i.shortcutkey&&i.shortcutkey.event?i.shortcutkey.event:"click",a=i.skipshortcutregister;if(o.handleOn=this._isWindows||"keyup"!==i.handleOn?i.handleOn:"keydown","keyup"!==o.handleOn||this._keyUpEvent||this._bindKeyUpEvent(),s=s?s:"click",n){var r=this;t.each(n,function(t,l){a||r._registerKey(e,l,s,o),i.skipShortcutFormat||(l=r._getDisplayKey(l),n[t]=l)})}return!!n&&n},_bindKeyUpEvent:function(){var e=this;this._keyUpEvent=!0,t(document).on("keyup.shortcutkeys",function(t){e._shortcutkeys&&e._keyUp(t)})},unregister:function(e){e=t(e);var i=this._getKey(e,this._isMac);i||(i=this._getKey(e));var n=this;t.each(i,function(t,e){n._unregisterKey(e)})},getShortcutKey:function(e){var i=this._getKey(e,this._isMac);if(i){var n=this;return t.each(i,function(t,e){i[t]=n._getDisplayKey(e)}),i}return!1},arrowSymbols:{Arrow_up:" &uarr;",Arrow_down:" &darr;",Arrow_left:" &larr;",Arrow_right:" &rarr;"},_getDisplayKey:function(e){var i=e.split("+"),n="";return t(i).each(function(t,e){e=e.charAt(0)==e.charAt(0).toUpperCase()?e.toUpperCase():e.charAt(0).toUpperCase()+e.substring(1,e.length),i.length-1!=t&&(e+="+"),n+=e}),n},_getKey:function(e,i){var n=e.metadata(),o=n.shortcutkey,s=this;if(o){var a="object"==typeof o&&t.isArray(o)?o:[o];return t.each(a,function(t,e){var o=e,r=n.skipShortcutFormat;return!("object"==typeof o&&(e=i&&o.mac?o.mac:o.key,r=o.skipShortcutFormat,!o.key&&!s._isMac))&&(e&&!o.mac&&s._isMac&&(e=e.replace(/ctrl/i,r?"Cmd":"cmd")),r||(e=e.toString().toLowerCase()),void(a[t]=e))}),a}},enable:function(){this._shortcutkeys=!0},disable:function(){this._shortcutkeys=!1}};e=t.extend({},t.ui.key,e),t.widget("ui.shortcutkeys",e),t.ui.shortcutkeys.keys={},t.ui.shortcutkeys.defaults={type:"click",discardInputElements:!0,keycode:!1},t.ui.shortcutkeys.getter=["register"],t.ui.shortcutkeys.register=function(e){return t(document).shortcutkeys("register",e)},jQuery(function(t){t(document).shortcutkeys()})}(jQuery),function(t){var e={_create:function(){this.element.attr("tabindex","0").addClass("ui-focusable").css("outline","0")},getFocusElement:function(){return this.element},focus:function(){this.element.focus()},destroy:function(){this.element.unbind(this.widgetName).removeClass("ui-focusable").removeAttr("tabindex")}};t.widget("ui.focusable",e)}(jQuery),function(t){t.ui.utils={colorpalette:void 0,addFocusElement:function(e){var i=t("<button>").css({height:1,width:1,position:"absolute",top:"1px",border:"none"});return i.addClass("ui-focus-element"),e.append(i.fadeTo(0,0)),i},invokeAction:function(t){var e=t.attr("action");if(e){for(var i=e.split("("),n=i[0],o=n.split("."),s=window,a=void 0,r=0;r<o.length;r++)r==o.length-1&&(a=s),s=s[o[r]];var l=i[1].split(")")[0].split(",");s.apply(a,l)}},displayColorPallet:function(e,i,n){this.colorpalette||(this.colorpalette=t("<div>"),t("body").append(this.colorpalette),t(this.colorpalette).zcolorpalette(n.createoptions)),"hide"!=i?t(this.colorpalette).zcolorpalette("show",t(e),n.showoptions):t(this.colorpalette).zcolorpalette("hide")},initDeferredComponents:function(e,i,n){var o=this;setTimeout(function(){t.each(e,function(e,i){t(i).each(function(i,n){o._initComponent(t(n),e)})}),n&&n(e)},i?i:1e4)},_initComponent:function(e,i,n){n=n?n:"ctype";var o=t(e),s=void 0;o.is(":hidden")&&(s=o.parentsUntil(":visible").last().show()),i=i?i:o.attr(n);var a=o.attr("data"),r=o.metadata();a?o[i](r.componentOptions?r.componentOptions:r):o[i](),s&&s.hide()},initComponents:function(e,i,n){var o="["+(n?n:"ctype")+"]",s=t(o,e);e.is(o)&&(s=t(e).add(s));var a=this;s.length?t.eachAsync(s,{delay:20,loop:function(t,e){a._initComponent(e,void 0,n)},end:function(){a._end(e,s,i)}}):a._end(e,s,i)},_end:function(e,i,n){t(document).trigger("componentinitialized",e),n&&n(i)},_getCtype:function(t){return t.attr("ctype")},getValue:function(t){return t[this._getCtype(t)]("getValue")},setValue:function(t,e){return t[this._getCtype(t)]("setValue",e)},invokeMethodByCtype:function(t,e,i){return t[this._getCtype(t)](e,i)},getAsFunction:function(e){if(e){var i=e.split("."),n=window,o="";return t(i).each(function(t,e){n=n[e],t==i.length-2&&(o=n)}),{fn:n,base:o,callable:function(){n.call(o)}}}},getPositionFromDirection:function(e,i,n){var o=t(e).offset(),s="northeast"==n||"southeast"==n||"east"==n?o.left+t(e).outerWidth(!0)-i.outerWidth(!0):"north"==n||"south"==n||"center"==n?o.left+t(e).width()/2-i.outerWidth(!0)/2:o.left,a="south"==n||"southeast"==n||"southwest"==n?o.top+t(e).outerHeight(!0):"west"==n||"east"==n||"center"==n?o.top+t(e).outerHeight(!0)/2-i.outerHeight(!0)/2:o.top;return{left:s+"px",top:a+"px"}},getI18NString:function(e,i,n,o){var s=t.i18n(e,i,n);if(s==="[noi18n] "+i&&(s=o[i],n&&o))for(var a=0;a<n.length;a++)s=s.replace("{"+a+"}",n[a]);return s}}}(jQuery),function(t){function e(t,e){return"MODIFY"==e.mode?t*=parseFloat(e.value):"OFFSET"==e.mode?t+=parseFloat(e.value):"ABSOLUTE"==e.mode&&(t=parseFloat(e.value)),t}window.zoho={color:{darken:function(t,e){e=zoho.math.limit(e,0,1);var i=[{mode:"MODIFY",value:1-e}];return this.hsl(t,{luminance:i})},lighten:function(t,e){e=zoho.math.limit(e,0,1);var i=[{mode:"MODIFY",value:1-e},{mode:"OFFSET",value:e}];return this.hsl(t,{luminance:i})},shade:function(t,e){e=zoho.math.limit(e,0,1);var i=[{mode:"MODIFY",value:e}];return this.rgb(t,{red:i,green:i,blue:i})},tint:function(t,e){e=zoho.math.limit(e,0,1);var i=[{mode:"MODIFY",value:e},{mode:"OFFSET",value:1-e}];return this.rgb(t,{red:i,green:i,blue:i})},blue:2,green:1,red:0,rgb:function(t,e){return this.modify(t,e,"scRGB")},luminance:2,saturation:1,hue:0,modify:function(i,n,o){var s=this["to"+o].call(this,i),a=this;return t.each(n,function(i,n){var o=a[i];t.each(n,function(t,i){s[o]=e(s[o],i),s[o]=zoho.math.limit(s[o],0,1)})}),this[o+"toRGB"].call(this,s)},hsl:function(t,e){return this.modify(t,e,"HSL")},tweak:function(e,i){if(!t.isArray(e)){var n=e;e=[n[0],n[1],n[2]]}e=zoho.array.toNum(e);var n=this;return t.each(i,function(t,i){n[t]&&(e=n[t].call(n,e,i))}),e},toscRGB:function(e){return e=t.map(e,function(t,e){if(t/=255,t<0)return 0;if(t<=.0405)return t/12.92;if(t<=1){var i=(t+.055)/1.055;return Math.pow(i,2.4)}return 1})},scRGBtoRGB:function(e){return e=t.map(e,function(t,e){if(t<0)t=0;else if(t<=.0031308)t*=12.92;else if(t<=1){var i=1/2.4;t=1.055*Math.pow(t,i)-.055}else t=1;return Math.round(t*=255)})},toHSL:function(t){var e=t[0],i=t[1],n=t[2],o=Math.max(e,i,n),s=Math.min(e,i,n),a=0;if(o==s);else if(o==e){var r=(i-n)/(o-s);a=(60*r+360)%360}else if(o==i){var r=(n-e)/(o-s);a=60*r+120}else{var r=(e-i)/(o-s);a=60*r+240}a/=360;var l=(o+s)/510,u=0;return o==s||(u=l<=.5?(o-s)/(2*l):(o-s)/(2-2*l)),u/=255,[a,u,l]},HSLtoRGB:function(e){var i,n=e[0],o=e[1],s=e[2];i=s<.5?s*(1+o):s+o-s*o;var a=2*s-i,r=n,l=r+1/3,u=r,h=r-1/3,d=[l,u,h];return d=t.map(d,function(t,e){t<0?t+=1:t>1&&(t-=1),t%=1,t=t<1/6?a+6*(i-a)*t:t>=1/6&&t<.5?i:t>=.5&&t<2/3?a+6*(i-a)*(2/3-t):a;var n=Math.round(255*t);return n=zoho.math.limit(n,0,255)})},isDark:function(t){return this.brightness(t)<127.5},rgbToHex:function(e){if("object"!=typeof e){var i=/rgb|rgba\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\)/;if(null!=e.match(i)){var n=/\d{1,3}/g;e=e.match(n)}}var o="#";return t.each(e,function(t,e){var i=zoho.color.numToHex(e);isNaN(zoho.color.hexToNum(i))&&(i="00"),o+=i}),o},RGBToHSV:function(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255,o=Math.min(e,i,n),a=Math.max(e,i,n),r=100*a,l=s=0,u=a-o;if(0==a)return s=l=0,[l,s,r];s=u/a*100;var h=0;u&&(h=e==a?(i-n)/u:i==a?2+(n-e)/u:4+(e-i)/u),l=60*h,l<0&&(l+=360);var d=Math.round;return l=d(l),s=d(s),r=d(r),[l,s,r]},HSVToRGB:function(t){var e=t[0],i=t[1],n=t[2],o=i/100,s=n/100,a=g=b=0,r=function(t,e,i){var n=Math.round;a=n(255*t),g=n(255*e),b=n(255*i)};if(0==o)return r(s,s,s),[a,g,b];360==e&&(e=0);var l=e/60,u=Math.floor(l),h=l-u,d=s*(1-o),c=s*(1-o*h),p=s*(1-o*(1-h));switch(u){case 0:r(s,p,d);break;case 1:r(c,s,d);break;case 2:r(d,s,p);break;case 3:r(d,c,s);break;case 4:r(p,d,s);break;default:r(s,d,c)}return[a,g,b]},hexToRgb:function(e,i){if(e=e.replace("#",""),3==e.length&&(e+=e),6!=e.length){if(!i)return"rgb(0, 0, 0)";e=i}var n="rgb(",o="";return t.each(e.split(""),function(t,e){o=!t%2?e:o+e,t%2&&(_v=zoho.color.hexToNum(o),isNaN(_v)&&(_v=0),n+=_v,t<=4&&(n+=","),o="")}),n+=")"},numToHex:function(t){var e=parseInt(t).toString(16);return 1==e.length?"0"+e:e},hexToNum:function(t){return parseInt(t,16)},brightness:function(t){var e=t[0],i=t[1],n=t[2],o=.299*e+.587*i+.114*n;return o}},math:{limit:function(t,e,i){var n=Math.min(t,i);return Math.max(n,e)},maxLimit:function(t,e){return Math.min(t,e)},minLimit:function(t,e){return Math.max(t,e)},toRadians:function(t){return t*(Math.PI/180)},toDegrees:function(t){return t*(180/Math.PI)},getRotatedValue:function(t,e,i,n,o){var s={},a=zoho.math.toRadians(t);s.a=Math.cos(a),s.c=-1*Math.sin(a),s.b=Math.sin(a),s.d=Math.cos(a),s.e=o*s.b-n*s.d+n,s.f=o-n*s.b-o*s.d;var r=e*s.a+i*s.c+s.e,l=e*s.b+i*s.d+s.f;return{x:r,y:l}},getAngle:function(t,e,i,n,o,s){var a=2*Math.PI;o=o?o:i,s=s?s:n;var r=(e-s)*i,l=(t-o)*n,u=Math.atan2(r,l);return u+=a,u%=a},bezierPoint:function(t,e,i,n,o){var s=Math.pow(1-o,3)*t+3*Math.pow(1-o,2)*o*e+3*(1-o)*Math.pow(o,2)*i+Math.pow(o,3)*n;return s},length:function(t,e,i,n){return Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2))},getPointAtDistance:function(t,e){var i=t.start,n=t.end,o=zoho.math.length(i.x,i.y,n.x,n.y);return{x:i.x+e/o*(n.x-i.x),y:i.y+e/o*(n.y-i.y)}},distanceOf:function(t,e,i,n,o){var s=e.y-t.y;o&&(s*=-1);var a=t.x-e.x;o&&(a*=-1);var r=-1*a*t.y-s*t.x,l=Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),u=l?(s*i+a*n+r)/l:0;return u},toCubicControlPoints:function(t,e,i,n,o,s){var a=2/3,r=1/3,l=a*i+r*t,u=a*n+r*e,h=a*i+r*o,d=a*n+r*s;return[l,u,h,d]},ifElse:function(t,e,i){return t>0?e:i},cosTan:function(t,e,i){return t*Math.cos(Math.atan2(i,e))},sinTan:function(t,e,i){return t*Math.sin(Math.atan2(i,e))},roundDecimal:function(t,e){var i=Math.pow(10,e),n=Math.round(t*i)/i;return n},modulo:function(t,e){t=parseFloat(t),e=parseFloat(e);var i=zoho.math._getFloatingPointLength,n=Math.pow(10,Math.max(i(t),i(e)));return t*n%(e*n)/n},_getFloatingPointLength:function(t){var e=t.toString().split(".")[1];return e?e.length:0},midPoint:function(t,e){return{x:.5*(t.x+e.x),y:.5*(t.y+e.y)}},getDiff:function(t,e,i){return i||(i=1),{x:(t.x-e.x)*i,y:(t.y-e.y)*i}},gcd:function(t,e){return 0==e?t:this.gcd(e,t%e)}},array:{toNum:function(e){return t.map(e,function(t,e){return 1*t})},sort:function(t,e){return t.sort(zoho.array.sortnum),e&&t.reverse(),t},sortnum:function(t,e){return t-e},compareXY:function(t,e){return t.small?t.small-e.small:t.big?t.big-e.big:void 0},compareZindex:function(t,e){return t.zindex-e.zindex},diff:function(t,e){for(var i=[],n=0;t.length>n;n++)e.indexOf(t[n])==-1&&i.push(t[n]);return i},unique:function(e){var i,n=[],o=e.length;for(i=0;i<o;i++)t.inArray(e[i],n)<0&&n.push(e[i]);return n},clear:function(t){t.splice(0,t.length)}},string:{removeSpace:function(t){return t.replace(/\s+/g,"")}},customMerge:function(){var e,i,n,o,s,a,r=arguments[0]||{},l=1,u=arguments.length,h=!1;if(("boolean"==typeof r||t.isObject(r)&&(r.deep||r.overwrite))&&(h=r.deep?r.deep:r,s=r.overwrite?r.overwrite:[],a=r,r=arguments[1]||{},l=2),"object"==typeof r||t.isFunction(r)||(r={}),u===l)return r;for(;l<u;l++)if(null!=(e=arguments[l]))for(i in e)if(n=r[i],o=e[i],r!==o)if(h&&o&&(t.isPlainObject(o)||t.isArray(o))){var d=n&&(t.isPlainObject(n)||t.isArray(n))?n:t.isArray(o)?[]:{},c=!(!n||!a.skip||t.inArray(i,a.skip)==-1);if(c)continue;t.inArray(i,s)==-1?r[i]=zoho.customMerge(a,d,o):r[i]=t.extend(h,t.isArray(o)?[]:{},o)}else void 0!==o&&(r[i]=o);return r}}}(jQuery),function(t){t.widget("ui.zbutton",{_dropDownIcon:"ui-components-icon ui-icon-triangle-1-s",_noIcon:"ui-zbutton-no-icon",_create:function(){this._make(this.element)},widgetEventPrefix:"button",_ctypeElems:".ui-zoom-panel,.ui-hiddenslider,.ui-zslider-panel,.ui-zstate,.ui-zspinner,.ui-ztoggle,.ui-zcombo,.ui-zcolorchooser",_EVENTS:{ONICON_CHANGE:"iconchange",ONLABEL_CHANGE:"labelchange"},options:{noIconScope:!1,iconScope:"",keys:{"validfilemessage.label":"Please select a valid file"}},_getLabel:function(e){var i=e.next("label");if(i.length)return i;i=void 0;var n=e.metadata().label;return n||(n=e.attr("label")),n&&(i=t("<label>").text(n).insertAfter(e),"file"!=e.attr("type")&&i.attr("for",e.attr("id"))),i},_make:function(e){if(e.is("input[type=file]"))return this._makeFileButton();e=e?e:this.element;var i=this._getData(e);if(e.is("input")&&this._getLabel(e),i.buttonset){if("bottom"!==this.options.labelPosition&&(e.parent().metadata().buttonset?e.parent().addClass("ui-buttonset-sep-main"):e.addClass("ui-buttonset-sep-main"),i.label)){var n=t("<button>").attr({disabled:"disabled",class:"ui-buttonset-label",data:"{label: '"+i.label+"'}"}).text(i.label);"right"===this.options.labelPosition?n.insertAfter(e.children(":last")).addClass("ui-buttonset-label-left"):n.insertBefore(e.children(":first")).addClass("ui-buttonset-label-right")}this._initButtonSet(e)}else i.splitbutton&&!i.splitInited?(i.splitInited=!0,this._initSplitButton(i,e)):this._initButton(i,e)},_makeFileButton:function(t){t=t?t:this.element;var e=this._getLabel(t);t.data("widgetBase",e),e.button().css("overflow","hidden").attr("autocomplete","off"),e.append(t.addClass("ui-zbutton-file"));var i=this;t.on("change."+this.widgetName,function(n){var o=t.val();if(e.attr("title",o),void 0!==o&&""!==o&&t.metadata().extension){var s=i._checkExtension(t,o);if(!s){n.stopImmediatePropagation();var a=t.metadata().validFileMessage,r=a?a:i._getString("validfilemessage.label","zerror");alert(r)}}})},_checkExtension:function(t,e){var i=t.metadata().extension.split(","),n=e.lastIndexOf("."),o=e.substr(n+1).toLowerCase();return!(jQuery.inArray(o,i)<0)},_getString:function(e,i){return t.i18n?t.i18n(i?i:"zbutton",e):this.options.keys[e]},_initItems:function(e){var i=this;t(e).each(function(e,n){var o=t(n),s=o.metadata();s.buttonset?(s=t.extend({},s,{iconScope:i.options.iconScope,labelPosition:i.options.buttonsetLabelPosition}),o.zbutton(s)):(o.is("input")||o.is("button"))&&i._make(o)})},_initButton:function(e,i){if(i=i?i:this.element,t.ui.shortcutkeys){t.ui.shortcutkeys.register(i)}var n=void 0;i.is("[type=file]")&&(n=i),i.is("[popup]")&&(e||(e={}),e.splitButtonDropDown||e.splitbutton||0==e.popupIcon||(e.icons||(e.icons={}),e.icons.secondary=this._dropDownIcon)),void 0!==e.label&&(e.label=e.ellipsis?e.label+"...":e.label),i.button(e).attr("autocomplete","off"),e.noIconScope&&i.button("widget").find(".ui-icon").removeClass("ui-icon"),n&&n.css({position:"absolute",opacity:0}),i.is("button")&&i.on("mouseout."+this.widgetName,function(t){i.removeClass("ui-state-focus")}),i.is("input")&&i.button("widget").addClass(i.attr("class")).removeClass("ui-helper-hidden-accessible"),i.is(":disabled")&&this._disable("#"+i.attr("id"))},_initButtonSet:function(e,i){i||e.on("change",function(i){e.find("input").each(function(e,i){i=t(i);var n=i.data("menuButton");n&&!i.is(":checked")&&n.triggerHandler("mouseout")})}),buttonSet=e?e:this.element;var n=void 0;if(e.hasClass("ui-button-splitbutton")?n=t("input"+(i?"":", button")+":not([ctype], select)",buttonSet):(n=buttonSet.children(":not([ctype],"+this._ctypeElems+",select)"),buttonSet.addClass("ui-buttonset-container")),buttonSet.metadata().buttonset){t("input[type='radio']",buttonSet).length===n.length&&0!=n.length&&buttonSet.metadata().buttonset&&buttonSet.addClass("ui-zbutton-radioset");var o=buttonSet.parent();o.metadata().buttonset&&(o.metadata().mainButtonset=!0,buttonSet.metadata().innerButtonset=!0,buttonSet.addClass("ui-buttonset-inner"),buttonSet.next(":not(.ui-group-text)").length&&buttonSet.append(t("<span>").attr("class","ui-components-icon ui-buttonset-sep ui-icon-dot-separator")))}this._initItems(n),e.hasClass("ui-button-splitbutton")||e.buttonset();var s=e.find(".ui-button:first");s.prev(".ui-button").length||e.parent().metadata().buttonset?e.prev(".ui-buttonset").length||s.find(".ui-button-text").addClass("no-sep-bg"):s.find(".ui-button-text").addClass("no-sep-bg")},_initSplitButton:function(e,i,n){i=i?i:this.element;var o=t("<div>").addClass("ui-button-splitbutton ui-buttonset");i.metadata().id&&o.attr("id",i.metadata().id),o.insertBefore(i),o.css({display:"inline-block"});var s=i.attr("id"),a=s?s+"DropDown":void 0,r=void 0;i.is("input")?(r=i.next().next(),r.length&&!r.is(":not('button')")||(r=t("<button>").data("created",!0))):r=n||i.next().is(":not('button')")?t("<button>").data("created",!0):i.next(),r.addClass("ui-splitbutton"),r.text().length||r.text(this._getString("more.label","zcommon")),r.attr("id")||r.attr("id",a);var l=r.metadata();l.splitButtonDropDown=!0,l.text=!1,l.icons={primary:this._dropDownIcon},r.data("created")&&e&&e.appData&&(l.appData=e.appData);var u=void 0;i.is("input")&&(u=i.next()),o.append(i),u&&o.append(u),o.append(r),setTimeout(function(){r.removeAttr("title").data("title","")},1e3);var h=this._getData(i);if(h.splitButtonPopup&&r.attr("popup",h.splitButtonPopup),this._initButton(h,i),i.is(":disabled")&&r.attr("disabled",!0),this._initButton(l,r),e&&e.splitbuttonAttrs&&r.attr(e.splitbuttonAttrs),this._initButtonSet(o,!0),i.is("input")){var d="ui-state-active",c=i.button("widget");i.on("change",function(){r[c.hasClass(d)?"addClass":"removeClass"](d)}),i.button("widget").on("mousedown",function(e){if(i.is("[type=radio]")){var n=t("input[type=radio][name="+i.attr("name")+"]:checked");n.button("widget").next(".ui-splitbutton").removeClass(d)}}),i.is(":checked")&&r.addClass(d),r.on("mouseout",function(){c.hasClass(d)&&r.addClass(d)})}return i.data("menuButton",r),o.hover(function(e){var i=t(e.target).closest(".ui-button");i.hasClass("ui-state-disabled")||o.addClass("ui-state-hover")},function(t){o.removeClass("ui-state-hover")}),o.on("mousemove",function(e){var i=t(e.target).closest(".ui-button");i.hasClass("ui-state-disabled")&&o.removeClass("ui-state-hover")}),o},_getData:function(t,e){t=t?t:this.element;var i=t.metadata();return this.options.noIconScope||i.noIconScope||i.icons&&this.options.iconScope&&!e&&(i.icons.primary&&(i.icons.primary=this.options.iconScope+" "+i.icons.primary),i.icons.secondary&&(i.icons.secondary=this.options.iconScope+" "+i.icons.secondary)),i},_isButtonSet:function(t){return t.metadata().buttonset},expandButtonSet:function(e,i){var n=this.element;if(i){var o=t(n).children(":not(.ui-extended-buttonset,input)");o.each(function(e,i){t(i).show()});var s=n.data().popup;if(s){t(s).zmenu("destroy").remove(),n.data().popup=void 0;var a=n.data().popupButton;t("#"+a).zbutton("destroy"),t("#"+a).remove()}}else t(e).each(function(e,i){i.show();var o=i.is("button")?"shrinked_menuitem_"+i.attr("id"):"shrinked_menuitem_"+i.attr("for");if(n=i.parent(),i.hasClass("ui-button-splitbutton")){var s=i.children(".ui-splitbutton").attr("popup")?"group_":"";i=i.children(":first"),o=s+"shrinked_menuitem_"+i.attr("id"),i.is("input")&&(o=s+"shrinked_menuitem_"+i.next().attr("for")),n=n.parent()}var a=t(n.data().popup);if(a&&(a.zmenu("removeMenuItem",o),0==a.zmenu("getItemCount"))){a.zmenu("destroy").remove(),n.data().popup=void 0;var r=n.data().popupButton;t("#"+r).zbutton("destroy"),t("#"+r).remove()}})},shrinkButtonSet:function(e){var i=this.element,n=this;if(i.metadata().mainButtonset){var o=i.data().popup;t(e).each(function(e,s){var a=t(s);if(!a.is(":hidden")){a.hide();var r=n.getAsObject(a,!0),l=a.parent();l.metadata().mainButtonset?(o=i.data().popup,o||n._createButtonsetMenu(i)):(o=l.data().popup,o||n._createButtonsetMenu(l)),o?o.zmenu("addMenuItem",r,0):(o=l.data().popup=t.ui.zmenu.createMenu(l.attr("id")+"Menu",t(r)),o.on("menuitemhovered",function(e,i){t.ZContextMenu.displayMenuComponents(e,i)}))}})}else{this._createButtonsetMenu(i);var o=i.data().popup;t(e).each(function(e,s){if(!s.is(":hidden")){s.hide();var a=n.getAsObject(s,!0);o?o.zmenu("addMenuItem",a,0):(o=i.data().popup=t.ui.zmenu.createMenu(t(s.parent()).attr("id")+"Menu",t(a)),o.on("menuitemhovered",function(e,i){t.ZContextMenu.displayMenuComponents(e,i)}))}})}},_createButtonsetMenu:function(e){if(e.metadata().buttonset&&!e.data().popup){var i=t(e).attr("id")+"Menu",n=t("<button class='ui-ztoolbar-splitmenu ui-extended-buttonset'>"+this._getString("moreoptions.label","zcommon")+"</button>");n.attr("data","{'text': false, 'icons':{'primary': 'ui-icon ui-components-toolbar-icon ui-icon-zmore'}}"),n.zbutton(),n.attr({popup:i,id:i+"Button"}),n.css("width","16px"),n.insertAfter(e.children(":not(.ui-buttonset-sep)").last()),e.data().popupButton=i+"Button"}},shrinkButtonSetAsMenu:function(e){var e=e?e:this.element;if(!e.data().popup){var i=e.children(":visible:not(.ui-buttonset-sep,.ui-extended-buttonset,input)"),n=e.attr("id")+"Menu",o=e.children(":visible:first"),s=o.metadata(),a=s.label?s.label:this._getString("moreoptions.label","zcommon"),r=t("<button class='ui-ztoolbar-splitmenu ui-extended-buttonset'>"+a+"</button>");r.attr("data","{'text': false, 'icons':{'primary': '"+s.icons.primary+"', 'secondary': 'ui-components-icon ui-icon-triangle-1-s'}}"),r.zbutton(),r.attr({popup:n,id:n+"Button"}),r.insertAfter(e.children(":not(.ui-buttonset-sep)").last()),e.data().popupButton=n+"Button";var l=this,u=[];i.each(function(e,i){var n=t(i);n.is(":hidden")||(n.hide(),u[u.length]=l.getAsObject(n,!0))}),u.reverse(),e.data().popup=t.ui.zmenu.createMenu(n,u)}},getAsObject:function(e,i,n){e=e?e:this.element;var o=e,s=t(e).parent().hasClass("ui-buttonset")&&!t(e).parent().hasClass("ui-button-splitbutton"),a=e.metadata(),r={},l=void 0,u=void 0;if(s){if(e.hasClass("ui-button-splitbutton")&&(e=e.children(":first"),e.is("input")&&(e=e.next())),e.is("button")){if(l=t(e).attr("id"),l&&(r.id="menuitem_"+l,r.relatedButton="#"+l),r.mtype=e.attr("btype"),e.hasClass("ui-buttonset-label")&&(n?r.submenu="#"+e.parent().attr("id")+"menu":r.mtype="group"),e.parent().hasClass("ui-button-splitbutton")){var h=t(e).next(),d=h.attr("popup");d&&(r.submenu="#"+d,u="#"+h.attr("id"),r.mtype="splitmenu"),r.colorpalette=h.attr("colorpalette")}else{var d=t(e).attr("popup");d&&(r.submenu="#"+d),r.colorpalette=t(e).attr("colorpalette")}r["data-association"]="#"+l}else if(e.is("label"))if(l=e.attr("for"),r.id="menuitem_"+l,r["data-association"]="#"+l,r.label=e.text(),e=e.prev(),r.inputtype=t(e).attr("type"),t(e).is(":checked")&&(r.checked=t(e).is(":checked")),r.name=t(e).attr("name")+"zbutton",e.parent().hasClass("ui-button-splitbutton")){var h=t(e).next().next(),d=h.attr("popup");r.colorpalette=h.attr("colorpalette"),d&&(r.submenu="#"+d,u="#"+h.attr("id"),r.mtype="splitmenu")}else{var d=t(e).attr("popup");d&&(r.submenu="#"+d),r.colorpalette=t(e).attr("colorpalette"),r.relatedButton="#"+l}}else{var c=e.attr("id");if(l="menuitem_"+c,r.id=l,r.dataassociation="#"+l,e.parent().hasClass("ui-buttonset")){r.id="menuitem_"+t(e).attr("id"),a=e.metadata();var p=e.next(".ui-button").attr("popup");p&&(r.submenu="#"+p,u="#"+c,r.mtype="splitmenu")}else{var m=t(e).attr("popup");m&&(r.submenu="#"+m)}r["data-association"]="#"+c}var f=void 0;if(e.is("[data-association]")){var _=e.attr("data-association");r["data-association"]+=","+_,r.id&&(f=_+",#"+r.id)}else f="#"+r.id;f&&e.attr("data-association",f),!e.attr("disabled")&&!e.hasClass("ui-state-disabled")||e.hasClass("ui-buttonset-label")||n||(r.disabled=!0);var a=e.metadata();if(r.data=e.attr("data"),u&&(r.splitButtonData=u),r.icon=a.icons?a.icons.primary==this._noIcon?"ui-zmenu-no-icon":a.icons.primary:void 0,!r.label){var g=a.label;e.hasClass("ui-button")&&(r.label=g?g:e.text())}if(a.textIcon){r.iconText=r.label?r.label:e.text();var v=e.button("widget");r.label=v.attr("title"),r.icon=v.attr("class").split(" ")[0]}return r.shortcutkey=a.shortcutkey,r.baseButton=o,e.data("hidden")&&(r.hidden=!0),i&&(r.pos=0,r.id="shrinked_"+r.id),r},_destroySplitButton:function(e){var i=e?e:this.element,e=t("button",i).button("destroy");e.last(".ui-splitbutton").removeClass(".ui-splitbutton"),e.data("isInternal")&&e.remove(),t(i).buttonset("destroy")},_destroyFileButton:function(t){var e=t.data("widgetBase");t.insertBefore(e),t.data("widgetCreated")&&e.remove(),t.removeClass("ui-zbutton-file"),e.button("destroy"),t.off("."+this.widgetName)},destroy:function(){var e=this.element;e.is("input[type=file]")?this._destroyFileButton(e):e.is(".ui-buttonset")?e.buttonset("destroy"):e.metadata().splitbutton?this._destroySplitButton(e.parent()):e.button("destroy"),e.off("."+this.widgetName),t.Widget.prototype.destroy.apply(this,arguments)},check:function(t){this._check(!0,t)},uncheck:function(t){this._check(!1,t)},_check:function(e,i){var n=i?this.element.find(i):this.element;n.each(function(i,n){if(n=t(n),!n.is(":disabled")){if(n.hasClass("ui-buttonset"))return;n.prop("checked",e),n.metadata().splitbutton&&n.button("widget").next("button.ui-splitbutton")[e?"addClass":"removeClass"]("ui-state-active"),n.button("refresh"),n.trigger("element_state_changed",{checked:e})}})},_disable:function(e,i){var n=i?"enable":"disable",o=this.element.metadata(),s=o.splitbutton&&this.element.parent().hasClass("ui-buttonset")?this.element.parent():this.element;if(s.metadata().buttonset){var a=e?this.element.find(e):s.children("input, button, div");t.each(a,function(e,o){t(o).hasClass("ui-button-splitbutton")?t(o).find("input,button").button().attr("disabled",!i).button(n):t(o).attr("disabled",!i).button(n),t(o).trigger("element_state_changed",{disabled:!i,checked:t(o).is(":checked")})})}else s.attr("disabled",!i),s.data("ui-button")&&s.button(n),s.trigger("element_state_changed",{disabled:!i,checked:s.is(":checked")})},disable:function(t){this._disable(t)},enable:function(t){this._disable(t,!0)},_show:function(e,i){var n=i?"show":"hide",o=this.element.metadata(),s=o.splitbutton?this.element.parent(".ui-buttonset"):this.element;if(s.hasClass("ui-buttonset")){var a=e&&!o.splitbutton?this.element.find(e):s.children("input, button");t.each(a,function(e,o){t(o).button("widget")[n](),t(o).data("hidden",!i),t(o).trigger("element_state_changed",{visible:i,disabled:t(o).attr("disabled"),checked:t(o).is(":checked")})})}else s.button("widget")[n](),s.data("hidden",!i),s.trigger("element_state_changed",{visible:i,disabled:s.attr("disabled"),checked:s.is(":checked")})},show:function(t){this._show(t,!0)},hide:function(t){this._show(t,!1)},changeIcon:function(e,i){i&&(i=i.indexOf("#")!=-1?i:"#"+i);var n=i?this.element.find(i):this.element;n.data("fromButtonChange",!0);var o={};o.primary=n.button("option","icons").primary,o.secondary=n.button("option","icons").secondary,e&&(e.primary&&(o.primary=e.primary),e.secondary&&(o.secondary=e.secondary));var s=t(n.data("association")).data("fromMenuItemChange");t(o).length&&(n.button("option","icons",o),n.metadata().icons=o,s||this._triggerEvent(this._EVENTS.ONICON_CHANGE,{button:n,icons:o}))},changeLabel:function(e,i){i&&(i=i.indexOf("#")!=-1?i:"#"+i),ele=i?this.element.find(i):this.element;var n=t(ele.data("association")).data("fromMenuItemChange");e&&(ele.button("option","label",e),n||this._triggerEvent(this._EVENTS.ONLABEL_CHANGE,{button:ele,label:e}))},isHighlighted:function(){return this.element.hasClass("ui-state-highlight")},_triggerEvent:function(t,e){return this._trigger(t,t,e)}})}(jQuery),function(t){var e={widgetEventPrefix:"zautosuggest",_EVENTS:{ONREMOVE:"remove",ONSELECT:"select",ONCHANGE:"change"},options:{searchParamName:"searchquery",customData:{},submitURL:void 0,sortable:!1,minLength:2,list:"",imageURL:""},_emailRegx:/^[a-zA-Z0-9]([\w\-\.\+]*)@([\w\-\.]*)(\.[a-zA-Z]{2,8}(\.[a-zA-Z]{2}){0,2})$/,_tokenEvents:!1,_addedData:[],_userDetails:[],_create:function(){this.options=t.extend({},t.ui.zautosuggest.config,this.options),this._tokenElement=t("<div>").attr({class:"ui-zautosuggest"}).appendTo(this.element);var e=this;this.element.on("click",function(){e._tokenInput.trigger("focus")}),this._isAuthor=!1,this._defaultCheck=!1,this._searchplaceholder=this.element.attr("placeholder")||this._getString("searchplaceholder.label"),this._searchplaceholder=void 0===this._searchplaceholder||null===this._searchplaceholder?"":this._searchplaceholder;var i=t("<input>").hide().appendTo(t("body"));this._isPlaceholder=void 0===i[0].placeholder||null===i[0].placeholder,i.remove(),this._addedData.length=0,this.options.source=this.options.source||this.options.list,this._getSharedUserList(),this.setSource(this.options.source)},_getSharedUserList:function(){this._userDetails=this.options.source,this._imageURL=this.options.imageURL,this._defaultCheck||this._createMainContainer(),this._defaultCheck=!0},getData:function(){return this._tokenElement.ztokens("getData")},setValue:function(t,e){if(t&&"undefined"!=typeof t){var i=t;"string"==typeof t&&(i=t.split(",")),i.length&&"string"==typeof i[0]&&this._handleInput(t)}},_initSortable:function(){var t=this;this._tokenElement.zsortable({items:"div:not(.ui-ztokens-token-error)"}).off("sortupdate").on("sortupdate",function(e){t._triggerSelectEvent(e)})},setSource:function(e,i){this._userDetails=e,this.options.source=e,this._sourceData=this.options.source;var n=this;if("object"==typeof this.options.source)this._sourceData=function(e,i){var o=n._userDetails;o.sort(function(t,e){return t.name.toLowerCase()>e.name.toLowerCase()?1:t.name.toLowerCase()<e.name.toLowerCase()?-1:0});var s=t.grep(n._userDetails,function(e){return t.inArray(e.email,n._addedData)===-1}),a=t.ui.autocomplete.escapeRegex(e.term),r=new RegExp("^"+a,"i"),l=t.grep(s,function(t){return r.test(t.label||t.value||t)}),u=new RegExp(a,"i"),h=t.grep(s,function(e){return t.inArray(e,l)<0&&u.test(e.label||e.value||e)});i(l.concat(h))};else{this._cachedData=[],this._requestObj=void 0;var o=this.options.customData;this._sourceData=function(e,i){var s=e.term,a=n._checkStartsWith(s);if(""!==a){var r=n._cachedData[a];r.sort(function(t,e){return t.name.toLowerCase()>e.name.toLowerCase()?1:t.name.toLowerCase()<e.name.toLowerCase()?-1:0});var l=t.grep(n._userDetails,function(e){return t.inArray(e.email,n._addedData)===-1}),s=t.ui.autocomplete.escapeRegex(e.term),u=new RegExp("^"+s,"i"),h=t.grep(l,function(t){return u.test(t.label||t.value||t)}),d=new RegExp(s,"i"),c=t.grep(l,function(e){return t.inArray(e,h)<0&&d.test(e.label||e.value||e)});return void i(h.concat(c))}o[n.options.searchParamName]=s,this._requestObj&&(this._requestObj.abort(),this._requestObj=void 0),this._requestObj=t.ajax({type:"application/json",url:n.options.submitURL,data:o,success:function(t){n._cachedData[s]=t,i(t)}})}}this._refresh()},_checkStartsWith:function(t){if(t in baseObj._cachedData)return t;if(t.length>0)for(var e=baseObj._cachedData.length,i=0;i<e;i++){var n=baseObj._cachedData[i];if(n.substring(0,t.length)===n)return t}return""},_createMainContainer:function(){var e=this;this._tokenElement.ztokens({htmlContent:!0,remove:function(t,i){if(e._tokenInput[0].disabled=!1,i.data&&i.data.email){var n=e._addedData.indexOf(i.data.email);n>-1&&e._addedData.splice(n,1)}e._tokenInput.trigger("focus"),e.options.source&&e.options.source.length&&e._tokenInput.autocomplete("close"),e._addedData.length||e._tokenInput.attr("placeholder",e._searchplaceholder),e._triggerSelectEvent(t)}}).on("click",function(t){t.target===this&&e._tokenInput.trigger("focus")}),this.splitName=function(t){return t.split(",")[0]},this.addToken=function(i,n){if(i.name.trim().length&&t.inArray(i.email,e._addedData)===-1){var o="<span class='ui-zautosuggest-text'>"+this.splitName(i.name)+"</span>";n||void 0===this._imageURL||(o="<span class='ui-zautosuggest-img'><img src='"+e._getImage(i.id,i.type)+"' /></span>"+o),e._tokenElement.ztokens("addToken",o,i,n),n||e._addedData.push(i.email),e._tokenInput.trigger("focus"),e._tokenInput.removeAttr("placeholder")}},this._tokenInput=this._tokenElement.ztokens("getInputElement"),this._tokenInput[0].placeholder=this._searchplaceholder,this._initTokensEvents();var i=t("<span>").attr("class",this._tokenInput.attr("class")).appendTo(t("body"));this._tokenInputWidth=i.text(this._searchplaceholder).outerWidth()+5,i.remove(),this._tokenInput.css("min-width",this._tokenInputWidth)},_initTokensEvents:function(){var t=this;this._blurTimeout=void 0,this._tokenEvents=!0;var e=void 0;this._tokenInput.addClass("ui-zautosuggest-input").on("keyup.znotify",function(i){e=t._tokenInput.val(),13===i.which&&e&&t._handleInput(e,i)}).on("blur.znotify",function(e){t._blurTimeout=setTimeout(function(){t._handleInput(t._tokenInput.val(),e)},100)})},_handleInput:function(t,e){if(t){for(var i=void 0,n=t.split(","),o=0;o<n.length;o++)if(i=n[o].trim(),i.length){var s=this._emailRegx.test(i),a={name:i,id:i,email:i,type:"email"};s||(a.name=this._escapeHTML(i)),this.addToken(a,!s)}e&&(this._tokenInput.val("").trigger("focus"),this._triggerSelectEvent(e)),this.options.sortable&&this._initSortable()}},_escapeHTML:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(t).replace(/[&<>"'\/]/g,function(t){return e[t]})},_initKeydownEvent:function(){var e=this;this._tokenInput.on("keydown.znotify",function(i){e._tokenInput.autocomplete("enable"),e._tokenInput.val()||t(".ui-autocomplete.ui-widget:visible").length||37!==i.which&&39!==i.which&&40!==i.which&&46!==i.which&&8!==i.which||(40===i.which?e._tokenInput.autocomplete("search",""):(e._tokenInput.autocomplete("close"),e._tokenInput.autocomplete("disable")))})},_initAutoComplete:function(){function e(t,e,i){return i.replace(new RegExp(t,"i"),e)}var i=this;this._tokenInputHeight=void 0,"1.8.14"===t.ui.version&&this._tokenInput.on("autocompleteopen",function(t){i._autoCompleteWidget.css("top",i._tokenInput.offset().top+i._tokenInputHeight)}).on("autocompletecreate",function(t){i._autoCompleteWidget=i._tokenInput.autocomplete("widget"),i._tokenInputHeight=i._tokenInput.outerHeight()}).on("autocompleteclose",function(t){i._autoCompleteWidget.css("margin-top","")}),this._tokenInput.autocomplete({autoFocus:!0,minLength:i.options.minLength,position:{my:"left-5 top",at:"left bottom+9",collision:"none"},source:i._sourceData,focus:function(){return!1},select:function(t,e){return i._blurTimeout&&clearTimeout(i._blurTimeout),i.addToken(e.item),i._triggerSelectEvent(t),i._tokenInput.val("").trigger("focus"),!1},response:function(t,e){}}).data("autocomplete")._renderItem=function(n,o){n.addClass("ui-zautosuggest-autocomplete");var s=i._tokenInput.val(),a=void 0!==o.email?e(s,"<b style='color:#000'>"+s+"</b>",o.email):"",r="group"===o.type.toLowerCase()?"ui-group-name":"";return t("<li>").data("item.autocomplete",o).append("<a><img src='"+i._getImage(o.id,o.type)+"' /><span class="+r+">"+o.encodeName+"<br><span>"+a+"</span></span></a>").appendTo(n)},this._initKeydownEvent()},_triggerSelectEvent:function(t){for(var e=this._tokenElement.ztokens("getData"),i=[],n=0;n<e.length;n++){var o=e[n];o&&o.email&&i.push(o.email)}var s={items:this._tokenElement.ztokens("getData"),value:i};this._triggerEvent(this._EVENTS.ONCHANGE,t,s)},_refresh:function(){this._tokenEvents||this._initTokensEvents(),(this._tokenInput.data("autocomplete")||this._tokenInput.data("ui-autocomplete"))&&this._tokenInput.off("keydown.znotify").autocomplete("destroy"),this.options.source&&this.options.source.length&&this._initAutoComplete()},refresh:function(t){this._addedData.length=0,this._refresh(),this._tokenElement.ztokens("removeAllTokens"),this._tokenInput.val(""),this._triggerSelectEvent(t),this._tokenInput.attr("placeholder",this._searchplaceholder)},_getImage:function(t,e){e=e.toLowerCase(),"email"===e&&(t="abcd",e="");var i=this._imageURL+"/file?fs=thumb&ID="+t+"&t="+e;return i},_getString:function(e,i){if(t.i18n){var n=t.i18n(i?i:"zautosuggest",e);return n==="[noi18n] "+e&&(n=this.options.keys[e]),n}return this.options.keys[e]},_triggerEvent:function(t,e,i){return this._trigger(t,e,i)}};t.widget("ui.zautosuggest",e),t.ui.zautosuggest.config={keys:{"searchplaceholder.label":"Enter name"}}}(jQuery),function(t){t.widget("ui.zsortable",{widgetEventPrefix:"zsortable",_CLASSES:{element:"ui-sortable",item:"ui-state-default",icon:"ui-icon-holder ui-icon ui-no-bg",primaryText:"ui-item-primary-text",secondaryText:"ui-item-secondary-text",active:"ui-state-active",hover:"ui-state-hover",removeicon:"ui-components-toolbar-icon ui-icon ui-sortable-no-icon  ui-icon-zclose-blue",removeiconplaceholder:"remove-placeholder",textholder:"ui-text-holder"},_EVENTS:{ONITEMADD:"itemadded",ONITEMDELETED:"itemdeleted",ONITEMUPDATE:"itemupdated",ONBEFOREITEMDELETE:"beforeitemdelete",ONHOVER:"hover",ONSORT:"sort",ONSORTSTOP:"sortstop",ONSELECT:"select",ONUNSELECT:"unselect"},_create:function(){this._initPanel(),this._addEvents()},options:{axis:"y",type:"text_only",remove:!1},_initPanel:function(){var e=this.element.metadata(),i={};e&&e.componentOptions&&(i=e.componentOptions),t.extend(!0,this.options,i),this.initItem(),this.initSortable()},_addEvents:function(){var e=this;this.element.on("mousedown",function(i){var n=e._getTarget.call(e,i.target);return 1===i.which&&t(n).length?(e.element.children().removeClass(e._CLASSES.active),void e._selectItem(n)):(e._unselectItem(),!1)}),this.element.on("sort",function(t,i){e._triggerEvent.call(e,e._EVENTS.ONSORT,e._EVENTS.ONSORT,{item:i.item})}),this.element.on("sortstop",function(t,i){e._sortStopped.call(e,i)}),this.options.remove&&(this.element.on("hover","."+e._CLASSES.item,function(t){e._handleHover.call(e,t)}),this.element.on("mousedown","."+e._CLASSES.removeiconplaceholder,function(i){var n=e._getTarget.call(e,i.target);if(t(n).length)return e._deleteItem.call(e,t(n)),!1}))},initItem:function(){var e=this,i=this.element.children();i.each(function(i,n){var o=t(n).metadata();e._createItem(o,t(n))})},initSortable:function(){this.element.addClass(this._CLASSES.element),this.element.sortable(this.options)},_handleHover:function(e){if(this.options.remove){var i=this._getTarget.call(this,e.target);if(t(i).length){var n="mouseleave"===e.type?"addClass":"removeClass";t(i).find(".remove-placeholder")[n]("ui-sortable-no-icon")}}},_sortStopped:function(t){var e=t.item.data("index");this._updatePositions(),this._triggerEvent(this._EVENTS.ONSORTSTOP,this._EVENTS.ONSORTSTOP,{item:t.item,oldindex:e})},unselectItem:function(){this._unselectItem()},_unselectItem:function(){this.element.children().removeClass(this._CLASSES.active),this._triggerEvent(this._EVENTS.ONUNSELECT,this._EVENTS.ONUNSELECT)},_selectItem:function(e,i,n){n||this.element.children().removeClass(this._CLASSES.active),e="object"==typeof e?e:t("#"+e,this.element),t(e).addClass(this._CLASSES.active),i||this._triggerEvent(this._EVENTS.ONSELECT,this._EVENTS.ONSELECT,{item:t(e)})},selectItem:function(t,e){this._selectItem(t,e)},selectItems:function(e,i){var n=this;t.each(e,function(t,e){n._selectItem(e,i,!0)})},removeSelection:function(t){(t?this.element.find("."+t):this.element.children()).removeClass(this._CLASSES.active)},_ismenuItemPresent:function(t){return this.element.find("#"+t)},_addItem:function(t){var e=this._createItem(t);this.element.append(e),this._updatePositions(),this._triggerEvent(this._EVENTS.ONITEMADD,this._EVENTS.ONITEMADD,{item:e})},_createItems:function(e){var i=this;t.each(e,function(t,e){i._createItem(e)})},_createItem:function(e,i){if(i||(i=t("<div>"),e.title&&i.attr("title",e.title),e.className&&i.addClass(e.className),e.id&&i.attr("id",e.id)),i=t(i),i.addClass(this._CLASSES.item),"icon_text"===this.options.type){var n=t("<span>");n.addClass(this._CLASSES.icon),n.addClass(e.icon),i.append(n)}var o=t("<span>");o.addClass(this._CLASSES.textholder);var s=t("<span>");s.addClass(this._CLASSES.primaryText),e.primaryText&&s.text(e.primaryText),o.append(s);var a=t("<span>");if(a.addClass(this._CLASSES.secondaryText),e.secondaryText&&a.text(e.secondaryText),e.key){var r={};r[e.key]=e[e.key],i.data(r),this._key=e.key}if(o.append(a),i.append(o),this.options.remove){var l=t("<span>");l.attr("title","Remove"),l.addClass(this._CLASSES.removeicon+" "+this._CLASSES.removeiconplaceholder),i.append(l)}return i},addItem:function(t){this._addItem(t)},addItems:function(e){var i=this;t.each(e,function(t,e){i._addItem(e)})},_deleteItem:function(t,e){e||this._triggerEvent(this._EVENTS.ONBEFOREITEMDELETE,this._EVENTS.ONBEFOREITEMDELETE,{id:t.attr("id")}),this.element.find(t).remove(),this._updatePositions(),e||this._triggerEvent(this._EVENTS.ONITEMDELETED,this._EVENTS.ONITEMDELETED)},deleteItem:function(t,e){this._deleteItem(t,e)},clearItems:function(){this.element.empty()},_updateItem:function(t){var e=this.element.find("#"+t.id);t.primaryText&&e.find("."+this._CLASSES.primaryText).text(t.primaryText),t.secondaryText&&e.find("."+this._CLASSES.secondaryText).text(t.secondaryText),t.title&&e.attr("title",t.title),t.select&&this._selectItem(e,!0),this._triggerEvent(this._EVENTS.ONITEMUPDATE,this._EVENTS.ONITEMUPDATE,{item:e})},updateItem:function(t){this._updateItem(t)},_enable:function(){this.element.sortable("enable")},enable:function(){this._enable()},_disable:function(){this.element.sortable("disable")},disable:function(){this._disable()},refresh:function(){this.element.sortable("refresh")},_triggerEvent:function(t,e,i){if(i||(i={}),i.element=this.element,i.item){var n=i.item.data("index");i.index=n}return this._trigger(t,e,i)},_getTarget:function(e){return t(e).hasClass(this._CLASSES.item)?e:t(e).parents("."+this._CLASSES.item)},_getItems:function(){return this.element.children()},_updatePositions:function(){this._getItems().each(function(e,i){t(i).data("index",e)})},_getItem:function(t){return this.element.find(t)},getItemById:function(t){return this._getItem("#"+t)},getItemByClass:function(t){return this._getItem("."+t)},getIconHolder:function(e){return t(e).find(".ui-icon-holder")},widget:function(){return this.element},getSelectedItems:function(){return this.element.find("."+this._CLASSES.active)}})}(jQuery),function(t){var e=function(t){this.element=t};e.prototype={_EVENTS:{ONSCROLL:"scroll",ONSCROLLEND:"scrollend"},vertical:!1,horizontal:!1,_create:function(){this._minScrollBarSize=20,this._lastScrollLeft=0,this._scrollbarwidth=t.getDefaultScrollWidth(),this._createScroll()},_createScroll:function(){var e=this;this.horSize=0,this.verSize=0,"hidden"!==this.element.css("overflow-y")&&(this.vertical=!0,this.horSize=0),"hidden"!==this.element.css("overflow-x")&&(this.horizontal=!0,this.verSize=0),this.element.addClass("ui-zscroll").mouseenter(function(){e._refresh(),e._scrollEnd()});var i=20-this._scrollbarwidth;this._scrollChild=t("<div>").css("padding",this.element.css("padding-top")+" "+this.element.css("padding-right")+" "+this.element.css("padding-bottom")+" "+this.element.css("padding-left")).append(this.element.html()).data("zscroll",!0),this.element.html(this._scrollChild),this._elementHeight=this.element.height(),this.element.height(this._elementHeight);var n=this.vertical&&this.horizontal?"scroll":"";this.vertical&&(n="scroll"===n?"scroll":"y",this._hideVScrollBar="",this._setMinVerSize=0,this._verticalScrollBar=t("<div>").attr("class","ui-zscroll-vertical"),this.element.append(this._verticalScrollBar),this._scrollChild.css("padding-right",i+parseInt(this.element.css("padding-right")))),this.horizontal&&(n="scroll"===n?"scroll":"x",this._hideHScrollBar="",this._setMinHorSize=0,this._horizontalScrollBar=t("<div>").attr("class","ui-zscroll-horizontal"),this.element.append(this._horizontalScrollBar),this._scrollChild.css("padding-bottom",i+parseInt(this.element.css("padding-bottom")))),this._lastScrollLeft=0,this._lastScrollTop=0,this._scrollChild.scroll(function(t){e._updateScroll(t)}),this._scrollChild.addClass("ui-zscroll-child ui-zscroll-child-"+n),this._refresh(),this._dragScrollbar()},_elasticEffect:function(){this._lastScrollLeft!=this._scrollChild.scrollLeft()?this._lastScrollLeft=this._scrollChild.scrollLeft():this._childScrollHeight===this._clientHeight+this._scrollChild.scrollTop()?this._scrollChild.animate({marginTop:"-30px"},200).animate({marginTop:"0px"},200):0===this._scrollChild.scrollTop()&&void 0!==this._childScrollHeight&&this._scrollChild.animate({marginTop:"30px"},200).animate({marginTop:"0px"},200)},_updateScroll:function(t){var e=this._scrollChild.scrollLeft(),i=this._scrollChild.scrollTop();this.vertical?this._showScrollBarVertical():null,this.horizontal?this._showScrollBarHorizontal():null,e!==this._lastScrollLeft&&i!==this._lastScrollTop?(this._lastScrollLeft=e,this._lastScrollTop=i,this._horizontalScrollBar&&this._horizontalScrollBar.show(),this._verticalScrollBar&&this._verticalScrollBar.show()):i===this._lastScrollTop&&e!==this._lastScrollLeft?(this._lastScrollLeft=e,this._horizontalScrollBar&&this._horizontalScrollBar.show(),this._verticalScrollBar&&this._verticalScrollBar.hide()):(this._lastScrollTop=i,this._verticalScrollBar&&this._verticalScrollBar.show(),this._horizontalScrollBar&&this._horizontalScrollBar.hide()),this._triggerEvent(this._EVENTS.ONSCROLL,t),this._scrollEnd(t)},_triggerEvent:function(t,e){this.element.trigger(t,e)},_scrollEnd:function(e){this._childScrollHeight-this._scrollChild.scrollTop()===this._scrollChild.innerHeight()&&(this._verticalScrollBar.css({top:this._scrollTop}),this._triggerEvent(this._EVENTS.ONSCROLLEND,e)),this.horizontal&&this.vertical&&(this._childScrollHeight-this._scrollChild.scrollTop()-(20+this._verticalScrollBar.width())<=this._scrollChild.innerHeight()&&(this._scrollTop=this._scrollTop-10,t.isSafari?this._scrollChild.scrollTop()<=this._childScrollHeight-this._scrollChild.innerHeight()&&this._verticalScrollBar.css({top:this._scrollTop}):this._verticalScrollBar.css({top:this._scrollTop})),this._childScrollWidth-this._scrollChild.scrollLeft()-(20+this._horizontalScrollBar.height())<=this._scrollChild.innerWidth()&&(this._scrollLeft=this._scrollLeft-10,t.isSafari?this._scrollChild.scrollLeft()<=this._childScrollWidth-this._scrollChild.innerWidth()&&this._horizontalScrollBar.css({left:this._scrollLeft}):this._horizontalScrollBar.css({left:this._scrollLeft})))},_setHorScrollSize:function(){var t=this.vertical?this._scrollbarwidth:0;this._clientWidth=this._scrollChild.innerWidth()-t,this._childScrollWidth=this._scrollChild[0].scrollWidth,this._scrollWidth=this._clientWidth/this._childScrollWidth*this._clientWidth,this.horizontal&&this.vertical&&(this._scrollWidth=this._scrollWidth-10),this._horizontalScrollBar.css({width:this._scrollWidth}),this._setMinHorSize=0,this._scrollWidth<this._minScrollBarSize&&(this._horizontalScrollBar.css({width:this._minScrollBarSize}),this._setMinHorSize=this._minScrollBarSize-this._scrollWidth,this._scrollWidth<=0&&(this._scrollWidth=.1)),this._horizontalScrollBar.hide()},_setVerScrollSize:function(){var t=this.horizontal?this._scrollbarwidth:0;this._scrollChild.height(this._elementHeight+t),this._clientHeight=this._scrollChild.innerHeight()-t,this._childScrollHeight=this._scrollChild[0].scrollHeight,this._scrollHeight=this._clientHeight/this._childScrollHeight*this._clientHeight,this.horizontal&&this.vertical&&(this._scrollHeight=this._scrollHeight-10),this._verticalScrollBar.css({height:this._scrollHeight}),this._setMinVerSize=0,this._scrollHeight<this._minScrollBarSize&&(this._verticalScrollBar.css({height:this._minScrollBarSize}),this._setMinVerSize=this._minScrollBarSize-this._scrollHeight,this._scrollHeight<=0&&(this._scrollHeight=.1)),this._verticalScrollBar.hide()},_showScrollBarVertical:function(){this._verticalScrollBar.css("opacity",""),this._scrollTop=this._scrollChild.scrollTop()/this._childScrollHeight*(this._clientHeight-this._setMinVerSize),this._scrollChild.scrollTop()<=this._childScrollHeight-this._scrollChild.innerHeight()&&this._scrollTop>=0&&this._verticalScrollBar.css({top:this._scrollTop}),clearTimeout(this._hideVScrollBar);var t=this;this._hideVScrollBar=setTimeout(function(){t._verticalScrollBar.css("opacity","0")},1500)},_showScrollBarHorizontal:function(){this._horizontalScrollBar.css("opacity",""),this._scrollLeft=this._scrollChild.scrollLeft()/this._childScrollWidth*(this._clientWidth-this._setMinHorSize),this._scrollChild.scrollLeft()<=this._childScrollWidth-this._scrollChild.innerWidth()&&this._scrollLeft>=0&&this._horizontalScrollBar.css({left:this._scrollLeft}),clearTimeout(this._hideHScrollBar);var t=this;this._hideHScrollBar=setTimeout(function(){t._horizontalScrollBar.css("opacity","0")},1500)},_dragScrollbar:function(){var e=this,i=t(window),n=t("body");t.IEVersion&&t.IEVersion<9&&(i=t("body")),this.vertical&&this._verticalScrollBar.mousedown(function(t){var o=t.pageY||t.clientY,s=e._scrollChild.scrollTop();n.addClass("ui-zscroll-cursor"),e.element.addClass("ui-zscroll-user-select"),e._verticalScrollBar.addClass("ui-zscroll-hover"),i.on("selectstart.zscroll",function(){return!1}),i.on("mousemove.zscroll",function(t){var i=t.pageY||t.clientY,n=s+(i-o)*((e._clientHeight+e._setMinVerSize+e.verSize)/e._scrollHeight);e._scrollChild.scrollTop(n)}),i.on("mouseup.zscroll",function(){e._verticalScrollBar.removeClass("ui-zscroll-hover"),n.removeClass("ui-zscroll-cursor"),e.element.removeClass("ui-zscroll-user-select"),i.off("mouseup.zscroll mousemove.zscroll selectstart.zscroll")})}),this.horizontal&&this._horizontalScrollBar.mousedown(function(t){var o=t.pageX||t.clientX,s=e._scrollChild.scrollLeft();n.addClass("ui-zscroll-cursor"),e.element.addClass("ui-zscroll-user-select"),e._horizontalScrollBar.addClass("ui-zscroll-hover"),i.on("selectstart.zscroll",function(){return!1}),i.on("mousemove.zscroll",function(t){var i=t.pageX||t.clientX;e._scrollChild.scrollLeft(s+(i-o)*((e._clientWidth+e._setMinHorSize+e.horSize)/e._scrollWidth))}),i.on("mouseup.zscroll",function(){e._horizontalScrollBar.removeClass("ui-zscroll-hover"),n.removeClass("ui-zscroll-cursor"),e.element.removeClass("ui-zscroll-user-select"),i.off("mouseup.zscroll mousemove.zscroll selectstart.zscroll")})})},_refresh:function(){this.vertical&&(this._scrollChild.height()!==this.element.height()&&0!==this.element.height&&(this._elementHeight=this.element.height()),this._setVerScrollSize(),this._showScrollBarVertical()),this.horizontal&&(this._setHorScrollSize(),this._showScrollBarHorizontal())},_destroy:function(){this.element.data({zscroll:!1,zscrolldestroy:!0}),this.element.find(".ui-zscroll-vertical,.ui-zscroll-horizontal").remove();var t=this._scrollChild.html();this._scrollChild.remove(),this.element.removeClass("ui-zscroll").html(t)},setScrollX:function(t){this._scrollChild.scrollLeft(t)},setScrollY:function(t){this._scrollChild.scrollTop(t)},getScrollX:function(){return this._scrollChild.scrollLeft()},getScrollY:function(){return this._scrollChild.scrollTop()}},t.isSafari=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),t.IEVersion=navigator.appVersion.indexOf("MSIE")!=-1&&parseFloat(navigator.appVersion.split("MSIE")[1]),t.zdefaultScrollWidth=void 0,t.getDefaultScrollWidth=function(){if(!t.zdefaultScrollWidth){var e=t("<div>").css({width:"100px",height:"100px",overflow:"scroll"}).appendTo("body");t.zdefaultScrollWidth=e.width()-e[0].scrollWidth,e.remove()}return t.zdefaultScrollWidth},t.fn.zscroll=function(){var n=arguments[0],o=arguments[1];for(i=0;i<this.length;i++){var s=t(this[i]);if(!s.data("zscrolldestroy")||"instance"==n)if(s.data("zscroll")){var a=s.data("options");if("scrollY"==n){if(void 0==o)return a.getScrollY();a.setScrollY(o)}else if("scrollX"==n){if(void 0==o)return a.getScrollX();a.setScrollX(o)}else"destroy"==n?a._destroy():"refresh"==n&&a._refresh()}else{var a=new e(s);a._create(),s.scrollTop(0).scrollLeft(0).data({options:a,zscrolldestroy:!1,zscroll:!0})}}}}(window.jQuery),function(t){t.widget("ui.ztokens",{widgetEventPrefix:"ztokens",_tokenClasses:"ui-widget ui-state-default ui-corner-all ui-ztokens-token",_tokenErrorClassName:"ui-ztokens-token-error",_elementClasses:"ui-widget ui-ztokens",_EVENTS:{ONREMOVE:"remove",ONBEFOREREMOVE:"beforeremove",ONADD:"add",ONBEFOREADD:"beforeadd",ONCLICK:"click",ONCHANGE:"change"},_create:function(){this.element.addClass(this._elementClasses),this.options=t.extend({},t.ui.ztokens.defaults,this.options),this._initTokens(),this._createTokenInput()},_initTokens:function(e){var i=this;e=e?e:this.element.children(),t(e).each(function(e,n){i._initToken(t(n))})},_createTokenInput:function(){var e=this;if(this.options.addTokenInput){this._tokenInputDuplicate=t("<span>").addClass("ui-ztoken-input-duplicate").appendTo(t("body")),this._tokenInput=t("<input>").attr("type","text").addClass("ui-widget-content ui-corner-all ui-ztoken-input").on("contextmenu",function(){return!1}),this._tokenInput.appendTo(this.element);var i=this.element.outerWidth()-(t.ZContextMenu.scrollWidth+8),n=this._tokenInput;this._tokenInput.on("blur.token",function(){n.removeClass("ui-ztoken-selected"),n=t(this)}).on("keydown.token keyup.token",function(o){"keydown"===o.type&&(0===e._tokenInput.val().length?8!==o.which&&46!==o.which&&37!==o.which&&39!==o.which&&40!==o.which||(n.hasClass("ui-ztoken-selected")&&37!==o.which&&39!==o.which&&40!==o.which?(n.find(".ui-ztokens-close").trigger("click"),n=e._tokenInput):37===o.which||39===o.which||40===o.which?(37===o.which&&n.prev().hasClass("ui-ztokens-token")||39===o.which&&n.next().hasClass("ui-ztokens-token"))&&!t(".ui-autocomplete").is(":visible")?(n.removeClass("ui-ztoken-selected"),n=37===o.which?n.prev():n.next(),n.addClass("ui-ztoken-selected")):(39===o.which&&n.next()[0]===e._tokenInput[0]||40===o.which||37===o.which)&&(n.removeClass("ui-ztoken-selected"),n=e._tokenInput,e._tokenInput.trigger("click"),e._tokenInput.trigger("focus")):t(".ui-autocomplete").is(":visible")||(n.hasClass("ui-ztokens-token")?n.addClass("ui-ztoken-selected"):(n.prev().addClass("ui-ztoken-selected"),n=n.prev()))):(n.removeClass("ui-ztoken-selected"),n=e._tokenInput,e._tokenInput.trigger("click"))),e._tokenInputDuplicate.text(e._tokenInput.val());var s=e._tokenInputDuplicate.innerWidth();i>16&&s>i&&(s=i),e._tokenInput.width(s+3)}).on("click",function(e){n.removeClass("ui-ztoken-selected"),n=t(this)})}},_isDisabled:function(){return this.element.is(".ui-state-disabled")},_initToken:function(e,i){e.addClass(this._tokenClasses),i&&e.addClass(this._tokenErrorClassName),e.hover(function(){n._isDisabled()||e.addClass("ui-state-hover")},function(){n._isDisabled()||e.removeClass("ui-state-hover")});var n=this;e.on("mousedown."+this.widgetName,function(i){n._isDisabled()||e.addClass("ui-state-active"),t(document).one("mouseup."+n.widgetName,function(){e.removeClass("ui-state-active")})}),e.on("click."+this.widgetName,function(t){n._isDisabled()||n._triggerEvent(n._EVENTS.ONCLICK,{token:e,data:e.data("value")},t)}),this.options.removeable&&this._makeRemoveable(e)},_makeRemoveable:function(e){var i=t("<span>").addClass("ui-ztoken-icon-holder");t("<span>").addClass("ui-icon ui-components-icon ui-ztokens-close").appendTo(i);e.append(i),i.hover(function(){i.addClass("ui-state-hover")},function(){i.removeClass("ui-state-hover")}),i.on("mousedown",function(t){return!1});var n=this;i.click(function(t){if(!n._isDisabled()){var i=e.data("value"),o=n._triggerEvent(n._EVENTS.ONBEFOREREMOVE,{token:e,data:i},t);return o!==!1&&(e.width(e.width()),e.height(e.height()),e.empty(),e.animate({width:0},n.options.animateOnRemove?300:0,function(){e.remove(),n._triggerEvent(n._EVENTS.ONREMOVE,{token:e,data:i},t)}),!1)}})},_createToken:function(e,i){var i=void 0!=i?i:e;return t("<div>")[this.options.htmlContent?"html":"text"](e).data("value",i)},addToken:function(t,e,i){var n=void 0!=e?e:void 0,o=this._createToken(t,n);this.options.addTokenInput?this._tokenInput.before(o):this.element.append(o),this._initToken(o,i),this._triggerEvent(this._EVENTS.ONADD,{token:o,data:n})},addTokens:function(e,i){i&&this.removeAllTokens();var n=this,o=[];t.each(e,function(t,e){var i=n._createToken(e);n.element.append(i),o.push(i)}),this._initTokens(o)},removeAllTokens:function(){this.element.children(".ui-ztokens-token").remove()},setValue:function(t){return this.addTokens(t,!0)},getValue:function(){var e=this.element.children(".ui-ztokens-token"),i=[];return e.each(function(e,n){i.push(t(n).text())}),i},getData:function(){var e=this.element.children(".ui-ztokens-token"),i=[];return e.each(function(e,n){t(n).hasClass("ui-ztokens-token-error")||i.push(t(n).data("value"))}),i},getInputElement:function(){return this._tokenInput},_triggerEvent:function(t,e,i){return t!==this._EVENTS.ONADD&&t!==this._EVENTS.ONREMOVE||(e.action=t===this._EVENTS.ONADD?"add":"remove",this._trigger(this._EVENTS.ONCHANGE,i,e)),this._trigger(t,i,e)},disable:function(){this.element.addClass("ui-state-disabled")},enable:function(){this.element.removeClass("ui-state-disabled")},destroy:function(){var e=this;this.element.removeClass(this._elementClasses),this.element.children().each(function(i,n){n=t(n),n.removeClass(e._tokenClasses),n.off("."+e.widgetName),n.find(".ui-ztoken-icon-holder").remove(),n.off("mouseenter mouseleave")}),this._tokenInput&&this._tokenInput.remove(),t.Widget.prototype.destroy.apply(this,arguments)}}),t.ui.ztokens.defaults={removeable:!0,animateOnRemove:!0,addTokenInput:!0,htmlContent:!1}}(jQuery),jQuery(function(t){function e(e){var l=t(s.container?"#"+s.container:"body");s.container=s.container?"#"+s.container:window;var c=l.find(".ui-znotifier-base-"+s.position),p=!1;if(c.length||(c=t(t(e).get(0).nodeName.indexOf("document")==-1?e:"<div>"),h=e,c.addClass("ui-znotifier-base ui-znotifier-base-"+s.position),p=!0),t(".ui-znotifier-base").children().length&&s.staticNotifier)return!1;a=c,r=t("<div>").addClass("ui-znotifier ui-state-"+s.type+" ui-corner-all").css({width:s.width+"px"});var m=t("<span>").addClass("ui-znotifier-message").appendTo(r);if(s.iconclass){var f=t("<span>").addClass(s.iconclass);m.append(f)}if(m.html(m.html()+s.content),r.attr("close",!0),!s.autohide&&(r.removeAttr("close"),s.closebutton)){t("<span>").addClass("ui-icon ui-icon-close").appendTo(r).on("click",function(e){var i=t(e.target).parent().parent();i.trigger("notifierclose"),t(e.target).parent().remove(),o(i)})}a.children().length?":first"==d[s.position]?r.appendTo(a):r.insertBefore(a.children(":first")):r.appendTo(a),l.append(a),p&&a.css(i(s.position)),n(a),t(s.container).on("resize",function(t){i(s.position),a.css(u)})}function i(e,i,n){var o={};i=i?t(i):a,n=n?t(n):r;var h=t(s.container).offset()?t(s.container).offset():{left:0,top:0},d="northeast"==e||"southeast"==e||"east"==e?t(s.container).width()-i.outerWidth(!0):"north"==e||"south"==e||"center"==e?t(s.container).width()/2-n.outerWidth(!0)/2:0,c="south"==e||"southeast"==e||"southwest"==e?t(s.container).height():"west"==e||"east"==e||"center"==e?t(s.container).height()/2-n.outerHeight(!0)/2:0;switch(e){case"southeast":case"southwest":case"south":o=s.container==window?{top:c,left:d}:{"margin-top":c,"margin-left":d},l={top:i.offset().top-n.outerHeight(!0)},u={top:h.top+t(s.container).height()-i.outerHeight(!0)};break;case"west":case"east":case"center":case"northwest":case"northeast":case"north":o=s.container==window?{top:c,left:d}:{"margin-top":c,"margin-left":d},l={height:i.outerHeight(!0)+n.outerHeight(!0)},u={height:i.outerHeight(!0)-n.outerHeight(!0)}}return o}function n(n){var a="up";if(s.position.indexOf("south")!=-1){i(s.position);var u=n.height()*n.parent().children().length;n.parent().height(u),n.css(l),a="down"}r||e(),s.animate&&r.hide().show(s.animationType,{direction:a,mode:"show"},500),s.autohide&&setTimeout(function(){var e=n.children("[close]"),i="down"==a?t(e).length-1:0;t(e).length&&(e=t(e)[i]);var r=t(e).parent();s.animate?t(e).hide(s.animationType,{direction:a,mode:"hide"},function(){t(e).remove(),o(r)}):(t(e).remove(),o(r))},s.timeout)}function o(e){i(s.position,e),t(e).css(u),e.children().length||(e.trigger("notifierdestroy"),e.remove())}var s={},a=void 0,r=void 0,l={},u={},h=void 0,d={north:":first",northeast:":first",northwest:":first",south:":last",southeast:":last",southwest:":last"};t.ZNotifier=function(i,n){s=t.extend({},t.fn.znotifier.defaults,n),e(i)};var c={hide:function(t){t.length&&t.hide()},destroy:function(t){t.length&&(t.trigger("notifierdestroy"),t.remove())}};t.fn.znotifier=function(e){"object"==typeof e?t.ZNotifier(this,e):t(this).get(0).nodeName.indexOf("document")==-1?c[e](t(this)):c[e](a)},t.fn.znotifier.defaults={autohide:!0,timeout:1e4,content:"This is the default Notifier",type:"info",animate:!1,animationType:"slide",position:"southeast",closebutton:!0}}),function(t){var e={_stateType:void 0,_stateGroup:void 0,widgetEventPrefix:"state",_EVENTS:{ONCHANGE:"change"},_create:function(){var e=this;this.options=t.extend({},t.ui.zstatebutton.defaults,this.options);var i=t(this.element);t(i).each(function(){var i=t(this);e._addLabelTag(i),e._addIcon(i,e.options)}),t(i).on("click."+this.widgetName,function(t){e._triggerEvent(e._EVENTS.ONCHANGE)}),this.element.is(":disabled")&&this.disable();var n=this.element.is(":checkbox");(this.element.is(":radio")||n)&&(""!==this._name&&void 0!==this._name||n)&&(this._stateType=n?"checkbox":"radio"),this._updateStateCSS(this.element[0].checked)},_addIcon:function(e,i){if(i.icon){var n=t("<span>").addClass("ui-zstate-icon "+i.icon);t(n).insertAfter(e)}},_addLabelTag:function(e){this._name=this.element.attr("name");var i=this.options.class,n={class:"ui-zstate "+i,"data-zstatebtn":this._name,id:this.element.attr("id")+"Label"},o=this.options.label;"icononly"===this.options.type&&(n.title=o,o="");var s=t("<label>").attr(n);t(s).insertAfter(t(e)),t(s).append(e),this._text=t("<span>").text(o),t(e).after(this._text),this._stateGroup=s},setText:function(t){this._text.text(t)},_updateStateCSS:function(e){void 0!==this._stateType&&("radio"===this._stateType&&t("label[data-zstatebtn="+this._name+"]").removeClass("ui-zstate-checked"),this._stateGroup[e?"addClass":"removeClass"]("ui-zstate-checked"))},_triggerEvent:function(e){var i=this.element[0].checked,n={stateEle:t(this.element),value:t(this.element).val(),checked:i};return this._updateStateCSS(i),this._trigger(e,e,n)},checked:function(e){"boolean"!=typeof e||this.element.is(":disabled")||(this.element.prop("checked",e),"radio"===this._stateType?(e||t("input[name="+this._name+"]:checked")[0]===this.element[0])&&this._updateStateCSS(e):this._updateStateCSS(e))},disable:function(){t(this.element).attr("disabled","true"),t(this._stateGroup).addClass("ui-state-disabled")},enable:function(){t(this.element).removeAttr("disabled"),t(this._stateGroup).removeClass("ui-state-disabled")},widget:function(){return this._stateGroup},destroy:function(){var e=this.widget(),i=this.element;i.insertAfter(e),e.remove(),this.element.off("."+this.widgetName),t.Widget.prototype.destroy.apply(this,arguments)}};t.widget("ui.zstatebutton",e),t.ui.zstatebutton.defaults={type:void 0}}(jQuery),function(t){var e={_progressbar:void 0,_progressDiv:void 0,_value:0,_tieout:void 0,_create:function(){this.options=t.extend({},t.ui.zprogressbar.defaults,this.options),this._createProgressBar(),this._isDisabled(this.element)&&this.disable(this.element)},_createProgressBar:function(){if(this._progressbar=t(this.element).addClass("ui-zprogressbar ui-widget ui-widget-content"),this._progressDiv=t("<div>").addClass("ui-zprogressbar-progressdiv ui-widget-header"),this._progressDiv.appendTo(this._progressbar).css({float:"fromleft"==this.options.direction?"left":"right"}),"determinate"!=this.options.type)return this._progressDiv.addClass("ui-zprogressbar-indeterminate").css({width:"100%"}),!1;if(this._progressDiv.addClass("ui-state-default"),this.options.show||this._progressbar.hide(),this.options.labelEle&&"indeterminate"!=this.options.type){var e=t("<span>").addClass("ui-zprogressbar-label");"left"==this.options.labelAlignment?(e.insertBefore(this._progressDiv),e.css({left:0})):(e.insertAfter(this._progressDiv),e.css({right:0}))}this.options.value&&this.updateProgress(value)},updateProgress:function(t){if(this._isDisabled(this._progressbar)||"determinate"!=this.options.type||this._progressbar.is(":hidden"))return!1;var e=/\d/g;if(!t.toString().match(e))return!1;var i=t++,n=this._progressbar.find(".ui-zprogressbar-label");this.options.max?(i=t/this.options.max/100,this._progressDiv.css({width:i+"%"}),n.text(parseInt(i)+"% ")):i<=t&&(this._progressDiv.css({width:i+"%"}),n.text(parseInt(i)+"% ")),this._value=parseInt(i)},stopProgress:function(){},getValue:function(){return!this._isDisabled(this._progressbar)&&"determinate"==this.options.type&&!this._progressbar.is(":hidden")&&this._value},setValue:function(t){this._isDisabled(this.element)||this.updateProgress(t)},_isDisabled:function(t){return t.is("[disabled=true]")||t.is("[disabled=disabled]")},show:function(){this._progressbar.show()},hide:function(){this._progressbar.hide()},disable:function(){this._progressbar.addClass("ui-state-disabled"),this._progressbar.attr("disabled","true")},enable:function(){this._progressbar.removeClass("ui-state-disabled"),this._progressbar.removeAttr("disabled")},destroy:function(){this._progressbar.removeAttr("class").off("."+this.widgetName).empty(),t.Widget.prototype.destroy.apply(this,arguments)}};t.widget("ui.zprogressbar",e),t.ui.zprogressbar.defaults={type:"determinate",direction:"fromleft",labelEle:!0,labelAlignment:"right",show:!0}}(jQuery),function(t){function e(e,n,o){var s=t(this),a=s.data("zpopover"),r=t.extend({},i.DEFAULTS,s.metadata(),"object"==typeof e&&e);if(a||(a=new i(s,r),s.data("zpopover",a)),"enable"===e)a.enable();else if("disable"===e)a.disable();else if("close"===e)a._close();else{if("open"===e)return a._open(n,o);if("flipPostion"===e)return a.flipPostion(n,o)}return a.widget()}var i=function(e,i){this.options=i,this.element=t(e),this._create()};i.widgetEventPrefix="zpopover",i.DEFAULTS={viewport:"body",autoOpen:!1,pointer:!1,toggle:!0,trigger:"click",placement:"bottom",content:"",title:"",target:"",keys:{"searchplaceholder.label":"Enter name"}},i._COMPONENTEVENTS={zmenu:"menuhide",zfontcombo:"combohide",zcombo:"combohide"},i.prototype.widgetEventPrefix="zpopover",i.prototype._EVENTS={ONBEFOREOPEN:"beforeopen",ONOPEN:"open",ONCLOSE:"close",ONBEFORECLOSE:"beforeclose"},i.prototype._getPosition=function(e,i){var n=i;e=void 0===e?this._targetElement:e;var o=e&&e.constructor===Object,s=o?e:e.offset(),a={top:"",left:"",right:"",bottom:""},r={},l=this.element.outerWidth(!0),u=this.element.outerHeight(!0),h=o?e.width:e.outerWidth(),d=o?e.height:e.outerHeight();switch(i){case"top":a.top=s.top-u+this._pointerHeight,a.left=l>h?s.left-(l-h)/2:"";break;case"topleft":r.left=h/2,a.top=s.top-u+this._pointerHeight,a.left=s.left;break;case"topright":r.left="auto",r.right=h/2,a.top=s.top-u+this._pointerHeight,a.left=l>h?s.left+h-l:"";break;case"bottom":a.top=s.top+d,a.left=l>h?s.left-(l-h)/2:"";break;case"bottomleft":r.left=h/2,a.top=s.top+d,a.left=s.left;break;case"bottomright":r.left="auto",r.right=h/2-this._pointerWidth/2,a.top=s.top+d,a.left=l>h?s.left+h-l:"";break;case"left":a.left=s.left-l+this._pointerHeight/2,a.top=u>d?s.top-(u-d)/2:"";break;case"right":a.left=s.left+h-this._pointerHeight/2,a.top=u>d?s.top-(u-d)/2:""}s.top=s.top+d;var c=t.ZContextMenu.windowHeight+t.ZContextMenu.windowElement.scrollTop()-s.top;if(c<u+t.ZContextMenu.scrollWidth)if(s.top>u+d+t.ZContextMenu.scrollWidth)a.bottom=c+d-this._pointerHeight-t.ZContextMenu.windowElement.scrollTop(),a.top="auto",n="top";else{var p=t.ZContextMenu.windowWidth+t.ZContextMenu.scrollWidth-(s.left+h);p>l?(a.top="auto",a.bottom=0):(a.top="auto",a.bottom=0)}var m=t.ZContextMenu.windowWidth+t.ZContextMenu.scrollWidth-s.left;if(m<l+t.ZContextMenu.scrollWidth)if(s.left>l+h+t.ZContextMenu.scrollWidth)a.right=t.ZContextMenu.windowWidth-(s.left+h),r.right=h/2-11,r.left="auto",a.left="auto";else{var p=t.ZContextMenu.windowWidth+t.ZContextMenu.scrollWidth-(s.top+h);p>l?(a.left="auto",a.right=0):(a.left="auto",a.right=0)}else a.left<0&&(r.left=h/2,a.left=s.left,a.right="auto");return this.options.pointer&&(this._arrow.attr({class:"zpopover-arrow zpopover-arrow-"+n}),r&&this._arrow.css(r)),a},i.prototype._calloutPosition=function(t,e,i){},i.prototype._create=function(){if(void 0!==this.options.targetElement&&""!==this.options.targetElement){var e=this.options.targetElement;this._targetElement=e instanceof jQuery?e:t(e.indexOf("#")!=-1?e:"#"+e)}this._popoverId=this.element.attr("id");var i="zpopover zpopover-"+this.options.placement;i+=this.options.pointer?" zpopover-pointer":" zpopover-normal",this.element.addClass(i).css("display",""),this._pointerHeight=0,this._pointerWidth=0,this.options.pointer&&this._createArrow(),this.options.autoOpen&&this._open()},i.prototype._open=function(e,n){if(e.constructor!==Object&&void 0!==this.options.targetElement&&""!==this.options.targetElement){var o=this.options.targetElement;this._targetElement=o instanceof jQuery?o:t(o.indexOf("#")!=-1?o:"#"+o)}e=e.constructor===Object?e:this._targetElement?this._targetElement:e,this._targetUsedElement=e;var s=this._triggerEvent(this._EVENTS.ONBEFOREOPEN,n);this.element.width("");var a=this.options.width||this.element.width();if(this.element.width(a),s!==!1){var r=void 0;r="object"==typeof e.position&&e.position.left&&e.position.top?{left:e.position.left,top:e.position.top}:this._getPosition(e,this.options.placement),this.element.addClass("zpopover-expand").css(r),this._triggerEvent(this._EVENTS.ONOPEN,n);var l=this.element.find("[ctype]");this._componentIsOpened=!1;var u=this,h=t.ZContextMenu.colorpalette;h&&h.off("click.zpopover").on("click.zpopover",function(t,e){u._componentIsOpened=!0}),l.each(function(e,n){_ele=t(n);var o=_ele.attr("ctype");_ele.off(i._COMPONENTEVENTS[o]+".zpopover").on(i._COMPONENTEVENTS[o]+".zpopover",function(t,e){u._componentIsOpened=!0})});var l=this.element.find("[popup]");l.each(function(e,i){_ele=t(i);var n=_ele.attr("popup");t("#"+n).off("menuhide.zpopover").on("menuhide.zpopover",function(t,e){u._componentIsOpened=!0})});var u=this;t.ZContextMenu._documentElement.off("click.zpopover"+this._popoverId).on("click.zpopover"+this._popoverId,function(e){var i=t(e.target);!u._componentIsOpened&&i.length&&i.parent().length&&!i.closest("#"+u._popoverId).length?u._close():u._componentIsOpened=!1}).off("keydown.zpopover"+this._popoverId).on("keydown.zpopover"+this._popoverId,function(t){u._componentIsOpened||ZComponents.keyCode.ESCAPE!==t.keyCode?u._componentIsOpened=!1:u._close()})}},i.prototype._close=function(e){if(this.element.hasClass("zpopover-expand")){var i=this._triggerEvent(this._EVENTS.ONBEFORECLOSE,e);if(i===!1)return;this.element.removeClass("zpopover-expand"),this._triggerEvent(this._EVENTS.ONCLOSE,e),t.ZContextMenu._documentElement.off(".zpopover"+this._popoverId)}},i.prototype._createArrow=function(){this._arrow=t("<div>").attr({class:"zpopover-arrow zpopover-arrow-"+this.options.placement}).prependTo(this.element),this._pointerHeight=parseInt(this._arrow.height()),this._pointerWidth=Math.abs(this._arrow.width())},i.prototype._refresh=function(){},i.prototype.flipPostion=function(t){var e=this._getPosition(this._targetUsedElement,t);this.element.addClass("zpopover-expand").css(e)},i.prototype._getString=function(e,i){if(t.i18n){var n=t.i18n(i?i:"zpopover",e);return n==="[noi18n] "+e&&(n=this.options.keys[e]),n}return this.options.keys[e]},i.prototype.widget=function(){return this.element},i.prototype.enable=function(){this._disable(!1)},i.prototype.disable=function(){this._disable(!0)},i.prototype._triggerEvent=function(e,i,n){var o={element:this.element,targetElement:this._targetUsedElement,widgetEvent:e,currentTarget:void 0!==i?i.target:void 0};return n&&(o=t.extend({},o,n)),this.options[e]&&t.isFunction(this.options[e].beforeOpen)?void this.options[e].beforeOpen(i,o):ZComponents._trigger(this,e,i,o)},t.fn.zpopover=e,t.fn.zpopover.Constructor=i,t(window).scroll(function(){if(t.ZContextMenu&&t.ZContextMenu._lastVisitedPopover){var e=t("#"+t.ZContextMenu._lastVisitedPopover.attr("popover")),i=e[0].getBoundingClientRect();if(i.top<10)e.zpopover("flipPostion","bottom");else{var n=t.ZContextMenu.windowHeight-i.top;n+10<e.outerHeight(!0)&&e.zpopover("flipPostion","top")}}})}(jQuery),jQuery(function(t){function e(e,i){try{var n=t.parseJSON(i);return n.componentOptions?n.componentOptions:n={content:i}}catch(t){return eleOptions={content:i},eleOptions}}function i(e,i){var n="["+i+"]";try{e=e.is(n)?e:t(e.parents(n).get(0))}catch(t){}return e}function n(n){this._windowEle=t(window),this._windowWidth=this._windowEle.width();var s=this;this._windowEle.on("resize."+this.widgetName,function(t){s._windowWidth=s._windowEle.width()}),this._documentEle=t(document),this._documentEle.on("keydown."+this.widgetName,function(t){27==t.keyCode&&h(t)}),window.addEventListener("scroll",function(t){x&&y&&y.length&&y.fadeOut(300,function(){o(x,!0),y&&y.remove(),v=!1,y=void 0})},!0),t(n).on("buttondisabled",function(e,i){if(I.showTipForDisabled)return!1;var n=t(i.element),o=n.attr("title");i.disabled?(n.removeAttr("title"),n.data("ztooltip",o)):n.attr("title",n.data("ztooltip"))}),t(n).on("mouseover mousemove mouseup",function(n){var r=i(t(n.target),"title"),l=r.attr("title");if(l&&r.length&&"document"!==r[0].nodeName.toLowerCase()){if(C&&clearTimeout(C),n.stopPropagation(),n.preventDefault(),!I.showTipForDisabled&&(r.attr("disabled")||r.hasClass("ui-state-disabled")||r.hasClass("ui-ztooltip-ignore")))return o(r),h(),!1;A=r,o(r),g=t.extend({},D,e(r,l));var u=r.attr("callout");void 0!==u&&""!==B[u]&&(g.callout=u),t(y).length&&t(y).find(".ui-ztooltip-close").remove(),a(n,r),x=r,z=l,r.on("click.ztooltip",function(t){clearTimeout(N),h()}),r.off("mouseout.ztooltip").on("mouseout.ztooltip",function(t){g.timeout&&clearTimeout(M),C&&clearTimeout(C),clearTimeout(N),C=setTimeout(function(){g.autohide&&(r.unbind("mousemove"),h(t))},200),o(r,!0)}),s._documentEle.off("mousedown.ztooltip").on("mousedown.ztooltip",function(t){g.autohide&&(r.unbind("mousemove"),h(t))}),g.mousetrack&&r.off("mousemove.ztooltip").on("mousemove.ztooltip",function(t){m(t,r)})}})}function o(e,i){var n=i?e.data("parents"):e.parents("[title]");i?e.data("parents",void 0):(n.push(e),e.data("parents",n)),n&&t.each(n,function(e,n){n=t(n);var o="",s=n.attr("title");i?o=s!=n.data("title")&&""!=s?s:n.data("title"):n.data("title",s),n.attr("title",o)})}function s(e){var i=!!y,n="ui-corner-all",o=g.ajaxContent?"ui-ztooltip-ajaxcontent ":g.autohide?"ui-ztooltip-content ":"ui-ztooltip-contentwithclose ";if(!i){y=t("<div>").attr("class","ui-ztooltip ui-widget"),T=void 0;var s=t("<div>").attr("class","ui-ztooltip-overlaydiv ui-corner-all");w=t("<div>").attr("class","ui-ztooltip-header ui-corner-top"),S=t("<div>").attr({class:o+n,id:"ui-ztooltip-content"}),O=t("<span>").attr("class","ui-ztooltip-img "+g.iconclass).appendTo(s),w.appendTo(s),S.appendTo(s),s.appendTo(y),t("body").append(y)}if(w.css("display",""),O.css("display",""),g.iconclass&&O.css({display:"inline-block"}),g.title&&(w.text(g.title),n="ui-corner-bottom",w.css({display:"inline-block"})),!g.autohide){var a=t("<span>").attr("class","ui-ztooltip-close ui-icon ui-components-icon").on("click",function(e){t(x).off("mousemove"),h(e),t(x).attr("title",z)});a.appendTo(y),t(x).attr("noAutoHide",!0)}if(S.attr("class",o+" "+n),!g.ajaxContent){_=g.content;var r="html"==g.contentType;if(r&&g.isContentElementId){var u=t("<div>").append(t("#"+g.content).show());_=u.html()}if(I&&I.showShortcutKey){e=e.is("label.ui-button")?e.prev("input"):e;var d=t(document).shortcutkeys("getShortcutKey",e);d&&(_=_+" ("+d+")")}}b&&b.remove(),b=y.clone(),t("body").append(b);var r="html"==g.contentType;return b.removeAttr("style").hide(),b.find("#ui-ztooltip-content").removeAttr("style"),b.find("#ui-ztooltip-content")[r?"html":"text"](_),g.callout&&!g.ajaxContent?(T||(T=t("<div>").attr("class","ui-ztooltip-callout").appendTo(y)),f=l(g.callout,T,y)):T=void 0,y}function a(e,i){y&&y.finish();var n="html"==g.contentType;i.on("mouseleave.ztooltip",function(){v=!1}),g.mouseEnter!==!0&&g.mousetrack!==!0||(g.callout="northwest");var o=void 0;clearTimeout(N),clearTimeout(k),clearTimeout(C),E=y?0:void 0!==I.timeDelay?I.timeDelay:800,N=setTimeout(function(){if(v||(s(i),v=!0),y&&(i.is(":visible")||i.is("option"))){if(g.ajaxContent){var a=t("<div>").attr("class","ui-ztooltip-content-loading");t(y).find(".ui-ztooltip-ajaxcontent").append(a),k=setTimeout(function(){t.ajax({type:"GET",url:g.ajaxContent,data:"",success:function(e){t(y).find(".ui-ztooltip-ajaxcontent").html(e)},error:function(){t(y).find(".ui-ztooltip-ajaxcontent").empty()}})})}g.timeout&&g.autohide&&(M=setTimeout(function(){h(e)},parseInt(g.timeout)));var l;"object"==typeof g.offset?(g.offset.left||(g.offset.left=0),g.offset.top||(g.offset.top=0),l=g.offset,o=l):e.originalEvent?o=g.callout&&!g.ajaxContent?u(e):{left:e.pageX+10,top:e.pageY+10}:(o=i.offset(),o.left+=i.width(),o.top+=i.height()),o=r(o,l||i,b),y.show(1,function(){S[n?"html":"text"](_),T.css(f),o=d(e,y,o,l||i),o&&y.css(o),g.calloutHideMode&&y.find(".ui-ztooltip-callout").hide()})}},E)}function r(t,e,i,n){var o,s=g.callout?g.callout:n,a=9;return o=e.jquery?{height:e.outerHeight(),width:e.outerWidth(),offset:e.offset()}:{height:0,width:0,offset:{left:parseInt(e.left),top:parseInt(e.top)}},e.jquery&&e.is("option")&&(o.offset.left=e.parent("select").offset().left,o.offset.top=e.parent("select").offset().top+o.offset.top),s&&(s.indexOf("north")!=-1?(g.mouseEnter||g.mousetrack||(t.left=o.offset.left-8-(i.width()/2-8)+o.width/2),t.top=o.offset.top+o.height+a):s.indexOf("south")!=-1?(t.left=o.offset.left-8-(i.width()/2-8)+o.width/2,t.top=o.offset.top-i.outerHeight()-a):"west"===s?(t.left=parseInt(o.offset.left+o.width+a),t.top=o.offset.top-i.height()/2+o.height/2):"east"===s&&(t.left=parseInt(o.offset.left-i.width()-a),t.top=o.offset.top-i.height()/2+o.height/2)),t}function l(t,e){if(!y)return!1;var i=y.is(":visible");y.show();var n={};e.removeAttr("class").attr("class","ui-ztooltip-callout ui-ztooltip-callout-"+B[t]);var o=e.outerWidth(),s=e.outerHeight(),a=b.width(),r=b.height();switch(i||y.hide(),t){case"north":n={left:a/2-o/2+"px",top:"-"+(s-1)+"px"};break;case"west":n={left:"-"+(o-1)+"px",top:r/2-s/2+"px"};break;case"east":n={left:a-1+"px",top:r/2-s/2+"px"};break;case"south":n={left:a/2-o/2+"px",top:r-1+"px"};break;case"northeast":n={left:a-2*o+"px",top:"-"+(s-1)+"px"};break;case"northwest":n={left:o+"px",top:"-"+(s-1)+"px"};break;case"southwest":n={left:o+"px",top:r-1+"px"};break;case"southeast":n={left:a-2*o+"px",top:r-1+"px"};break;default:e.addClass("ui-ztooltip-callout-top"),n={left:o+"px",top:"-"+(s-1)+"px"}}return n}function u(t){if(y){t.tooltipWidth=y.outerWidth(),t.tooltipHeight=y.height();if(t._OFFSET=10,!y)return!1;var e=y.find(".ui-ztooltip-callout");t.calloutWidth=e.outerWidth(),t.calloutHeight=e.outerHeight();var i=P[g.callout];return i||(i=P.defaultFn),i(t)}}function h(e){y&&("html"===g.contentType&&g.isContentElementId&&t(y).find("#"+g.content).appendTo("body").hide(),t(y).remove(),y=void 0)}function d(t,e,i,n){if(e&&i){var o;o=n.jquery?{height:n.outerHeight(),width:n.outerWidth(),offset:n.offset()}:{height:0,width:0,offset:{left:parseInt(n.left),top:parseInt(n.top)}};var s,a=i.top-this._documentEle.scrollTop(),r=i.left-this._documentEle.scrollLeft(),l=r+e.width(),u=a+e.height(),h=void 0,d=5;if(l>=this._windowWidth?(i.left=this._windowWidth-(e.outerWidth(!0)+d),i.left+e.width()-o.offset.left<=15&&(g.callout="east"),h=g.callout):r<0&&(i.left=i.left+d-r,o.offset.left+o.width-this._documentEle.scrollLeft()<=20&&(g.callout="west"),h=g.callout),u>=this._windowEle.height()?(i.top=o.offset.top-e.outerHeight()-9,h="south",s=a):a<0&&(i.top=o.offset.top+o.height+9,h="north",s=a),h){var p=e.find(".ui-ztooltip-callout");c(t,h,p,e,i,r,s)}}return i}function c(t,e,i,n,o,s,a){var r=g.callout?g.callout:e;switch(e){case"north":r="south"==r?"north":"southeast"==r?"northeast":"southwest"==r?"northwest":r;break;case"south":r="north"==r?"south":"northeast"==r?"southeast":"northwest"==r?"southwest":r;break;case"west":r="east"==r?"west":r;break;case"east":r="west"==r?"east":r}return p(t,r,i,n,e,o,s,a)}function p(e,i,n,o,s,a,u,h){if(n){g.callout=i;var d=n.position();h&&(d=l(i,n),d||(d=n.position())),"east"===i||"west"===i?(d=l(i,n),a=r(a,t(e.target),o,s)):"northwest"===i||"northeast"===i||"southwest"===i||"southeast"===i?d=l(i,n):u<0?(d.left=o.width()/2-n.outerWidth()/2+u-5,d.left<=10&&(d.left=10)):(d.left=o.width()/2-n.outerWidth()/2+(u-a.left),o.width()-d.left<=20&&(d.left=o.width()-20)),d&&n.css(d)}return a}function m(e,i){var n=t(y),o=(n.width(),n.height(),g.callout&&!g.ajaxContent?u(e):{left:e.pageX+5,top:e.pageY+5});o=d(e,y,o,i),n.width()+parseInt(o.left)>this._windowWidth&&n.width(this._windowWidth-(parseInt(o.left)+50)),n.css(o)}var f,_,g={},v=!1,b=void 0,C=void 0,E=800,y=void 0,x=void 0,z=void 0,w=void 0,S=void 0,T=void 0,O=void 0,N=void 0,k=void 0,M=void 0,I={timeDelay:void 0},B={northwest:"top",north:"top",northeast:"top",west:"left",east:"right",southwest:"bottom",south:"bottom",southeast:"bottom"};t.ZtoolTip=function(t,e){I=e||{},n(t)};var D={callout:"north",autohide:!0,mousetrack:!1,mouseEnter:!1,showShortcutKey:!0,contentType:"text",positionAlterable:!0,calloutHideMode:!1},A=void 0,P={north:function(t){return{left:t.pageX-t.tooltipWidth/2,top:t.pageY+(t.calloutHeight+t._OFFSET)}},west:function(t){return{left:t.pageX+(t.calloutWidth+t._OFFSET),top:t.pageY-t.tooltipHeight/2}},east:function(t){return{left:t.pageX-(t.calloutWidth+t._OFFSET)-t.tooltipWidth,top:t.pageY-t.tooltipHeight/2}},south:function(t){return{left:t.pageX-t.tooltipWidth/2,top:t.pageY-(t.calloutHeight+t._OFFSET)-t.tooltipHeight}},northeast:function(t){return{left:t.pageX-(t.tooltipWidth-(t.calloutWidth+t.calloutWidth/2)),top:t.pageY+t.calloutHeight+t._OFFSET}},northwest:function(t){return{left:t.pageX-(t.calloutWidth+t.calloutWidth/2),top:t.pageY+t.calloutHeight+t._OFFSET}},southwest:function(t){return{left:t.pageX-(t.calloutWidth+t.calloutWidth/2),top:t.pageY-(t.calloutHeight+t._OFFSET)-t.tooltipHeight}},southeast:function(t){return{left:t.pageX-(t.tooltipWidth-(t.calloutWidth+t.calloutWidth/2)),top:t.pageY-(t.calloutHeight+t._OFFSET)-t.tooltipHeight}},defaultFn:function(t){return P.north(t,t.calloutHeight,t.calloutWidth)}};t.fn.ztooltip=function(e){t.ZtoolTip(this,e)}}),function(t){var e={widgetEventPrefix:"tab",_tabs:void 0,_selectedTabIndex:0,_selectedTab:void 0,_left:0,_tabsMain:void 0,_isMenuTab:!1,_EVENTS:{ONMOUSEOVERTAB:"mouseover",ONMOUSEOUTTAB:"mouseout",ONCLICKTAB:"click",ONADDTAB:"add",ONBEFORESELECTTAB:"beforeselect",ONSELECTTAB:"select",ONBEFOREDELETETAB:"beforedelete",ONDELETETAB:"delete",ONBEFOREHIDETAB:"beforehide",ONHIDETAB:"hide",ONBEFOREUNHIDETAB:"beforeunhide",ONUNHIDETAB:"unhide",ONBEFOREDISABLETAB:"beforedisable",ONDISABLETAB:"disable",ONBEFOREENABLETAB:"beforeenable",ONENABLETAB:"enable",ONSORTTAB:"sort",ONBEFOREEDITLABEL:"beforeeditlabel",ONEDITLABEL:"editlabel",ONBEFOREUPDATELABEL:"beforeupdatelabel",ONUPDATELABEL:"updatelabel",ONDROPDOWNCLICK:"dropdownclick"},_create:function(){this.options.toolbarButtonsetLabelPosition=this.options.toolbarButtonsetLabelPosition||this.element.attr("toolbarButtonsetLabelPosition"),this._lastHoverTab=void 0,this._tabMenuArray=[],this.options=t.extend({},t.ui.ztab.defaults,this.options),this._initContainer(),this._hiddenOnInitTabs=[],this._initTabs(),this._isMenuTab&&this.element.addClass("ui-ztabs-editor"),this._initTabSliders(),this._firstEleDiv&&this._tabsMain.css("left",this._firstEleDiv.width()),this._bindEvents(),this.options.selectTabOnInit?this.selectTab(this._selectedTabIndex,!0):this._selectedTabIndex=-1;var e=this;t(this._hiddenOnInitTabs).each(function(t,i){e._hideTab(i)}),this._hiddenOnInitTabs.splice(0,this._hiddenOnInitTabs.length),this._hiddenOnInitTabs=void 0},_initContainer:function(){this.element.addClass("ui-tabs ui-widget ui-widget-content"),this.options.vertical&&this.element.addClass("ui-tabs-vertical"),this._tabsPanel=t("<div>").attr("class","ui-tabs-panel ui-widget-content ui-ztabs-label-"+this.options.toolbarButtonsetLabelPosition);var e=this.element.children("*:not(ul, [ttype=custom])"),i=this;e.each(function(t,e){i._tabsPanel.append(e)}),this.element.append(this._tabsPanel)},_setBaseContainerHeight:function(){if(!this.options.vertical){var t=this._tabsPanel.outerHeight(!0)-this._tabsPanel.height();t=0;var e=this.element.height()-this._innerPanel.outerHeight(!0)-t;this._tabsPanel.height(e)}},_bindEvents:function(){var e=t.ui.ztab.allowedMouseOperations,i=this.options.selectTabOn;this.options.selectTabOn=i=t.inArray(i,e)!=-1?i:e[0];var n=this,o=function(t){n._tabSelected(t,n)};this._tabsMain.on(i+"."+this.widgetName,o),this.options.allowKeyBind&&t(this._tabsMain).on("keydown",function(e){var i=t(n.element).hasClass("ui-state-disabled")||t(e.target).attr("disabled");return!i&&void n._keyPress(e)}),this._isMenuTab&&(t(document).on("menushow.ztab",function(e,i){var o=t(i.menu).attr("id");if(t.inArray(o,n._tabMenuArray)!=-1){var s=t("#"+t("#"+o).data("tabId")),a=t(i.menu).outerWidth(!0),r=s.innerWidth();s.children(".ui-tab-before").remove(),s.prepend(t("<div class='ui-tab-before'>").css({width:a-r,left:r})),n._tabMenuIsOpened=!0}}),t(document).on("menuhide.ztab",function(e,i){var o=t(i.menu).attr("id");t.inArray(o,n._tabMenuArray)!=-1&&(n._tabMenuIsOpened=!1)}))},_initTabs:function(){this._tabsMain=t("ul:first",this.element),this._tabsMain.addClass("ui-ztab ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header"),this._tabs=t(this._tabsMain).children("[ttype!=custom]");var e=this,i=0;if(this._selectedTabIndex=0,t(this._tabsMain).children(".ui-ztab-menu-only")&&(this._selectedTabIndex=t(this._tabsMain).children("[ttype!=custom]:not(.ui-ztab-menu-only):eq(0)").index()),this._tabs.each(function(){e._initTab(t(this),i++)}),this._isMenuTab&&this.element.addClass("ui-ztab-menutab"),this.options.sortable)try{var e=this;this._tabsMain.sortable({cursor:"move",axis:e.options.vertical?"y":"x",update:function(i,n){e._triggerEvent(e._EVENTS.ONSORTTAB,t(n.item[0])),e._refreshTabs()},containment:e._innerPanel})}catch(t){}this._tabsMain.on("dblclick."+this.widgetName,function(t){e._handleEditTabLabel(t)}),this._tabs=t(this._tabsMain).children("[ttype!=custom]")},_handleEditTabLabel:function(e){var i=t(e.target),n=i.is("li")?i:i.closest("a").closest("li");if(!n.length||this._isDisabled(n))return!1;if(!n.metadata().editable)return!1;var o=this._triggerEvent(this._EVENTS.ONBEFOREEDITLABEL,n);if(o){var s=i.closest("a"),a=t("<input>").attr("type","text").css({width:s.outerWidth(),height:s.height()}).val(s.text()).addClass("ui-tabs-label-text");s.hide(),a.insertAfter(s),a.select();var r=this;a.on("blur change",function(){a.off("blur").off("change"),r._updateLabel(n,a.val()),s.show(),a.remove()}),this._triggerEvent(this._EVENTS.ONEDITLABEL,n)}},_updateLabel:function(e,i){var n=this._triggerEvent(this._EVENTS.ONBEFOREUPDATELABEL,e,{value:i});if(n)var n=(t("a",t(e)).text(i),this._triggerEvent(this._EVENTS.ONUPDATELABEL,e,{value:i}))},_getRelatedTabPane:function(e){if(!e.hasClass("ui-ztab-menu-only")){var i=e.metadata(),n=this,o=t("a",e).off("click").on("click",function(t){t.stopPropagation(),t.preventDefault(),n._tabSelected(t,n),n.element.trigger("click")}).attr("href");if(void 0===i.relatedTabPane&&""!==o&&(e.metadata().relatedTabPane=o),o=o?o:i.relatedTabPane,o.indexOf("#")!=-1){var s=o.split("#");o="#"+s[s.length-1]}}return t(o,this.element)},_initTab:function(e,i){var n=e.metadata();e.hasClass("filemenu")&&e.addClass("ui-ztab-menu-only"),t.ui.shortcutkeys&&t.ui.shortcutkeys.register(e);var o=this._getRelatedTabPane(e),s=n.toolbar?n.toolbar:n.popup;o.attr("buttonsetLabelPosition",this.options.toolbarButtonsetLabelPosition);var a=this;if(s){var r=n.toolbar?"toolbar":"popup";this._isMenuTab=!0;var l=t("<span class='ui-ztab-dropdown ui-ztab-arrow'><span class='ui-ztab-dropdown-icon ui-components-icon ui-ztab-menu'></span></span>").appendTo(e);e.hasClass("ui-ztab-menu-only")?(t("#"+s).addClass("ui-ztab-toolbar-menu ui-tabs-only"),t("#"+s).metadata().positionAlterable=!1,e.attr(r,s)):l.attr(r,s),this._tabMenuArray.push(s),a._currerntHoverTab=void 0,l.hover(function(i){a._isDisabled(t(this))||(l.addClass("ui-ztab-dropdown-hover"),a._tabMenuIsOpened&&!e.hasClass("ui-ztab-menu-only")&&(a._lastHoverTab&&a._lastHoverTab[0]!=l[0]||!a._lastHoverTab)&&l.trigger("click"),a._currerntHoverTab=l)},function(t){a._lastHoverTab=e.hasClass("ui-ztab-menu-only")?void 0:l,l.removeClass("ui-ztab-dropdown-hover")}),l.on("click",function(t){e.hasClass("ui-ztab-menu-only")||(a._selectedDropdown=this,a._triggerEvent(a._EVENTS.ONDROPDOWNCLICK,e),a._tabMenuIsOpened=!0)}),this._tabMenuIsOpened=!1}var u=t("a",e);if(linktext=u.text(),n.icon){u.empty();var h=t("<span/>").addClass("ui-icon "+n.icon).css({float:"left"});u.append(h),h.after(linktext)}var d=s?"ui-state-default ui-corner-top ui-tabs-nav-menu":"ui-state-default ui-corner-top ";e.metadata().contextual&&(d=d+" ui-ztab-contextual ui-ztab-contextual-"+e.metadata().group),e.addClass(d);var a=this;e.hover(function(i){if(!a._isDisabled(t(this))){if(e.hasClass("ui-state-active"))return;e.hasClass("ui-ztab-menu-only")&&a._tabMenuIsOpened&&e.children(".ui-ztab-dropdown").trigger("click"),t(i.target).hasClass("ui-ztab-dropdown")||t(i.target).hasClass("ui-icon")?e.addClass("ui-state-hover").removeClass("ui-state-hover-hover"):e.addClass("ui-state-hover ui-state-hover-hover"),a._triggerEvent(a._EVENTS.ONMOUSEOVERTAB,e)}},function(){a._isDisabled(e)||(e.removeClass("ui-state-hover ui-state-hover-hover"),a._triggerEvent(a._EVENTS.ONMOUSEOUTTAB,e)),e.hasClass("ui-ztab-menu-only")}),e.on("mousemove",function(i){a._isDisabled(e)||(t(i.target).hasClass("ui-ztab-dropdown")||t(i.target).hasClass("ui-icon")?e.addClass("ui-state-hover").removeClass("ui-state-hover-hover"):e.addClass("ui-state-hover ui-state-hover-hover"))}),t(o).hide(),n.index=i,n.selected&&(this._selectedTabIndex=i);var c=e.metadata();if(c.hidden&&this._hiddenOnInitTabs.push(e),c.closeable){var a=this,p=t("<span>").addClass("ui-icon ui-icon-close").click(function(){return!a._isDisabled(e)&&void(c.hideonclose?a._hideTab(e):a._deleteTab(e,!0))});e.append(p)}this._isDisabled(e)&&this._disableTab({tab:e,enable:!1,isFromInit:!0},n.disableRelatedPane)},_clearRelatedTabProps:function(e){var i=e.metadata();t(i.relatedTabPane).hide()},_triggerEvent:function(e,i,n){var o=t(i).metadata(),s={tab:t(i),index:o.index,relatedPaneId:t(o.relatedTabPane).attr("id"),relatedPane:t(o.relatedTabPane)};return n&&(s=t.extend(s,n)),this._trigger(e,e,s)},_isDisabled:function(t){var e=t.hasClass("ui-state-disabled");return!!e},_selectTab:function(e,i){if(!this.element.hasClass("ui-state-disabled")&&(e=t(e),e.length)){if(e.is(":hidden")){if(!this.options.selectHiddenTabs)return!1;this._hideTab(e,!0)}var n=e.metadata();if(this._isDisabled(e))return!1;if(n.relatedTabPane&&!e.hasClass("ui-ztab-menu-only")){if(n.contextual&&this._tabsPanel.addClass("ui-ztoolbar-highlight-"+n.group),this._triggerEvent(this._EVENTS.ONCLICKTAB,e),!i&&n.index===this._selectedTabIndex&&!this._tabExpand)return!1;var o=this._triggerEvent(this._EVENTS.ONBEFORESELECTTAB,e);if(!o)return!1;if(this._isMenuTab){var s=t(".ui-icon-collapse",this.element);s.length&&this._showhideToolbar(s)}if(this._selectedTab){this._selectedTab.metadata().selected=!1;var a=t(this._selectedTab).metadata();a.group!=n.group&&this._tabsPanel.removeClass("ui-ztoolbar-highlight-"+a.group),this._clearRelatedTabProps(this._selectedTab),t(this._selectedTab).removeClass("ui-tabs-selected ui-state-active")}e.addClass("ui-tabs-selected ui-state-active"),n.selected=!0,this._selectedTab=e,this._selectedTabIndex=n.index;var r=this._getRelatedTabPane(e);r.show();var l=r.data();null!=l&&"object"==typeof l.ztoolbar&&l.ztoolbar._isDocumentResized&&(l.ztoolbar._isDocumentResized=!1,r.ztoolbar("resizeTooolbar")),this._scrollTabToView(e),this._triggerEvent(this._EVENTS.ONSELECTTAB,e)}else{if(this._triggerEvent(this._EVENTS.ONCLICKTAB,e),!i&&n.index===this._selectedTabIndex)return!1;var o=this._triggerEvent(this._EVENTS.ONBEFORESELECTTAB,e);if(!o)return!1}}},_scrollTabToView:function(e){if(!this.options.vertical){e=t(e);var i=e.position();if(i.width=e.outerWidth(),e.outerWidth(!0)!==this._tabsMain.width()){var n=this._tabsMain.position();n.width=this._innerPanel.outerWidth()-this._lastEleDiv.width();var o=i.width+i.left,s=n.width,a=void 0,r=this._firstEleDiv,l=r.position().left+r.outerWidth();o+n.left>s?a=n.width-i.left-i.width-5:n.left+i.left<=l&&(a=l-i.left),void 0!=a&&this._animateToPosition(a)}}},_tabSelected:function(e){var i=t(e.target);if(!i.hasClass(".ui-ztab-arrow")){var n=i.is("li")?i:i.closest("a").closest("li");if(!n.length)return!1;this._selectTab(n)}return!1},_keyPress:function(e){if(e.ctrlKey){var i=t(this.getSelectedTab()).metadata().index,n=this._tabs.length;switch(e.keyCode?e.keyCode:e.charCode){case t.ui.keyCode.RIGHT:i++;break;case t.ui.keyCode.LEFT:i--;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.END:i=n-1}i<0?i=n-1:i>=n&&(i=0),this.selectTab(i)}},_createSliderButton:function(e){var i=e?"left":"right",n=t("<div>").attr("_dir",i).addClass("ui-tabs-slider-"+i).addClass("ui-button ui-state-default ui-tabs-slider");return n.append(t("<span>").attr("_dir",i).addClass(e?"ui-scrolltab-l":"ui-scrolltab-r").addClass("ui-icon").addClass(e?"ui-icon-triangle-1-w":"ui-icon-triangle-1-e")),n.hover(function(){t(this).addClass("ui-state-hover")},function(){t(this).removeClass("ui-state-hover")}),n.hide()},_getExtraContainers:function(e){var i=this,n=t("<div>").addClass("ui-widget-content ui-ztab-custom-outer"),o=t("<div>").addClass("ui-widget-header ui-ztab-custom ui-ztab-custom-"+(e?"left":"right")).height(this._tabsMain.height()-1).append(n);if(this._isMenuTab){var s=t("<div>").attr({title:this._getString("collapse.label"),class:"ui-ztab-custom-right ui-ztab-expand ui-components-icon ui-icon-expand"}).appendTo(o);s.on("click",function(t){i._showhideToolbar(s,!0)}).on("mousedown",function(t){s.attr("title",i._getString(s.hasClass("ui-icon-expand")?"expand.label":"collapse.label"))})}return e?o.insertBefore(this._innerPanel):o.insertAfter(this._innerPanel),n},_showhideToolbar:function(e,i){if(this._selectedTab){relatedTabPane=this._getRelatedTabPane(t(this._selectedTab));var n=this._selectedTab.metadata();e.hasClass("ui-icon-expand")?(e.removeClass("ui-icon-expand").addClass("ui-icon-collapse"),n.contextual&&this._tabsPanel.removeClass("ui-ztoolbar-highlight-"+n.group),this._tabExpand=!0,this._selectedTab.removeClass("ui-tabs-selected ui-state-active"),relatedTabPane.ztoolbar("hide")):(e.removeClass("ui-icon-collapse").addClass("ui-icon-expand"),this._tabsPanel.removeClass("ui-ztab-toolbar-border"),i&&this._selectedTab.addClass("ui-tabs-selected ui-state-active"),n.contextual&&this._tabsPanel.addClass("ui-ztoolbar-highlight-"+n.group),this._tabExpand=!1,relatedTabPane.ztoolbar("show")),e.attr("title",this._getString(e.hasClass("ui-icon-expand")?"collapse.label":"expand.label"))}},_initTabSliders:function(){var e=t("<div>");if(this._innerPanel=e,this._sliderLeft=this._createSliderButton(!0),this._sliderRight=this._createSliderButton(),e.append(this._sliderLeft,this._tabsMain,this._sliderRight),t(e).insertBefore(t(this.element).children(":first")),e.addClass(this.options.vertical?"ui-tabs-inner-panel-v":"ui-tabs-inner-panel"),!this.options.vertical){var i=this,n=this.element.children("[ttype=custom][position=first], [ttype=custom]:not([position])");this._firstEleDiv=this._getExtraContainers(!0),this._lastEleDiv=this._getExtraContainers(),n.each(function(e,n){i._firstEleDiv.append(t(n))});var o=this.element.children("[ttype=custom][position=last]");o.each(function(e,n){i._lastEleDiv.append(t(n))}),t("div[_dir]",e).on("click",function(t){i._adjustTabs(t)}),this._sliderLeft.css("margin-left",this._firstEleDiv.width()),this._sliderRight.css("right",this._lastEleDiv.width()),t(window).on("resize."+this.widgetName,function(){i._showSliders()}),t.debounce(500,i._showSliders)}},_adjustTabs:function(e){var i=(t(e.target),this._getAlteredLeft(e));this._animateToPosition(i)},_getCorrectedLeft:function(t){var e=this._firstEleDiv.width(),i=this._getMaxLeft();return t<i&&(t=i),t>e&&(t=e),t},_animateToPosition:function(e){var i=this,n=t(this._tabsMain);n.stop(!0,!0),e=this._getCorrectedLeft(e),n.animate({left:e},1e3,function(){i._showSliders(!0)})},_getMaxLeft:function(){if(!this._maxLeft){var t=this._tabsMain.children("li:visible:last");if(!t.length)return 0;this._tabsMain.find("li:visible:last");this._maxLeft=this._innerPanel.width()-(t.position().left+t.outerWidth()),this._lastEleDiv&&(this._maxLeft-=this._lastEleDiv.outerWidth())}return this._maxLeft},_showSliders:function(e){if(!this.options.vertical){var i=this._firstEleDiv.width();e||t(this._tabsMain).css("left",i);var n=this._tabsMain.position(),o=n.left+i;this._sliderLeft[o>=i?"hide":"show"]();var s=this._getMaxLeft()+i;this._sliderRight[1*o.toFixed(1)>1*s.toFixed(1)?"show":"hide"]()}},_getAlteredLeft:function(e){var i=t(e.target),n=this._tabsMain.position().left,o=i.attr("_dir"),s=(this._innerPanel,0);switch(o){case"right":s=n-100;break;case"left":s=n+100}return this._getCorrectedLeft(s)},getSelectedTab:function(){return this._tabsMain.children("li.ui-tabs-selected")},getSelectedRelatedTabPane:function(){var e=this.getSelectedTab();return t(e).metadata().relatedTabPane},_getTabAt:function(e,i){var n;return isNaN(e)?n=t("#"+e):(n=i?this._tabsMain.children():this._tabs,e=!e||e<0?0:e>=n.length?n.length-1:e,n=n[e]),n},selectTab:function(t,e){this._selectTab(this._getTabAt(t,e),e)},_getTabByType:function(e){return t("[ttype="+e+"]:first",this._tabsMain)},selectTabByType:function(t,e){var i=this._getTabByType(t);if(i.length)return this._selectTab(i,e)},showNextTab:function(){this.selectTab(t(this.getSelectedTab()).metadata().index+1)},showPrevTab:function(){this.selectTab(t(this.getSelectedTab()).metadata().index-1)},_nonDataParams:["label","relatedPaneId"],_refreshTabs:function(){this._maxLeft=void 0,this._tabs=t(this._tabsMain).children(":not([hidden]):not([ttype=custom])");var e=this;t(this._tabs).each(function(i,n){var o=t(n).metadata();o.index=i,o.selected&&(e._selectedTabIndex=i)}),this._showSliders()},_generateNewPaneId:function(){return"tab_"+this._tabs.length+this._getMaxLeft().toFixed(0)},addTab:function(e,i){var n=t("<li>"),o=this._tabs.length;!e.index||this._tabs.length-1<e.index?this._tabsMain.append(n):(o=e.index,n.insertBefore(this._tabs[e.index]));var s=t("<a>"),a=n.metadata();for(var r in e)t.inArray(r,this._nonDataParams)===-1&&(a[r]=e[r]);s.html(e.label),n.attr({ttype:e.type,id:e.id});var l=void 0;return e.relatedPaneId?l=t("#"+e.relatedPaneId):e.relatedPaneId=this._generateNewPaneId(),l&&l.length||(l=e.url?t("<iframe>").attr({id:e.relatedPaneId,src:e.url,frameborder:"0px"}).css("border","none"):t("<div>").attr("id",e.relatedPaneId)),e.relatedPane=l,s.attr("href","#"+e.relatedPaneId),this._tabsPanel.append(l),n.append(s),this._initTab(n,o),this._refreshTabs(),this._triggerEvent(this._EVENTS.ONADDTAB,n),this.options.highlightTabOnAdd&&this._highlightTab(n),i&&i(e),e.selected&&this._selectTab(n,!0),e},_deleteTab:function(e,i){if(1!==this._tabs.length){var e=t(e);if(e&&e.length){var n=this._triggerEvent(this._EVENTS.ONBEFOREDELETETAB,e);if(n){var o=this;e.height(e.height()),e.width(e.width()),e.empty(),e.animate({width:0,opacity:0},{duration:o.options.animateOnDeleteTab?300:0,complete:function(){o._removeTab(e,i)}})}}}},_removeTab:function(e,i){this._clearRelatedTabProps(e),i&&t(e.metadata().relatedTabPane).remove();var n=e.metadata().index;e.remove(),this._refreshTabs(),this._triggerEvent(this._EVENTS.ONDELETETAB,e),n===this._selectedTabIndex&&this.selectTab(n,!0)},deleteTab:function(t,e){this._deleteTab(this._getTabAt(t,!1),e)},deleteTabByType:function(t,e){var i=this._getTabByType(t);this._deleteTab(i,e)},highlightTab:function(t){this._highlightTab(this._getTabAt(t,!1))},highlightTabByType:function(t){var e=this._getTabByType(t);this._highlightTab(e)},_highlightTab:function(t){if(t&&t.length){var e=t.clone().addClass("ui-state-error"),i=t.position();e.css({position:"absolute",left:i.left,top:i.top}),e.fadeTo(0,0),t.parent().append(e),e.fadeTo(700,1,function(){e.fadeTo(700,.7,function(){e.fadeTo(700,1,function(){e.fadeTo(700,.7,function(){e.remove()})})})})}},_hideTab:function(e,i,n){if(e=t(e),(1!==this._tabs.length||i)&&e&&e.length){var o=e.metadata(),s=this._triggerEvent(this._EVENTS[i?"ONBEFOREUNHIDETAB":"ONBEFOREHIDETAB"],e);s&&(i||this._clearRelatedTabProps(e),o.selected=!1,this._selectedTabIndex=-1,this._selectedTab&&(this._selectedTab.metadata().group==o.group&&i||this._tabsPanel.removeClass("ui-ztoolbar-highlight-"+o.group)),o.contextual?i?e.is(":visible")||(e.css({top:"35px"}).animate({top:"0px"},{duration:1e3,easing:"easeInOutElastic"}),e.nextAll().is(":visible")&&e.nextAll().animate({left:e.innerWidth()+12},200),setTimeout(function(){e.nextAll().css({left:""}),e.show()},500)):e.is(":visible")&&(e.clearQueue().animate({top:"35px"},{duration:800,easing:"easeInOutElastic"}),e.nextAll().clearQueue().delay(300).animate({left:-(e.innerWidth()+12)}),setTimeout(function(){e.nextAll().css({left:""}),e.hide()},1e3)):e[i?"show":"hide"](),e.attr("hidden",!i),this._refreshTabs(),this._triggerEvent(this._EVENTS[i?"ONUNHIDETAB":"ONHIDETAB"],e),i&&this.options.highlightTabOnShow&&this._highlightTab(e))}},hideTab:function(t){this._hideTab(this._getTabAt(t,!0))},unhideTab:function(t){this._hideTab(this._getTabAt(t,!0),!0)},hideTabByType:function(t){var e=this._getTabByType(t,!0);this._hideTab(e)},unhideTabByType:function(t){var e=this._getTabByType(t,!0);this._hideTab(e,!0)},unhideAll:function(){var e=t(this._tabsMain).children("li:hidden"),i=this;t(e).each(function(e,n){i._hideTab(t(n),!0)})},hideTabs:function(e){var i=this;t(e).each(function(e,n){i._hideTab(t("#"+n))})},unhideTabs:function(e){var i=this;t(e).each(function(e,n){i._hideTab(t("#"+n),!0,1)})},_disableTab:function(e,i){var n=t(e.tab),o=e.enable;if(n&&n.length){var s=this._triggerEvent(this._EVENTS[o?"ONBEFOREENABLETAB":"ONBEFOREDISABLETAB"],n);if(s){t(n)[o?"removeClass":"addClass"]("ui-state-disabled"),o?t(n).removeAttr("disabled"):t(n).attr("disabled",!o);var a=t(n).find("[toolbar]");if(a.push(t(n).find("[popup]")),a.length&&t.each(a,function(e,i){o?t(i).removeClass("ui-state-disabled"):t(i).addClass("ui-state-disabled"),o?t(i).removeAttr("disabled"):t(i).attr("disabled",!o)}),i){var r=this._getRelatedTabPane(t(n));(r.data("ui-ztoolbar")||r.data("ztoolbar"))&&r.ztoolbar(o?"enable":"disable")}e.isFromInit||this._refreshTabs(),o&&this.element.removeClass("ui-state-disabled").removeAttr("disabled"),this._triggerEvent(this._EVENTS[o?"ONENABLETAB":"ONDISABLETAB"],n)}}},_getString:function(e){return t.i18n?t.i18n("ztab",e):this.options.keys[e]},disableTab:function(t,e){var i=this._getTabAt(t,!0);this._disableTab({tab:i,enable:!1},e)},disableTabByType:function(t,e){var i=this._getTabByType(t,!0);this._disableTab({tab:i,enable:!1},e)},enableTab:function(t,e){var i=this._getTabAt(t,!0);this._disableTab({tab:i,enable:!0},e)},enableTabByType:function(t,e){var i=this._getTabByType(t,!0);this._disableTab({tab:i,enable:!0},e)},disable:function(e){this.element.attr("disabled","true").addClass("ui-state-disabled"),this.element.children(".ui-tab").attr("disabled","true").addClass("ui-state-disabled");var i=this.element.find(".ui-ztab").children("li"),n=this;t.each(i,function(i,o){n._disableTab({tab:t(o),noTabClassChange:!0},e)})},enable:function(e){t(this.element).removeAttr("disabled"),t(this.element).removeClass("ui-state-disabled");var i=this.element.find(".ui-ztab").children("li"),n=this;t.each(i,function(i,o){n._disableTab({tab:t(o),enable:!0},e)})},destroy:function(){var e=this,i=t(this.element).find("[ttype=custom]");t.each(i,function(i,n){t(n).insertBefore(e.element.children(":last")).off(),t(e.element).find(".ui-ztab-custom").remove()}),t(this.element).find(".ui-tabs-slider").remove();var n=t(this.element).find(".ui-ztab");n.off().insertBefore(e.element.children(":last")),t(this.element).find(".ui-tabs-inner-panel").remove(),t.each(n.children("li"),function(e,i){t(i).removeAttr("class").off().find(".ui-icon-close").remove(),t(i).children("a").off()}),n.removeAttr("style").removeAttr("class");var o=t(this.element).find(".ui-tabs-panel");t.each(o.children(),function(i,n){t(n).removeAttr("style").insertBefore(e.element.children(":last")).off()}),o.remove(),t(this.element).removeAttr("style").removeAttr("class"),n.off("."+this.widgetName),this.element.off("."+this.widgetName),t.Widget.prototype.destroy.apply(this,arguments)}};e=t.extend({},e),t.widget("ui.ztab",e),t.ui.ztab.allowedMouseOperations=["click","mousedown","mouseup","mouseover"],t.ui.ztab.defaults={toolbarButtonsetLabelPosition:"left",sortable:!1,selectTabOn:"click",allowKeyBind:!0,selectHiddenTabs:!1,highlightTabOnShow:!1,highlightTabOnAdd:!1,animateOnDeleteTab:!0,selectTabOnInit:!0,keys:{"expand.label":"Expand Toolbar","collapse.label":"Collapse Toolbar"}}}(jQuery),function(t){var e={_baseElement:void 0,_deltaWidth:23,_COMBO_SCOPES:{icon_text:"",icon_only:"ui-zcombo-icononly",text_only:"ui-zcombo-textonly",icon_only_floating:"ui-zcombo-icononly ui-zcombo-floating",text_only_floating:"ui-zcombo-textonly ui-zcombo-floating"},widgetEventPrefix:"combo",_EVENTS:{ONBEFORESHOW:"beforeshow",ONSHOW:"show",ONCHANGE:"change",ONOPTIONFOCUS:"onfocus",ONHIDE:"hide",ONCLICK:"click"},contentType:"text",_create:function(){if(this.options=t.extend({},t.ui.zcombo.defaults,this.options),this._buildCombo(),this._optionTextArray=[],this._onLoadCheck=!0,this._defaultIndex=this.element.get(0).selectedIndex,this._prevSearchKey="",this._prevSearchTimer=void 0,this._prevKeydownTime="","html"==this.options.contentType&&(this.options.editable=!1),this.options.defaultValue){var e=t("option[value='"+this.options.defaultValue+"']",this.element);e.length&&(this._defaultIndex=e.get(0).index)}this._defaultIndex=this._defaultIndex?this._defaultIndex:0;var i=this._buildDropDown();this._buildComboMenu(i),this._addEvents(),this.options.editable||this._optArea.addClass("ui-zcombo-readonly"),this._inEditMode=!1},_addScopeForCombo:function(){var t=this.options.type;this._baseElement.addClass(this._COMBO_SCOPES[t])},_buildCombo:function(){this._baseElement=t("<div>",{class:"ui-widget ui-widget-content ui-zcombo ui-corner-all "+this.element.attr("class")+(this.options.editable?" ui-zcombo-editable":""),title:this.element.attr("title")});var e=this.element.outerHeight();e&&this._baseElement.height(e),this._baseElement.width(this.element.outerWidth()+this._deltaWidth),this._baseElement.insertAfter(this.element.hide());var i=this;this._dropDownArrow=t("<div>").addClass("ui-zcombo-dropdown ui-state-default ui-corner-right").hover(function(t){i._dropDownArrow.addClass("ui-state-hover")},function(t){i._dropDownArrow.removeClass("ui-state-hover")});var n=t("<div>").addClass("ui-icon ui-components-icon ui-icon-triangle-1-s");this._dropDownArrow.append(n),this._optArea=t("<div>").addClass("ui-zcombo-select-item").css({width:this._baseElement.outerWidth()-this._deltaWidth}),this._baseElement.append(this._dropDownArrow),this._baseElement.append(this._optArea),t(this._baseElement).focusable(),t(this._baseElement).on("focusin focus",function(){i._baseElement.hasClass("ui-state-disabled")||i._baseElement.addClass("ui-state-focus")}),t(this._baseElement).on("focusout",function(){i._baseElement.removeClass("ui-state-focus")}),this._addScopeForCombo(),t(this.element).is(":disabled")&&this.disable()},_buildDropDown:function(e,i){e=e?e:this.element;var n=this._onLoadCheck?":not(optgroup):eq("+this._defaultIndex+")":"",o=e[this._onLoadCheck?"find":"children"](n),s=[],a=this;return o.each(function(e,n){if("none"!=n.style.display){n=t(n);var o=n.attr("mtype"),r={};if("separator"==o)r.mtype="separator";else{var l=n.metadata();if(r=t.extend({},l),n.is("optgroup"))r.mtype=a.options.optgroupAsSplitMenu?"splitmenu":"group",r.label=n.attr("label"),r.id="optgroup"+n.attr("id"),r.menuItems=a._buildDropDown(n,i),r.attr={"data-isoptgroup":!0,"data-optgroupid":n.attr("id")};else{r.label=n.text();var u=Math.round(1e10*Math.random());n.attr("optionfor",u),r.attr={index:u},a._optionTextArray[a._optionTextArray.length]={text:n.dataDisabled?"":n.text(),value:n.val()},"icon_only"===a.options.type&&(r.title=n.text())}n[0].getAttribute("title")&&r.attr&&(r.attr.title=n[0].getAttribute("title")),r._option=n}s[s.length]=r}}),s},_addOption:function(e,i,n){var o=this,s=[],e=e instanceof Array?e:[e];return i=i?i:o.element,t.each(e,function(e,a){var r={},l=Math.round(1e10*Math.random());targetElement="object"==typeof a.optionGroup?a.optionGroup:i,allItems=targetElement.children();var u=a.readOnly?' data-readOnly="'+a.readOnly+'"':"";"object"==typeof a.options?optionElement=t('<optgroup label="'+a.label+'" '+u+' id="'+a.id+'"></optgroup>'):(a.style&&(u+=' style="'+a.style+'"'),optionElement=t('<option value="'+a.value+'" '+u+' optionfor="'+l+'">'+a.label+"</option> ")),insertAfter=!1,itemPosition=a.position<=0?0:a.position,itemPosition<allItems.length?(relativeOption=allItems.eq(itemPosition),optionElement.insertBefore(relativeOption)):optionElement.appendTo(targetElement),"separator"==a.mtype?r.mtype="separator":(r=t.extend({},optionElement.metadata()),r.pos=itemPosition,r.label=a.label,"object"==typeof a.options?(r.mtype=o.options.optgroupAsSplitMenu?"splitmenu":"group",r.menuItems=o._addOption(a.options,optionElement,a.id),r.attr={"data-isoptgroup":!0,"data-optgroupid":a.id},r.id="optgroup"+a.id):("object"==typeof a.optionGroup&&(n=n?n:a.optionGroup.attr("id"),r.menu=o.options.optgroupAsSplitMenu?t("#optgroup"+n).next().children("ul"):t("#optgroup"+n)),r.attr={index:l},o._optionTextArray[o._optionTextArray.length]={text:a.label,value:a.value},"icon_only"===o.options.type&&(r.title=a.label)),a.title&&r.attr&&(r.attr.title=a.title),r._option=optionElement),s[s.length]=r}),s},addOption:function(t){var e=this._addOption(t,this.element);this._buildComboMenu(e)},removeOption:function(e){var i=t(this._getOptionWithValue(e)),n=i.attr("data-readOnly");"true"!==n&&i.length&&(e=e.replace(/\s+/g,""),t("li[index='"+i.attr("optionfor")+"']",this._dropDownMenu).attr("id","ui-zc-"+e),this._dropDownMenu.zmenu("removeMenuItem","ui-zc-"+e),i.remove())},removeAllOptions:function(e){var i=this.element.children();i.each(function(e,i){var n=t(i),o=n.attr("data-readOnly");"true"!==o&&i.remove()}),this._reloadDropDownMenu()},removeOptGroupOption:function(e,i){i=i.indexOf("#")!=-1?i:"#"+i;var n=t(i,this.element).find('option[value="'+e+'"]'),o=t(n),s=n.attr("data-readOnly");n.length&&"true"!==s&&(t("li[index='"+o.attr("optionfor")+"']",this._dropDownMenu).attr("id","ui-zc-"+o.attr("optionfor")),this._dropDownMenu.zmenu("removeMenuItem","ui-zc-"+o.attr("optionfor")),o.remove())},removeOptGroup:function(e){e=e.indexOf("#")!=-1?e:"#"+e;var i=t(e,this.element);i.length&&(i.remove(),this._dropDownMenu.zmenu("removeMenuItem","optgroup"+e))},updateOption:function(t,e,i){var n=this._getOptionWithValue(t);return i?void n.attr(e,i):n.attr(e)},_buildComboMenu:function(e){var i=this,n=function(t,e){var n=e._option;t.is("[mtype=separator]")||(i.options.applyOptionStyles&&n.is("[style]")&&t.attr("style",n.attr("style")),i.options.applyOptionClass&&n.is("[class]")&&t.addClass(n.attr("class")))};if(this._dropDownMenu)this._dropDownMenu.zmenu("addMenuItems",e,n);else{this._dropDownMenuId="combo_"+this.element.attr("id")+"Menu",this._dropDownMenu=t.ui.zmenu.createMenu(this._dropDownMenuId,e,{positionAlterable:!1,type:this.options.type,bindKeys:!1,addItemCallback:n,height:this.options.dropDownMenuHeight,menuClass:"ui-zcombo-dropdown "+this.options.dropDownClass}),this._dropDownMenu.attr({position:"adjustable",relativeTo:"parent"}),this._dropDownArrow.click(function(t){i._showDropDown(t)}).attr("popup",this._dropDownMenuId);var o=this._baseElement.width();o>this._dropDownMenu.width()&&this._dropDownMenu.width(this._baseElement.width()),this._optArea.click(function(t){i._showDropDown(t,!0)}),this._dropDownMenu.metadata().toggle=!0}var s=this._onLoadCheck?this._defaultIndex:this.element.get(0).selectedIndex;this._setOptionValue(s,!0)},_showDropDown:function(t,e){return this._onLoadCheck&&this._reloadDropDownMenu(),this._prevSearchKey="",this._prevKeydownTime="",this._prevSearchIndex="",this._prevSearchTimer=void 0,e&&this.options.editable?this._handleEditable():void(e&&(this._dropDownArrow.click(),t&&(t.stopPropagation(),t.preventDefault())))},_handleEditable:function(){if(!this._baseElement.is(".ui-state-disabled")&&"html"!=this.options.contentType){var e=t(".ui-zmenu-text",this._optArea),i=e.text(),n=t("<input>").attr("type","text").val(i).addClass("ui-zcombo-editable");n.data("base",e),n.data("text",i);var o=this;n.focus(function(){o._inEditMode=!0}).blur(function(){o._finishEditing(!0),o._inEditMode=!1});var s=function(e){var i=e.keyCode;i!=t.ui.keyCode.ENTER&&i!=t.ui.keyCode.ESCAPE&&o._dropDownMenu.is(":hidden");var s=n.val();if(s!=n.data("text")&&s.length&&o.options.autoFill){var a=o._optionInputSearch(s);if(a&&a.length){var r=t("li[index='"+a.attr("optionfor")+"']",o._dropDownMenu);r.length&&(n.data("baseItem",r),o._selectRemainingTextOfEditable(n,r.text()),n.data("text",s))}}};n.on("keydown.comboeditable",t.debounce(250,s)),e.replaceWith(n),setTimeout(function(){n.focus().select()},100)}},_selectRemainingTextOfEditable:function(t,e){var i=t.val();if(i!=t.data("text")){var n=e.indexOf(i)+i.length;t.val(e),t[0].setSelectionRange(n,e.length)}},_finishEditing:function(e){var i=t(".ui-zcombo-editable",this._optArea);if(i.length){var n=i.data("baseItem");i.off(".comboeditable");var o=i.data("base");if(n)n.click(),i.remove();else{var s=o.text(),a=i.val();o.text(a),i.replaceWith(o),s!=a&&this._triggerEvent(this._EVENTS.ONCHANGE,{prevVal:s,value:a})}e||this._handleEditable(),this._inEditMode=!1}},_getOptionElements:function(){return t("option",this.element)},_getCorrectedOptPosition:function(t){var e=this._getOptionElements().length;return t>=e?t=e-1:t<0&&(t=0),t},_getOptionMenuPosition:function(e){if(this._onLoadCheck)return 0;var i=e-t("option",this.element).filter(function(){return"separator"==t(this).attr("mtype")&&t(this).index()<=e}).length;return i?i:0},_setOptionValue:function(e,i,n){e=this._getCorrectedOptPosition(e);var o=this.selected;this.selected=e;var s=n&&n.length?n:t(this._dropDownMenu.zmenu("getMenuItemAt",this._getOptionMenuPosition(e))),a=t(s.clone().html()),r=" width:"+this._optArea.css("width");if(this._optArea.empty().append(a),this._optArea.find(".ui-zmenu-shortcut").empty().remove(),!i){var l=this.element,u=void 0!=o?l.val():void 0;l.get(0).selectedIndex=e,u!=l.val()&&this._triggerEvent(this._EVENTS.ONCHANGE,{prevVal:u})}var h=this.element.get(0);h.selectedIndex=e;var d=t(".ui-zmenu-text:visible",this._optArea);if(d.length&&(this.options.optioinTextIsHTML?d.html(s.find(".ui-zmenu-text").html()):d.text(a.text())),this.options.applyOptionStylesOnCombo){var c=this.element.get(0).options[e].getAttribute("style");r+=null!=c?";"+c:"",r&&(this._optArea.attr("style",r),d.attr("style",r))}},_addEvents:function(){var e=this;this._dropDownMenu.on("menuhide."+this.widgetName,function(t,i){e._triggerEvent(e._EVENTS.ONHIDE),e._baseElement.focusout().blur()}),this._dropDownMenu.on("menubeforeshow."+this.widgetName,function(t,i){var n=e._triggerEvent(e._EVENTS.ONBEFORESHOW);return!!n&&void e._dropDownMenu.zmenu("showMenuItemAsSelected",e._getOptionMenuPosition(e.selected))}),this._dropDownMenu.on("menushow."+this.widgetName,function(t,i){e._triggerEvent(e._EVENTS.ONSHOW),e._setFocus()}),this._dropDownMenu.on("menuitemhovered."+this.widgetName,function(i,n){var o={focusItem:n.menuitem,focusValue:t("option[optionfor='"+t(n.menuitem).attr("index")+"']",this.element).val()};e._triggerEvent(e._EVENTS.ONOPTIONFOCUS,o)}),this._dropDownMenu.on("menuitemclicked."+this.widgetName,function(i,n){e._triggerEvent(e._EVENTS.ONCLICK);var o="option[optionfor='"+t(n.menuitem).attr("index")+"']";if(e.options.optgroupAsSplitMenu){var s=t(n.menuitem).data();s&&s.isoptgroup&&(o="#"+s.optgroupid+" :eq(0)")}e._setOptionValue(t(o,e.element).get(0).index,!1,t(n.menuitem)),e.options.retainFocus&&setTimeout(function(){e._setFocus()},200)}),this._baseElement.on("keydown."+this.widgetName,function(t){e._keyPress(t)})},_setCurrentSearchOption:function(e){var i=t("option[value='"+this._optionTextArray[e].value+"']",this.element);i.length&&(t("li",this._dropDownMenu).removeClass("ui-state-hover"),this._currentSearchOption=t("li[index='"+i.attr("optionfor")+"']",this._dropDownMenu),this._currentSearchOption.trigger("mouseover"),this._scrollToView("search"))},_scrollToView:function(t){var e=this,i=e._dropDownMenu.scrollTop(),n=e._currentSearchOption.height(),o=e._currentSearchOption.position().top,s=e._dropDownMenu.height();return s-o<n?e._dropDownMenu.scrollTop(i+(o-(s/3-n))):o<-1&&e._dropDownMenu.scrollTop(o-n),e},_setFocus:function(){t(".ui-zcombo-editable",this._optArea).length||this._baseElement.focus()},setFocus:function(t){this._baseElement[t?"addClass":"removeClass"]("ui-state-focus")},_showMenuAndSelectOption:function(t){this._dropDownMenu.is(":visible")||this._dropDownArrow.click(),this._dropDownMenu.zmenu(t?"hoverNextMenuItem":"hoverPreviousMenuItem")},_handleDropDownKeyCode:function(t){this._dropDownMenu.zmenu("handleKeyCode",t)},_keyPress:function(e){var i=e.charCode||e.keyCode,n=!1,o=this;switch(i){case t.ui.keyCode.UP:this._showMenuAndSelectOption(),n=!0;break;case t.ui.keyCode.LEFT:this.options.editable||(this._showMenuAndSelectOption(),n=!0);break;case t.ui.keyCode.DOWN:this._showMenuAndSelectOption(!0),n=!0;break;case t.ui.keyCode.RIGHT:this.options.editable||(this._showMenuAndSelectOption(!0),n=!0);break;case t.ui.keyCode.SPACE:(this._dropDownMenu.is(":visible")||t(".ui-zcombo-editable",this._optArea).length<1)&&(n=!0);break;case t.ui.keyCode.ENTER:if(n=!0,this._finishEditing(),this._dropDownMenu.is(":visible")){this._dropDownMenu.zmenu("selectHoveredMenuItem");this._dropDownMenu.zmenu("hide")}break;case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.HOME:this._handleDropDownKeyCode(i);break;case t.ui.keyCode.ESCAPE:this._dropDownMenu.is(":visible")&&(e.stopPropagation(),e.preventDefault(),t.ZContextMenu.hideMenu(),this.options.retainFocus&&setTimeout(function(){o._setFocus()},200));break;case t.ui.keyCode.TAB:this._dropDownMenu.is(":visible")&&(e.stopPropagation(),e.preventDefault(),t.ZContextMenu.hideMenu());break;default:this._dropDownMenu.is(":visible")&&(alphaNumericKey=String.fromCharCode(i),this._callOptionsSearch(alphaNumericKey,(new Date).getTime()))}this._inEditMode||(e.stopPropagation(),e.preventDefault())},_callOptionsSearch:function(t,e){var i=!1;""!==this._prevKeydownTime&&e-this._prevKeydownTime>700?(i=this._prevSearchKey==t,this._prevSearchKey=t):this._prevSearchKey=this._prevSearchKey+t,this._prevKeydownTime=e,this._optionMenuSearch(i)},_optionMenuSearch:function(t){var e=new RegExp("^"+this._prevSearchKey.replace(/[|()\[{.+*?$\\]/g,"\\$0"),"i"),i=t&&this._prevSearchIndex<this._optionTextArray.length-1?this._prevSearchIndex+1:0;for(x=i;x<this._optionTextArray.length;x++)if(this._optionTextArray[x].text.match(e)){this._prevSearchIndex=x;var n=!1;for(y=x+1;y<this._optionTextArray.length;y++)this._optionTextArray[y].text.match(e)&&(n=!0);return n||(this._prevSearchIndex=-1),void this._setCurrentSearchOption(x)}},_optionInputSearch:function(e){var i=new RegExp("^"+e.replace(/[|()\[{.+*?$\\]/g,"\\$0"),"i");for(x in this._optionTextArray){var n=this._optionTextArray[x].text;if(n&&n.match(i))return t("option[value='"+this._optionTextArray[x].value+"']",this.element)}},_triggerEvent:function(e,i){var n={combo:t(this.element),value:t(this.element).val()};return i&&(n=t.extend(n,i)),this._trigger(e,e,n)},destroy:function(){this._baseElement.off("."+this.widgetName),this._dropDownMenu.zmenu("destroy").remove(),t.Widget.prototype.destroy.apply(this,arguments)},_getOptionWithValue:function(t){var e=document.getElementById(this.element.attr("id")).options,n=void 0;for(i=0;i<e.length;i++)t==e[i].value&&(n=e[i]);return n},updateLabel:function(e,i){if("string"==typeof i){var n;if("string"==typeof e?n=/^(\.|\#)/.test(e)?t(e,this.element):t(this._getOptionWithValue(e)):(e.nodeType||e.jquery)&&(n=t(e,this.element)),n.length){n.text(i);var o=this._dropDownMenu.find("li[index="+n.attr("optionfor")+"]");this._dropDownMenu.zmenu("changeLabel",o,i),n[0].selected&&this._setOptionValue(n[0].index,!0)}}},setValue:function(e){this._onLoadCheck&&this._reloadDropDownMenu();var i=this._getOptionWithValue(e);i?this._setOptionValue(i.index,!0):this.options.editable?(this.selected=void 0,e||(e=""),t(".ui-zmenu-text",this._optArea).text(e)):(this.selected=void 0,this._optArea.empty())},getValue:function(){var t=this._getOptionElements();return t.get(this.element.get(0).selectedIndex).value},getSelectedOption:function(){var t=this.getSelectedIndex();return this._getOptionElements()[t]},getSelectedIndex:function(){return this.element.get(0).selectedIndex},setSelectedIndex:function(t){this._onLoadCheck&&this._reloadDropDownMenu();var e=this.element.get(0);return this._setOptionValue(t,!0),e.selectedIndex},getDropDown:function(){return this._onLoadCheck&&this._reloadDropDownMenu(),this._dropDownMenu},getDropDownId:function(){return this._dropDownMenuId},disable:function(){t(this._baseElement).attr("disabled","true"),t(this._baseElement).addClass("ui-state-disabled"),t(this._dropDownArrow).attr("disabled","true"),t(this._dropDownArrow).addClass("ui-state-disabled")},enable:function(){t(this._baseElement).removeAttr("disabled"),t(this._baseElement).removeClass("ui-state-disabled"),t(this._dropDownArrow).removeAttr("disabled"),t(this._dropDownArrow).removeClass("ui-state-disabled")},widget:function(){return this._baseElement},refresh:function(){this._reloadDropDownMenu()},_reloadDropDownMenu:function(){this._optionTextArray=[],this._onLoadCheck=!1,this._dropDownMenu.zmenu("removeAllMenuItems");var t=this._buildDropDown();this._buildComboMenu(t)},show:function(){this._baseElement.show()},hide:function(){this._baseElement.hide()}};t.widget("ui.zcombo",e),t.ui.zcombo.defaults={editable:!1,autoFill:!0,dropDownClass:"",type:"icon_text",applyOptionStyles:!0,applyOptionClass:!0,applyOptionStylesOnCombo:!1,retainFocus:!0,optgroupAsSplitMenu:!1,dropDownMenuHeight:void 0}}(jQuery),$(document).ready(function(){$.widget("ui.zfontcombo",$.ui.zcombo,{widgetEventPrefix:"combo",_buildComboMenu:function(t){var e=this,i=function(t,i){var n=i._option;t.is("[mtype=separator]")||(e.options.applyOptionStyles&&n.is("[style]")&&t.attr("style",n.attr("style")),e.options.applyOptionClass&&n.is("[class]")&&t.addClass(n.attr("class")))};if(this._dropDownMenu)this._dropDownMenu.zmenu("addMenuItems",t,i);else{this._dropDownMenuDiv=$("<div>").attr({id:"combo_"+this.element.attr("id")+"Div",data:"{'componentOptions':{'positionAlterable': false,'bindKeys': false,'height': "+this.options.dropDownMenuHeight+",'menuClass': 'ui-zcombo-dropdown'}}"}).appendTo("body"),this._dropDownMenuId="combo_"+this.element.attr("id")+"Menu",this._dropDownMenu=$.ui.zmenu.createMenu(this._dropDownMenuId,t,{fixed:!0,positionAlterable:!1,type:this.options.type,bindKeys:!0,addItemCallback:i,height:this.options.dropDownMenuHeight,menuClass:"ui-zcombo-dropdown"}),this._dropDownMenu.appendTo(this._dropDownMenuDiv),this._dropDownMenuDiv.append($("<div id='addfonts' class='ui-moreOptions'><span class='ui-fr'>"+$.i18n("common","ADD_FONTS")+"</span><span class='ui-icon-plus-addfonts ui-fr ui-right-margin-small'></span></div>")),this._dropDownMenuDiv.attr({position:"adjustable",relativeTo:"parent"}),this._dropDownMenuDiv.find(".ui-moreOptions").click(function(t){FontLibrary.openFontLibraryDlg(),$.ZContextMenu.hideMenu()}),this._dropDownArrow.click(function(t){e._showDropDown(t)}).attr("popup","combo_"+this.element.attr("id")+"Div");var n=this._baseElement.width();n>this._dropDownMenu.width()&&this._dropDownMenu.width(this._baseElement.width()),this._optArea.click(function(t){e._showDropDown(t,!0)}),this._dropDownMenu.metadata().toggle=!0}var o=this._onLoadCheck?this._defaultIndex:this.element.get(0).selectedIndex;this._setOptionValue(o,!0)},_addEvents:function(){var t=this;this._dropDownMenuDiv.on("menuhide."+this.widgetName,function(e,i){t._triggerEvent(t._EVENTS.ONHIDE),t._baseElement.focusout().blur()}),this._dropDownMenuDiv.on("menubeforeshow."+this.widgetName,function(e,i){var n=t._triggerEvent(t._EVENTS.ONBEFORESHOW);return!!n&&void t._dropDownMenu.zmenu("showMenuItemAsSelected",t._getOptionMenuPosition(t.selected))}),this._dropDownMenuDiv.on("menushow."+this.widgetName,function(e,i){t._dropDownMenu.addClass("ui-zmenu-scroll"),t._dropDownMenu.height(t.options.dropDownMenuHeight-38),t._dropDownMenuDiv.height(t.options.dropDownMenuHeight),t._dropDownMenuDiv.attr("class","ui-zmenu"),t._triggerEvent(t._EVENTS.ONSHOW),t._setFocus()}),this._dropDownMenuDiv.on("menuitemhovered."+this.widgetName,function(e,i){var n={focusItem:i.menuitem,focusValue:$("option[optionfor='"+$(i.menuitem).attr("index")+"']",this.element).val()};t._triggerEvent(t._EVENTS.ONOPTIONFOCUS,n)}),this._dropDownMenu.on("menuitemclicked."+this.widgetName,function(e,i){t._triggerEvent(t._EVENTS.ONCLICK);var n="option[optionfor='"+$(i.menuitem).attr("index")+"']";if(t.options.optgroupAsSplitMenu){var o=$(i.menuitem).data();o&&o.isoptgroup&&(n="#"+o.optgroupid+" :eq(0)")}t._setOptionValue($(n,t.element).get(0).index,!1,$(i.menuitem)),t.options.retainFocus&&setTimeout(function(){t._setFocus()},200),$.ZContextMenu.hideMenu()}),this._baseElement.on("keydown."+this.widgetName,function(e){t._keyPress(e)})}})});var ZWSave=function(t){var e={keys:{"title.label":"Move To","filename.label":"File Name:","movefilealert1.label":"Cannot move the file to the selected location because already there is another file with the same name.","movefilealert2.label":"Cannot move the file because the source and destination location are same.","permissionerrormove.label":"Cannot move in this folder. Your permission has been changed.","unknownerrormove.label":"Unable to move due to an unknown error.","move.label":"Move","cancel.label":"Cancel"},fileId:void 0,extension:void 0,fileName:""},i=!1,n={extension:void 0,canDuplicate:void 0,folderId:void 0,myFolderId:void 0,parentId:void 0,myFolderTree:void 0,sharedWithMe:void 0,currentPath:void 0,recentFolders:void 0,isOwner:void 0},o={widgetEventPrefix:"zwsave",_EVENTS:{ONOPEN:"open",ONFINISH:"done",ONCLOSE:"close"},_init:function(i){this.options=t.extend({},e,i),n.documentName=this.options.fileName,n.extension=this.options.extension,this._createDialog()},_createDialog:function(){var e=this,s=(window.innerWidth-710)/2,a=(window.innerHeight-270)/7;this._movetoDialog=t("<div>").attr({id:"ui-zwsave-dialog"}).appendTo("body"),this._movetoDialog.on("dialogopen",function(){i=!0}).on("dialogclose",function(){e._close()}).zdialog({dialogClass:"ui-zwsave-dialog",modal:!0,autoOpen:!1,hideOnClose:!1,position:[s,a],width:750,buttons:[{text:e.options.submitBtnTitle,click:function(i){var o=!0;if(e._selectedFolderElement.children().children().find("li.ui-zfileexplorer-file").each(function(){if(t(this).text().toLowerCase()===n.documentName.toLowerCase()&&t(this).data().zext===n.extension)return o=!1,!1}),o){var s=t("#ui-zwsave-movebutton");if(s.children(".ui-button-text").text("Moving"),s.addClass("ui-button-text-icon-primary").disable(),s.children().first().hasClass("zc-loading-spinner")||s.prepend(t("<span>").attr({class:"ui-button-icon-primary ui-icon zc-loading-spinner"})),e.options.onMove){var a=n.myFolderId===e._selectedFodlerID||void 0===e._selectedFodlerID||""===e._selectedFodlerID?"-1":e._selectedFodlerID;e.options.onMove({folderId:a})}}else{var r;r=e._recentlyClicked.attr("id")==="ui-zfolder-"+e._currentFolderLoc+"-li"?e._getString("movefilealert2.label"):e._getString("movefilealert1.label"),ZComponents.showMessageDialog({secondary:r,onClose:function(e){e.isCancel||setTimeout(function(){t("#ui-zwsave-movebutton").focus()},200)}})}},id:"ui-zwsave-movebutton",class:"ui-zbutton-primary"},{text:e._getString("cancel.label"),click:function(t){o._close()},id:"ui-zwsave-closebutton",class:"ui-zbutton-secondary"}],title:e.options.title,resizable:!1}),this._dialogBase=this._movetoDialog.parent(),this._movetoDialog.zdialog("open",[s,a]),ZFileExplorer.open({fileId:this.options.fileId,renderTo:"ui-zwsave-dialog",onInit:function(){t("#ui-zfileexplorer-newfolder").on("click",function(){t("#ui-zwsave-movebutton").disable()}),t("#ui-zwsave-closebutton").mousedown(function(){t("#ui-zsa-newfolder").remove()})},onSelect:function(i){e._selectedFodlerID=i.selectedFodlerID,e._recentlyClicked=i.recentlyClicked,e._currentFolderLoc=i.parentId,e._selectedFolderElement=i.selectedFolderElement,e._folderWritePermission=i.folderWritePermission,e._folderWritePermission===!1?t("#ui-zwsave-movebutton").disable():t("#ui-zwsave-movebutton").enable()},onError:function(t){e._serverError(t.errorMsg)}});var r=!1;this._movetoDialog.click(function(i){t(i.target).closest("#ui-zfileexplorer-location").length||(t("#ui-zfileexplorer-location").off("keydown"),r=!1,e._bindTabkeyEvents(),e._recentlyClicked.removeClass("current-selected"))}),t("#ui-zfileexplorer-location").click(function(e){t("#ui-zfileexplorer-location").attr("tabindex",0),r||(r=!0,t("#ui-zfileexplorer-location").focus())}),t(".ui-zwsave-dialog").bind("contextmenu",function(t){if("text"!==t.target.type)return!1})},_bindTabkeyEvents:function(){var e=this;t(".ui-zwsave-dialog").off("keydown").keydown(function(i){var n=i.charCode||i.keyCode;if(9===n){var o=t(".ui-zwsave-dialog").find(":focus"),s=o.attr("id");("ui-zwsave-movebutton"===s||"ui-zwsave-closebutton"===s&&t("#ui-zwsave-movebutton").hasClass("ui-state-disabled"))&&(!t("#ui-zfileexplorer-searchLists").children().length||t("#ui-zfileexplorer-searchLists").children().hasClass("ui-zwsave-noresult_found")||e._recentlyClicked.closest("#ui-zfileexplorer-searchLists").is("#ui-zfileexplorer-searchLists"))?(t("#ui-zfileexplorer-searchLists").children().length&&!t("#ui-zfileexplorer-searchLists").children().hasClass("ui-zwsave-noresult_found")||ZFileExplorer.handleSearchResult(),t("#ui-zfileexplorer-location").focus(),e._recentlyClicked.trigger("click"),ZFileExplorer.handleScroll()):"ui-zwsave-cancelbutton"===s&&t("#ui-zfileexplorer-searchLists").children().length?(t("#ui-zfileexplorer-location").focus(),t("#ui-zfileexplorer-searchLists > div > div > ul > li:first").trigger("click"),ZFileExplorer.handleScroll()):i.shiftKey&&("ui-zfileexplorer-newFolderButton"!==s||t("#ui-zfileexplorer-searchLists").children().length&&!t("#ui-zfileexplorer-searchLists").children().hasClass("ui-zwsave-noresult_found")&&!e._recentlyClicked.closest("#ui-zfileexplorer-searchLists").is("#ui-zfileexplorer-searchLists")?"ui-zfileexplorer-search"===s&&t("#ui-zfileexplorer-newFolderButton").hasClass("ui-state-disabled")&&(!t("#ui-zfileexplorer-searchLists").children().length||t("#ui-zfileexplorer-searchLists").children().hasClass("ui-zwsave-noresult_found")?(ZFileExplorer.handleSearchResult(),e._recentlyClicked.trigger("click")):t("#ui-zfileexplorer-searchLists > div > div > ul > li:first").trigger("click"),t("#ui-zfileexplorer-location").focus(),ZFileExplorer.handleScroll()):(t("#ui-zfileexplorer-searchLists").children().length&&!t("#ui-zfileexplorer-searchLists").children().hasClass("ui-zwsave-noresult_found")||ZFileExplorer.handleSearchResult(),t("#ui-zfileexplorer-location").focus(),e._recentlyClicked.trigger("click"),ZFileExplorer.handleScroll()))}})},_serverError:function(e){var i=t('<div id="ui-fc-server-error" class="ui-fc-server-error"><div class="zc-server-error"><span id="zc-server-error-close" title="Close" class="ui-zfc-icon ui-icon-closethick"></span><div class="zc-server-error-msg">'+e+" </div> </div> </div>");i.insertBefore(t("#ui-zwsave-dialog")),i.slideDown(200).delay(1500).slideUp(200),t("#zc-server-error-close").click(function(t){i.slideUp(200)})},_getString:function(t,e,i){return FCUtil.getI18NString(e?e:"zsaveas",t,i,this.options.keys)},_close:function(){this._movetoDialog.zdialog("destroy"),i=!1,t(document).off("click.zsa mouseover.zsa"),ZFileExplorer.close(),this._movetoDialog.remove(),t("#ui-zwsave-recent-folders,#ui-zwsave-file-format").remove()}};return{open:function(t,e){i||o._init(t)},close:function(){o._close()}}}(window.jQuery);!function(t){var e={_toolbarButtons:void 0,_lastRemovedButton:void 0,options:{enableAutoResize:!0},_eleArr:[],_ctypeElems:".ui-zoom-panel,.ui-hiddenslider,.ui-zslider-panel,.ui-zstate,.ui-zspinner,.ui-ztoggle",_create:function(){this._radioButtonAsMenu=!1,this.options.buttonsetLabelPosition=this.options.buttonsetLabelPosition||this.element.attr("buttonsetLabelPosition"),this.options=t.extend({},t.ui.ztoolbar.defaults,this.options),this.element.addClass("ui-ztoolbar-panel ui-ztoolbar-label-"+this.options.buttonsetLabelPosition),this._isDocumentResized=!1,this._fixToolbarWidth(),this._initItems(),this._eleArr=[],this._addEvents();var e=this,i=function(){e._onDocumentResized()};setTimeout(i,500)},widgetEventPrefix:"toolbar",_EVENTS:{ONINIT:"init",ONBUTTONCLICKED:"buttonclicked",ONTOOLBARSHRINK:"shrank",ONTOOLBAREXPAND:"expanded",ONBUTTONDOUBLECLICKED:"buttondblclicked",ONTOOLBARHIDE:"hide",ONTOOLBARSHOW:"show"},_addEvents:function(){var e=this;if(e.options.enableAutoResize){var i=function(){t(window).on("resize."+e.widgetName,t.debounce(500,function(t){e._onDocumentResized(t)}))};setTimeout(i,100)}this.element.on("click."+this.widgetName,function(t,i){t.data=i,e._fireEvent(t,e)}),this.element.on("dblclick."+this.widgetName,function(t,i){t.data=i,e._fireEvent(t,e)}),this._triggerEvent(this._EVENTS.ONINIT,!1,this.element)},_parseAndFixGroups:function(){var e=this.element.children("[ttype=group]");e.each(function(e,i){i=t(i);var n=i.children();n.each(function(e){var o=t(n[n.length-1-e]);o.insertAfter(i),o.attr("gname",i.attr("id"))}),i.remove()})},_initItems:function(){this._toolbarButtons=this.element.children();var e=t("<div>").addClass("ui-ztoolbar-inner-panel");this.element.append(e),this._toolbarButtons.each(function(t,i){e.append(i)}),this.innerPane=e;var i=this._toolbarButtons.filter(":not([ctype],select)"),n=this;i.each(function(e,i){var o=t(i),s=o.metadata();s.buttonset?(s.noseparator?o.addClass("ui-buttonset-nosep"):o.next().length||o.addClass("ui-buttonset-nosep"),o.zbutton({iconScope:"ui-components-toolbar-icon",labelPosition:n.options.buttonsetLabelPosition}),s.label&&"bottom"===n.options.buttonsetLabelPosition&&t("<span>").attr("class","ui-group-text").text(s.label).appendTo(o)):"custom"!==o.data("uitype")&&(o.is("select")?n._initCombo(o):o.zbutton({iconScope:"ui-components-toolbar-icon"}))});var o=this._toolbarButtons.children("select:not([ctype])");this._initCombo(o)},_initCombo:function(e){e.each(function(e,i){var n=t(i).metadata().componentOptions;t(i).zcombo(n)})},_registerShortcutkey:function(e){t.ui.shortcutkeys&&e.length&&(shortcut=t.ui.shortcutkeys.register(e))},_getLastEle:function(){return t(this.innerPane).children(":visible").last()},_fixToolbarWidth:function(){this.element.css("width",this.element.parent().width())},_getOffsets:function(t){t||(t=this._getLastEle());var e=t.length>0?Math.round(t.offset().left+t.outerWidth()):0,i=Math.round(this.element.width()+this.element.offset().left);return{buttonEnd:e,toolbarEnd:i}},_isInBounds:function(t){var e=this._getOffsets();return e.toolbarEnd>e.buttonEnd},_onDocumentResized:function(){return this.element.is(":hidden")||!t(this.innerPane).is(":visible")?void(this._isDocumentResized=!0):(this._fixToolbarWidth(),void(this._isInBounds()?(this._expandToolbar(),this._triggerEvent(this._EVENTS.ONTOOLBAREXPAND,!1,this.element)):(this._shrinkToolbar(),this._triggerEvent(this._EVENTS.ONTOOLBARSHRINK,!1,this.element))))},resizeTooolbar:function(){this._onDocumentResized()},_isButtonInButtonSet:function(e){return!!e.length&&(t(e).parent().hasClass("ui-button-splitbutton")?t(e).parent().parent().metadata().buttonset:t(e).parent().metadata().buttonset)},_isButtonSet:function(t){return t.metadata().buttonset},_addExtendedMenuButton:function(e){if(!this.extendMenuButton){var i=this._getLastVisibleButton();this.extendMenuButton=t("<button class='ui-ztoolbar-splitmenu'>"+t.i18n("zcommon","moreoptions.label")+"</button>"),this.extendMenuButton.attr("data","{'text': false, 'icons':{'primary': 'ui-icon-carat-1-e'}}"),this.extendMenuButton.zbutton();var n=this.element.attr("id")+"Menu";this.extendMenuButton.attr("popup",n),this.extendedMenuPopup=t.ui.zmenu.createMenu(n,t(e)),this.extendMenuButton.css("width","16px"),this.extendMenuButton.appendTo(t(i).parent())}},_removeExtendedMenuButton:function(){this.extendedMenuPopup.zmenu("destroy").remove(),this.extendMenuButton.button("destroy").remove(),this.extendedMenuPopup=this.extendMenuButton=void 0},_shrinkToolbar:function(){if(!this._isInBounds()){var e=this._getButton();if(!e.length)return;if(this._eleArr.push(e),this._isButtonInButtonSet(e)){var i=e.parent();i=i.metadata().innerButtonset?i.parent():i,i.hasClass("ui-button-splitbutton")&&(i=i.parent());var n=i.attr("id");if(i.hasClass("ui-zbutton-radioset")){i.zbutton("shrinkButtonSetAsMenu",i),this._eleArr.pop(e),this._eleArr.push(i);var o=n+"Menu",s=o+"Button";t("#"+o).off("menuitemclicked").on("menuitemclicked",function(t,e){var n=e.menuitem.metadata();i.zbutton("changeIcon",{primary:n.icons.primary+" ui-components-toolbar-icon"},s),i.zbutton("changeLabel",n.label,s)})}else i.zbutton("shrinkButtonSet",[e]);t("#"+n).off("element_state_changed").on("element_state_changed",function(e,i){var o=!i.disabled;t("#"+n+"Menu").zmenu("disableMenuItem","shrinked_menuitem_"+t(e.target).attr("id"),o);var s=!!i.checked;t("#"+n+"Menu").zmenu("check","shrinked_menuitem_"+t(e.target).attr("id"),s)})}else{var a=e.zbutton("getAsObject",e,!0);e.metadata().alteredId=a.id,this.extendMenuButton?this.extendedMenuPopup.zmenu("addMenuItem",a,0):this._addExtendedMenuButton(a),e.hide();var r=this;e.off("element_state_changed").on("element_state_changed",function(e,i){var n=!i.disabled;r.extendedMenuPopup.zmenu("disableMenuItem","shrinked_menuitem_"+t(this).attr("id"),n);var o=!!i.checked;r.extendedMenuPopup.zmenu("check","shrinked_menuitem_"+t(this).attr("id"),o)})}this._shrinkToolbar()}},_expandToolbar:function(){if(this._eleArr&&this._eleArr.length>0){var e=t(this._eleArr[this._eleArr.length-1]),i=e.outerWidth(!0),n=0;if(this.innerPane.children(":visible").each(function(){n+=t(this).outerWidth(!0)}),n+i<this.element.width()){if(this._isButtonSet(e))e.zbutton("expandButtonSet",[e],!0),e.hasClass("ui-zbutton-radioset")&&(this._radioButtonAsMenu=!1);else if(this._isButtonInButtonSet(e)){var o=e.parent();o.hasClass("ui-button-splitbutton")?o.parent().zbutton("expandButtonSet",[e]):o.metadata().innerButtonset?o.parent().zbutton("expandButtonSet",[e]):o.zbutton("expandButtonSet",[e])}else e.show(),this.extendedMenuPopup.zmenu("removeMenuItem",e.metadata().alteredId);this._eleArr.splice(this._eleArr.length-1,1),this._expandToolbar()}}this.extendedMenuPopup&&0==this.extendedMenuPopup.zmenu("getItemCount")&&this._removeExtendedMenuButton()},_isSplitButton:function(t){return t.is("div.ui-buttonset")},_getLastVisibleButton:function(){return t(this.innerPane).children(".ui-button:visible:not(.ui-buttonset-sep,.ui-splitbutton,.ui-ztoolbar-splitmenu)").last()},_getButton:function(){var e="",i=void 0,n="",o=(this._radioButtonAsMenu?".ui-buttonset:visible:not(div.ui-button-splitbutton)":".ui-zbutton-radioset:visible",this._radioButtonAsMenu?".ui-buttonset":".ui-zbutton-radioset"),s=t(this.innerPane).children(o+",.ui-zbutton-group:visible:not(.ui-buttonset-sep,div.ui-button-splitbutton)");if(t(s.get().reverse()).each(function(e,o){if(!i){var s=t(o);if(s.is(".ui-buttonset")){var a=s.children(":visible:not(.ui-group-text,.ui-buttonset-sep,.ui-extended-buttonset,input,.ui-buttonset-label, .ui-zcombo)");s.metadata().mainButtonset?t(a).each(function(e,o){if(n=t(o),n.children(":visible:not(.ui-group-text,.ui-buttonset-sep,.ui-extended-buttonset,input,.ui-buttonset-label, .ui-zcombo)").length>1)return void(i=n)}):n=s}else n=s;return n&&n.children(":visible:not(.ui-group-text,.ui-buttonset-sep,.ui-extended-buttonset,input,.ui-buttonset-label, .ui-zcombo)").length>1?void(i=n):void 0}}),i&&(e=i.hasClass("ui-button")?i:i.children(":visible:not(.ui-group-text,.ui-buttonset-sep,.ui-extended-buttonset,.ui-buttonset-label, input)").last()),!e.length){if(!this._radioButtonAsMenu)return this._radioButtonAsMenu=!0,this._getButton();e=this._getLastVisibleButton()}return!!e.length&&e},_getCorrespondingToolbarButton:function(e){var i=e;do{if(t.inArray(i,this._toolbarButtons))return i;i=i.parent()}while(i==this.element)},_fireEvent:function(e,i){var n=t(e.target),o=n.is("input")?n:n.closest(".ui-button");o.is(":not(input)")&&o.is(":not(button)")||o.is(":disabled")||this._triggerEvent(this._getEvent(e),e,o)},_getEvent:function(t){var e=void 0;switch(t.type){case"click":e=this._EVENTS.ONBUTTONCLICKED;break;case"mouseover":e=this._EVENTS.ONMOUSEOVER;break;case"mouseout":e=this._EVENTS.ONMOUSEOUT;break;case"dblclick":e=this._EVENTS.ONBUTTONDOUBLECLICKED}return e},_getGroupBtnAsObj:function(t,e){var i=t.attr("data"),n={};return n.data=i,n.label=t.metadata().label,e?n.submenu="#"+t.parent().attr("id")+"menu":n.mtype="group",n},_filterCtypeElems:function(e){var i=[];return t.each(e,function(e,n){var o=t(n).parent();(o.hasClass("ui-zbutton-group")||o.hasClass("ui-buttonset"))&&i.push(n)}),i},_initAsMenu:function(){var t=this.element.parent().parent().find("a[href='#"+this.element.attr("id")+"']").parent().find(".ui-ztab-dropdown");if(t){var e=this.getToolbarAsMenu();e.attr("relativeto","parent"),t.attr("popup",t.attr("toolbar")),t.removeAttr("toolbar")}},getToolbarAsMenu:function(){var e=t(this.element.children()[0]).children(":not([ctype],select,"+this._ctypeElems+",.ui-zcolorchooser)"),i=t(this.element).attr("id")+"menu",n=this;this._menuArray=new Array,t(e).each(function(e,i){var o=t(i),s=o.children().filter(":not([ctype],select,"+n._ctypeElems+",.ui-zcolorchooser,.ui-zslider-panel,.ui-buttonset-sep,.ui-buttonset-sub-sep,.ui-zcombo,.ui-buttonset-label,.ui-group-text)").length;o.hasClass("ui-buttonset")&&!s||"custom"===o.data("uitype")||n.getButtonAsObj(o,void 0)});var o=t.ui.zmenu.createMenu(i,this._menuArray,{positionAlterable:!1,menuClass:"ui-ztab-toolbar-menu"});o.on("menuitemiconchange",function(e,i){var n=i.menuitem.metadata().relatedButton,o=t(n);o.parent().hasClass("ui-buttonset")?o.parent().zbutton("changeIcon",{primary:i.icon},n):o.zbutton("changeIcon",{primary:i.icon})}).on("menuitemlabelchange",function(e,i){var n=i.menuitem.metadata().relatedButton,o=t(n);o.parent().hasClass("ui-buttonset")?o.parent().zbutton("changeLabel",i.label,n,!0):o.zbutton("changeLabel",i.label,void 0,!0)}).on("menuitemhovered",function(e,i){t.ZContextMenu.displayMenuComponents(e,i)});var s=this.element.parent().parent().find("a[href='#"+this.element.attr("id")+"']").parent();return o.data("tabId",s.attr("id")),this._initButtonsEvents(this.element,o),o},getGroupAsObj:function(e,i,n){var o=this;e=e.filter(":not([ctype],select,"+o._ctypeElems+")"),t(e).each(function(t,e){o.getButtonAsObj(e,i,n)})},getButtonAsObj:function(e,i){var n=this,o=t(e),s=void 0,a=o.metadata(),r=o.hasClass("ui-buttonset")&&!o.hasClass("ui-button-splitbutton");if(r){var l=o.next(),u=!!a.innerButtonset&&!!o.next(":not(.ui-buttonset-sep)").length,h=o.children(":not([ctype],select,"+n._ctypeElems+",.ui-extended-buttonset,.ui-group-text,.ui-buttonset-label,.ui-buttonset-sep,.ui-buttonset-sub-sep,.ui-zcolorchooser,.ui-zcombo)");"bottom"!==this.options.buttonsetLabelPosition||i?"left"===this.options.buttonsetLabelPosition&&(i||a.mainButtonset||h.children().length&&(s=o.zbutton("getAsObject",void 0,!1,n.options.setGroupAsSubmenu),s.mtype="group",n._menuArray.push(s))):h.children().length&&(s=o.zbutton("getAsObject",void 0,!1,n.options.setGroupAsSubmenu),s.mtype="group",n._menuArray.push(s)),t(h).each(function(e,o){o=t(o);var a=void 0,r=!1;if(!o.is("input")&&!o.is("select")&&(i?a=i:o.hasClass("ui-button")||o.hasClass("ui-button-splitbutton")?a=o.parent():o.hasClass("ui-buttonset")&&(a=o.parent(),r=!0),s=a.zbutton("getAsObject",o,!1,n.options.setGroupAsSubmenu),o.hasClass("ui-buttonset-container")||(s.externalAssociation=o,o.data("associatedMenuItem",s.id),n._menuArray.push(s)),r)){if("left"===n.options.buttonsetLabelPosition){var l=o.children(":not([ctype],select,"+n._ctypeElems+",.ui-extended-buttonset,.ui-group-text,.ui-buttonset-label,.ui-buttonset-sep,.ui-buttonset-sub-sep,.ui-zcolorchooser,.ui-zcombo)");l.length&&(s.mtype="group",n._menuArray.push(s))}n.getButtonAsObj(o,a)}});var d=l.children().filter(":not([ctype],select,"+n._ctypeElems+",.ui-zcolorchooser,.ui-zcombo,.ui-buttonset-label,.ui-group-text)"),c=o.children().filter(":not([ctype],select,"+n._ctypeElems+",.ui-zcolorchooser,.ui-buttonset-sep,.ui-icon-dot-separator,.ui-zcombo,.ui-buttonset-label,.ui-group-text)");if(!l.hasClass("ui-zcombo")&&!l.is("select")&&!l.hasClass("ui-buttonset-sep")&&d.length&&c.length){var p=l.metadata();p.buttonset?p.label||n._menuArray.push({mtype:"separator",isGroupSep:u}):n._menuArray.push({mtype:"separator",isGroupSep:u})}}else{if(o.hasClass("ui-ztoolbar-splitmenu"))return;if(!o.hasClass("ui-zcombo")){var m=o.hasClass("ui-button-splitbutton")?o.children("button:first"):o;if(m.is("input"))return;s=m.zbutton("getAsObject"),s.externalAssociation=m,m.data("associatedMenuItem",s.id),n._menuArray.push(s)}}},_initButtonsEvents:function(t,e){t.on("buttoniconchange",function(t,i){i.button.data("association")&&e.zmenu("changeIcon",i.button.data("association"),i.icons.primary)}).on("buttonlabelchange",function(t,i){i.button.data("association")&&e.zmenu("changeLabel",i.button.data("association"),i.label)})},_triggerEvent:function(t,e,i){e||(e=t);var n={target:i};e.data&&(n.eventData=e.data),this._trigger(t,e,n)},destroy:function(){this.element.off("."+this.widgetName),this.element.off("click."+this.widgetName),this.element.off("mouseover."+this.widgetName),this.element.off("mouseout."+this.widgetName)},_getGroupButtons:function(e){var i=t("[gname="+e+"]",this.element);return i},_hideButton:function(e,i){var n="string"==typeof e?t("#"+e,this.element):t(e),o=this._getElementType(n),s=i?"show":"hide";o?t(n)[o]("widget")[s]():t(n)[s]()},_hideButtons:function(t,e){var i=this;t.each(function(t,n){i._hideButton(n,e)})},_hideGroup:function(t,e){var i=this._getGroupButtons(t);this._hideButtons(i,e)},showGroup:function(t){this._hideGroup(t,!0)},hideGroup:function(t){this._hideGroup(t)},hideButton:function(t){this._hideButton(t)},showButton:function(t){this._hideButton(t,!0)},hideButtons:function(e){var i=this;t(e).each(function(t,e){i._hideButton(e)})},showButtons:function(e){var i=this;t(e).each(function(t,e){i._hideButton(e,!0)})},_getElementType:function(t){return(t.is("input")||t.is("select"))&&(t=t.next()),t.is(".ui-zcombo")?"zcombo":t.is(".ui-button")?"button":void 0},_disableButton:function(e,i){var n="string"==typeof e?t("#"+e,this.element):t(e),o=this._getElementType(n);o?n[o](i?"enable":"disable"):n[i?"enable":"disable"]();var s=n.data("menuButton");s&&s.button(i?"enable":"disable");var a={element:n,disabled:!i};n.removeClass("ui-state-hover"),n.trigger("element_state_changed",a)},_disableButtons:function(t,e){var i=this;t.each(function(t,n){i._disableButton(n,e)})},_disableGroup:function(t,e){var i=this._getGroupButtons(t);this._disableButtons(i,e)},enableGroup:function(t){this._disableGroup(t,!0)},disableGroup:function(t){this._disableGroup(t)},disableButton:function(t){this._disableButton(t)},enableButton:function(t){this._disableButton(t,!0)},disableButtons:function(e){var i=this;t(e).each(function(t,e){i._disableButton(e)})},enableButtons:function(e){var i=this;t(e).each(function(t,e){i._disableButton(e,!0)})},checkAndFixToolbar:function(){this._onDocumentResized()},_disable:function(e){var i=this.getToolbarButtons();this._disableButtons(i,!!e);var n=this.element.find("[ctype]");t.each(n,function(i,n){t(n)[t(n).attr("ctype")](e?"enable":"disable")});var o=this.element.find("select");t.each(o,function(i,n){t(n).data("zcombo")&&t(n).zcombo(e?"enable":"disable")})},disable:function(){this._disable()},enable:function(){this._disable(!0)},getToolbarButtons:function(){var e=t(this.element).find("label.ui-button").not(".ui-buttonset-label").prev("input"),i=t(this.element).find("button.ui-button").not(".ui-buttonset-label");return e.push(i),t(e)},setExcludeElements:function(t,e){t&&(e?this._ctypeElems=t:this._ctypeElems=this._ctypeElems+t)},show:function(){var e=this,i=this.element.parent();i.removeClass("ui-ztab-toolbar-border").animate({height:i.data("tabHeight")},100,void 0,function(){e._triggerEvent(e._EVENTS.ONTOOLBARSHOW,t(e))})},hide:function(){var e=this.element.parent();e.css("height","").data("tabHeight",e.innerHeight()).addClass("ui-ztab-toolbar-border");var i=this;e.animate({height:0},100,void 0,function(){i._triggerEvent(i._EVENTS.ONTOOLBARHIDE,t(i))})}};e=t.extend({},e),t.widget("ui.ztoolbar",e),t.ui.ztoolbar.defaults={buttonClickedEvent:"toolbar_button_clicked",valueChangedEvent:"combo_value_changed"}}(jQuery),function(t){t.widget("ui.zvalidation",{widgetEventPrefix:"zvalidation",validateNow:!1,validationObj:{},componentEvents:{ztab:"tabchange",zspinner:"spinnerchange",zhiddennumericalslider:"hiddensliderchange",slider:"sliderchange",zcolorpallete:"colorpalletechange",zcombo:"combochange",zstatebutton:"statechange",zspinnerslider:"spinnersliderchange",zmenu:"menuitemclicked"},_REGEX:{name:/^[A-Za-z0-9_.]+$/,nameWithSpace:/^[A-Za-z0-9_.\s]+$/,email:/^[a-zA-Z0-9]([\w\-\.\+]*)@([\w\-\.]*)(\.[a-zA-Z]{2,8}(\.[a-zA-Z]{2}){0,2})$/,url:/^((ht|f)tp(s?)|(HT|F)TP(S?))\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)([a-zA-Z0-9\-\.\?\,\:\'\/\\\+=&amp;%\$#_]*)?$/i,date:/^(((0[1-9]|[12]\d|3[01])\/(0[13578]|1[02])\/((19|[2-9]\d)\d{2}))|((0[1-9]|[12]\d|30)\/(0[13456789]|1[012])\/((19|[2-9]\d)\d{2}))|((0[1-9]|1\d|2[0-8])\/02\/((19|[2-9]\d)\d{2}))|(29\/02\/((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$/,nonEmpty:/\S/},_create:function(){this.options=t.extend({},t.fn.zvalidation.defaults,this.options),this.element.find("input[type=text]").attr("autocomplete","off"),this.bindEvents()},bindEvents:function(){var e=this,i=t(this.element.find("input, textarea, button").get(0)),n=this.element.find("input[tabindex], textarea[tabindex], button[tabindex]");if(n.length){var i=t(n.get(0)),o=i.prop("tabindex");n.each(function(e,n){t(n).prop("tabindex")<o&&(i=t(n),o=t(n).prop("tabindex"))})}i.focus();var s=this.element,a=this.options,r=a.submitButton,l=t(s).find("[data]");a.interactive&&l.on("blur",function(i){var n=t(i.target);if(e.beforeValidate(n),!r&&(e.validationObj=e.getValidationObj(l),e.options.validate)){var o=e.options.validate(e.validationObj);if(!o)return!1}});var u=t(s).find("[ctype]").not("[ctype=zstatebutton]");t.each(u,function(i,n){var o=t(n).attr("ctype"),s=e.componentEvents[o];s&&t(n).metadata().validateOptions&&t(n).on(s,function(i,o){e.isEmpty(o.value)?e.showErrorMessage(t(n)):e.hideErrorMessage(t(n))})});var h=t(s).find("input[type=radio],input[type=checkbox]");h.on("click",function(t){e.validateNonComponentField(t)}),t(s).find("select:not([ctype])").on("change",function(t){e.validateNonComponentField(t)}),r&&r.on("click",function(t){e.validateNow=!0;var i=e.validateAllFields(s);if(!i)return!1;if(a.validate){e.validationObj=e.getValidationObj(l);var n=e.options.validate(e.validationObj);if(!n)return!1}})},bindKeyDown:function(e){var i=this;e.off("keydown.zv").on("keydown.zv",function(e){var n=t(e.target);n.attr("modified",!0),window.setTimeout(function(){i.beforeValidate(n)},1)})},beforeValidate:function(t){if(!t.attr("ctype")){var e=!0;if(this.isEmpty(t.val())){if(t.is("[valuemodified=true]")){var i=t.metadata()&&t.metadata().validateOptions;this.showErrorMessage(t,i&&i.required?"required":null),e=!i||!i.required}}else t.attr("valuemodified",!0),e=this.validateField(t);return e}},getValidationObj:function(e){var i=this;return t.each(e,function(e,n){t(n).is("input[type=radio]")||t(n).is("input[type=checkbox]")||(i.validationObj[t(n).attr("name")]=t(n).val())}),i.validationObj},validateNonComponentField:function(e){if(this.validateNow){var i=t(e.target);if(!i.is("select")){var n="input[type="+i.attr("type")+"][name="+i.attr("name")+"]:first";i=t(this.element).find(n)}this.validateField(i)?this.hideErrorMessage(i):this.showErrorMessage(i)}},showErrorMessage:function(e,i,n){var o=e.metadata().validateOptions;if(i=i?i:o.required,n||(n="object"==typeof o.message&&o.message[i]?o.message[i]:"required"!=i?o.message:this.options.requiredMessage),i){e.addClass("ui-validation-error");var s=this.getRelativeToEle(e),a=s.next("label.ui-validation-error-message");if(a.show(),!a.length){var r="string"==typeof e.attr("id")?e.attr("id"):e.attr("name");a=t("<label>").attr("for",r).addClass("ui-validation-error-message"),a.insertAfter(s)}a.text(n),e.focus()}else this.hideErrorMessage(e)},getRelativeToEle:function(t){var e=t.metadata().validateOptions.relativeTo;if(e){for(var i=e.split("."),n=t,o=0;o<i.length;o++){try{var s=n[i[o]]();if(!s||!s.length)break}catch(t){break}n=s}n&&(t=n)}return t},hideErrorMessage:function(t){t.removeClass("ui-validation-error");var e=this.getRelativeToEle(t),i=e.next("label.ui-validation-error-message");i.length&&i.hide()},validateAllFields:function(e){var i=t(e).find("[data]:visible"),n=!0,o=!0,s=this;return t.each(i,function(e,i){t(i).metadata().validateOptions&&(n=s.validateField(t(i)),n||(o=!1))}),o},validateField:function(e){e.attr("modified")||this.bindKeyDown(e);var i=e.metadata().validateOptions;if("object"==typeof i){var n=e.val(),o=!0,s=!1,a=e.attr("ctype");"zstatebutton"!=a&&void 0!=a&&(n=e[a]("getValue"));var r=e.is("input[type=radio]")||e.is("input[type=checkbox]"),l=!this.isEmpty(n)&&!(r&&!i.required);if(l){switch(i.type){case"number":o=this.isNumberOnly(n);break;case"name":o=this.isValidName(n),o&&(o=this.hasValidLength(n,i),s=!0);break;case"email":o=this.isValidEmail(n);break;case"url":o=this.isValidURL(n);break;case"regex":o=this.checkRegex(n,i);break;case"radio":case"checkbox":o=this.isChecked(e)}o?this.hideErrorMessage(e):this.showErrorMessage(e,s?"length":"invalid")}else if(i.required)o=!1,this.showErrorMessage(e,"required");else if(r){var u="input[type="+e.attr("type")+"][name="+e.attr("name")+"]";t.each(t(this.element).find(u),function(e,i){base.validationObj[t(i).attr("name")]=t(i).is(":checked")})}return o}},isEmpty:function(t){var e=this._REGEX.nonEmpty;return t.toString().search(e)==-1},isValidName:function(t){var e=this._REGEX.name;return e.test(t)},isNumberOnly:function(t){return!isNaN(t)},checkRegex:function(t,e){var i="/",n=e.regex;return n instanceof RegExp||(n=0==n.indexOf(i)?n.substring(i.length):n,n=n.lastIndexOf(i)==n.length-1?n.substring(0,n.length-1-i.length):n,n=new RegExp(n)),!n||n.test(t)},hasValidLength:function(t,e){return!(e.minlength&&t.length<e.minlength)&&!(e.maxlength&&t.length>e.maxlength)},isValidEmail:function(t){var e=this._REGEX.email;return e.test(t)},isValidURL:function(t){var e=this._REGEX.url;return e.test(t)},isValidDate:function(t){var e=this._REGEX.date;return e.test(t)},isChecked:function(e){var i="input[type="+e.attr("type")+"][name="+e.attr("name")+"]",n=(this.element.find(i),this.element.find(i+":checked").length),o=!1;if(t(e).is("input[type=radio]"))o=n>0,o&&(this.validationObj[t(e).attr("name")]=t(e).attr("value"));else if(o=e.metadata().validateOptions.length?n>=e.metadata().validateOptions.length:n>0){var s=this;t.each(s.element.find(i+":checked"),function(e,i){s.validationObj[t(i).attr("name")]?s.validationObj[t(i).attr("name")]+=","+t(i).attr("value"):s.validationObj[t(i).attr("name")]=t(i).attr("value")})}return o}}),t.fn.zvalidation.defaults={requiredMessage:"This field is required",submitButton:void 0,interactive:!0}}(jQuery),function(t){function e(t,e){return"MODIFY"==e.mode?t*=parseFloat(e.value):"OFFSET"==e.mode?t+=parseFloat(e.value):"ABSOLUTE"==e.mode&&(t=parseFloat(e.value)),t}window.zcolor={darken:function(t,e){e=zcolor.limit(e,0,1);var i=[{mode:"MODIFY",value:1-e}];return this.hsl(t,{luminance:i})},lighten:function(t,e){e=zcolor.limit(e,0,1);var i=[{mode:"MODIFY",value:1-e},{mode:"OFFSET",value:e}];return this.hsl(t,{luminance:i})},shade:function(t,e){e=zcolor.limit(e,0,1);var i=[{mode:"MODIFY",value:e}];return this.rgb(t,{red:i,green:i,blue:i})},tint:function(t,e){e=zcolor.limit(e,0,1);var i=[{mode:"MODIFY",value:e},{mode:"OFFSET",value:1-e}];return this.rgb(t,{red:i,green:i,blue:i})},blue:2,green:1,red:0,rgb:function(t,e){return this.modify(t,e,"scRGB")},luminance:2,saturation:1,hue:0,modify:function(i,n,o){var s=this["to"+o].call(this,i),a=this;return t.each(n,function(i,n){var o=a[i];t.each(n,function(t,i){s[o]=e(s[o],i),s[o]=zcolor.limit(s[o],0,1)})}),this[o+"toRGB"].call(this,s)},hsl:function(t,e){return this.modify(t,e,"HSL")},tweak:function(e,i){if(!t.isArray(e)){var n=e;e=[n[0],n[1],n[2]]}e=zcolor.toNum(e);var n=this;return t.each(i,function(t,i){n[t]&&(e=n[t].call(n,e,i))}),e},toscRGB:function(e){return e=t.map(e,function(t,e){if(t/=255,t<0)return 0;if(t<=.0405)return t/12.92;if(t<=1){var i=(t+.055)/1.055;return Math.pow(i,2.4)}return 1})},scRGBtoRGB:function(e){return e=t.map(e,function(t,e){if(t<0)t=0;else if(t<=.0031308)t*=12.92;else if(t<=1){var i=1/2.4;t=1.055*Math.pow(t,i)-.055}else t=1;return Math.round(t*=255)})},toHSL:function(t){var e=t[0],i=t[1],n=t[2],o=Math.max(e,i,n),s=Math.min(e,i,n),a=0;if(o==s);else if(o==e){var r=(i-n)/(o-s);a=(60*r+360)%360}else if(o==i){var r=(n-e)/(o-s);a=60*r+120}else{var r=(e-i)/(o-s);a=60*r+240}a/=360;var l=(o+s)/510,u=0;return o==s||(u=l<=.5?(o-s)/(2*l):(o-s)/(2-2*l)),u/=255,[a,u,l]},HSLtoRGB:function(e){var i,n=e[0],o=e[1],s=e[2];i=s<.5?s*(1+o):s+o-s*o;var a=2*s-i,r=n,l=r+1/3,u=r,h=r-1/3,d=[l,u,h];return d=t.map(d,function(t,e){t<0?t+=1:t>1&&(t-=1),t%=1,t=t<1/6?a+6*(i-a)*t:t>=1/6&&t<.5?i:t>=.5&&t<2/3?a+6*(i-a)*(2/3-t):a;var n=Math.round(255*t);return n=zcolor.limit(n,0,255)})},isDark:function(t){return this.brightness(t)<127.5},rgbToHex:function(e){if("object"!=typeof e){var i=/rgb\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\)/;if(null!=e.match(i)){var n=/\d{1,3}/g;e=e.match(n)}}var o="#";return t.each(e,function(t,e){var i=zcolor.numToHex(e);isNaN(zcolor.hexToNum(i))&&(i="00"),o+=i}),o},RGBToHSV:function(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255,o=Math.min(e,i,n),a=Math.max(e,i,n),r=100*a,l=s=0,u=a-o;if(0==a)return s=l=0,[l,s,r];s=u/a*100;var h=0;u&&(h=e==a?(i-n)/u:i==a?2+(n-e)/u:4+(e-i)/u),l=60*h,l<0&&(l+=360);var d=Math.round;return l=d(l),s=d(s),r=d(r),[l,s,r]},HSVToRGB:function(t){var e=t[0],i=t[1],n=t[2],o=i/100,s=n/100,a=g=b=0,r=function(t,e,i){var n=Math.round;a=n(255*t),g=n(255*e),b=n(255*i)};if(0==o)return r(s,s,s),[a,g,b];360==e&&(e=0);var l=e/60,u=Math.floor(l),h=l-u,d=s*(1-o),c=s*(1-o*h),p=s*(1-o*(1-h));switch(u){case 0:r(s,p,d);break;case 1:r(c,s,d);break;case 2:r(d,s,p);break;case 3:r(d,c,s);break;case 4:r(p,d,s);break;default:r(s,d,c)}return[a,g,b]},hexToRgb:function(e,i){if(e=e.replace("#",""),3==e.length&&(e+=e),6!=e.length){if(!i)return"rgb(0, 0, 0)";e=i}var n="rgb(",o="";return t.each(e.split(""),function(t,e){o=!t%2?e:o+e,t%2&&(_v=zcolor.hexToNum(o),isNaN(_v)&&(_v=0),n+=_v,t<=4&&(n+=","),o="")}),n+=")"},numToHex:function(t){var e=parseInt(t).toString(16);return 1==e.length?"0"+e:e},hexToNum:function(t){return parseInt(t,16)},brightness:function(t){var e=t[0],i=t[1],n=t[2],o=.299*e+.587*i+.114*n;return o},limit:function(t,e,i){var n=Math.min(t,i);return Math.max(n,e)},toNum:function(e){return t.map(e,function(t,e){return 1*t})}}}(jQuery),function(t){var e={widgetEventPrefix:"colorfield",_colorfield:void 0,_input:void 0,_EVENTS:{ONCOLORSELECTED:"colorselected",ONCOLORPALETTESHOW:"colorpaletteshow",ONCOLORPALETTEHIDE:"colorpalettehide"},_create:function(){this.options=t.extend({},t.ui.zcolorfield.defaults,this.options),this._createColorField()},_createColorField:function(){var e=this,i=t("<div></div>").addClass("ui-zcolorchooser"),n=t("<span></span>").addClass("ui-components-icon ui-icon-zc"),o=void 0;this.options.colorCodeContainer&&(o=t("<input>"),i.append(o),o.css({width:t(this.element).width()-(n.width()+1)})),i.append(n),i.insertAfter(this.element);var s=function(i){n.css({"background-color":i.color}),e.options.returnAsHex&&(i.color=zoho.color.rgbToHex(i.color)),e.options.colorCodeContainer&&o.val(i.color);var s=t.extend({},i);i.value=e.options.returnValueAsObject?s:i.color,e._triggerEvent(e._EVENTS.ONCOLORSELECTED,i)},a=n.css("background-color");i.attr("colorpalette",!0).data("selectedColor",a),i.on("colorpalettecolorselected",function(t,e){s(e)}),i.on("colorpaletteshow",function(t,i){e._triggerEvent(e._EVENTS.ONCOLORPALETTESHOW,i)}),i.on("colorpalettehide",function(t,i){e._triggerEvent(e._EVENTS.ONCOLORPALETTEHIDE,i)}),this._colorfield=i,this._input=o,t(this.element).is(":disabled")&&this.disable(),t(this.element).hide()},disable:function(){this._colorfield.attr("disabled","true").addClass("ui-state-disabled"),this.options.colorCodeContainer&&this._input.attr("disabled","true")},enable:function(){this._colorfield.removeAttr("disabled","true").removeClass("ui-state-disabled"),this.options.colorCodeContainer&&this._input.removeAttr("disabled")},setColor:function(t){this.element.is(":disabled")||(t&&"transparent"!=t?this._colorfield.data("selectedColor",t).find("span").css({"background-color":t}):this._colorfield.data("selectedColor","transparent").find("span").css({"background-color":"transparent"}))},setValue:function(t){this.setColor(t)},getColor:function(){var t=this._colorfield.find("span.ui-icon-zc").css("background-color");return this.options.returnAsHex&&(t=zoho.color.rgbToHex(t)),t},getValue:function(){return this.getColor()},widget:function(){return this._colorfield},_triggerEvent:function(t,e){return this._trigger(t,t,e)},destroy:function(){this._colorfield.off("."+this.widgetName).remove(),t(this.element).show(),t.Widget.prototype.destroy.apply(this,arguments)}};t.widget("ui.zcolorfield",e),t.ui.zcolorfield.defaults={returnAsHex:!1,colorCodeContainer:!1,returnValueAsObject:!1}}(jQuery),function(t){var e={_containerBase:void 0,_baseColorContainer:void 0,_shadedColorContainer:void 0,_standardColorContainer:void 0,_recentColorContainer:void 0,_advColorpalette:void 0,widgetEventPrefix:"colorpalette",_colorpicker:void 0,_selectedColor:void 0,_EVENTS:{ONBEFORESHOW:"beforeshow",ONSHOW:"show",ONHIDE:"hide",ONCOLORSELECTED:"colorselected",ONHOVER:"hover"},_create:function(){this.options=t.extend({},t.ui.zcolorpalette.defaults,this.options),this._createBaseContainers(),this._initColors(this.element),this._bindEvents()},_bindEvents:function(){var e=this;t(document).on("keyup."+this.widgetName,function(t){27==t.keyCode&&e.element.is(":visible")&&e._hide()}),t(".ui-zcolorpalette-colorbox",this.element).on("mouseenter",function(t){e._triggerHoverEvent(this.style.backgroundColor)})},_createBaseContainers:function(){this._containerBase=t(this.element).addClass("ui-widget ui-widget-content ui-zcolorpalette ui-widget-shadow-new ui-corner-all"),this._defaultColorContainer=t("<div>").addClass("ui-zcolorpalette-default ui-secondary").appendTo(this._containerBase).hide();var e=t("<button>").button({label:this.options.defaultColorLabel?this.options.defaultColorLabel:this._getString("defaultcolor.label"),icons:{primary:"ui-components-icon ui-icon-transparent"}}).appendTo(this._defaultColorContainer),i="default",n=this;this.options.defaultColor&&(i=this._getFormattedColor(this.options.defaultColor),e.find(".ui-icon").css({"background-image":"none","background-color":i})),e.on("click",function(t){n._triggerEvent(n._EVENTS.ONCOLORSELECTED,n._colorpicker,i)}),this._nofillColorContainer=t("<div>").addClass("ui-zcolorpalette-nofill ui-secondary").appendTo(this._containerBase).hide();t("<button>").button({label:this.options.noFillColorLabel?this.options.noFillColorLabel:this._getString("nofill.label")}).appendTo(this._nofillColorContainer).on("click",function(t){n._triggerEvent(n._EVENTS.ONCOLORSELECTED,n._colorpicker,"transparent")});this._determineColorpaletteType(),this.options.title&&(this._header=t("<div>").addClass("ui-color-head").text(this.options.title).appendTo(this._containerBase)),this._baseColorContainer=t("<ul>").addClass("ui-zcolorpalette-colors-container"),this._shadedColorContainer=t("<div>").addClass("ui-zcolorpalette-shaded-container");var o=t("<div>").text(this._getString("standardcolors.label")).addClass("ui-zcolorpalette-sub-head ui-state-active");if(this._standardColorContainer=t("<ul>").addClass("ui-zcolorpalette-colors-container standardcolors"),this._containerBase.append(this._baseColorContainer).append(this._shadedColorContainer).append(o).append(this._standardColorContainer),this.options.showMoreColors){var n=this,s=t("<div>").text(this._getString("recentcolors.label")).addClass("ui-zcolorpalette-sub-head ui-state-active");this._recentColorContainer=t("<ul></ul>").addClass("ui-zcolorpalette-colors-container recentcolors"),this._containerBase.append(s).append(this._recentColorContainer);var a=t("<div><a href='javascript:void(0);' onclick='return false;'>"+this._getString("morecolors.label")+"</a></div>").addClass("ui-zcolorpalette-morecolors-text").appendTo(this._containerBase),r=t("<div>").attr("id","adv"+this.element.attr("id"));t("body").append(r),this._advColorpalette=r,r.zadvancedcolorpalette(),r.on("advcolorpalettechange",function(t,e){n._triggerHoverEvent(e.rgbSrc)});var l={position:"center",width:r.outerWidth()+40,buttons:[{text:t.i18n?t.i18n("common","ok"):this.options.keys["ok.label"],click:function(){var e=r.zadvancedcolorpalette("getColorObject").rgb;n._setColor(e),t(this).dialog("close")}},{text:t.i18n?t.i18n("common","cancel"):this.options.keys["cancel.label"],click:function(){t(this).dialog("close")}}],close:function(){n._triggerEvent(n._EVENTS.ONHIDE,n._colorpicker)},zIndex:t.ui.dialog.zIndex?t.ui.dialog.zIndex:1e4,title:n._getString("advancedcolorpalette.label"),resizable:!1,autoOpen:!1};r.dialog(l);var u=t(a).children("a").get(0);t(u).on("click."+this.widgetName,function(t){n._isDisabled(n.element)||(r.dialog("open"),n.element.parent().is("body")&&n._containerBase.hide())}),this._advColorpalette=r,this._isDisabled(this.element)&&this.disable(),this.options.show&&this._containerBase.show()}},_determineColorpaletteType:function(){this._defaultColorContainer[this.options.defaultColor?"show":"hide"](),this._nofillColorContainer[this.options.nofill?"show":"hide"]()},_getFormattedColor:function(t){return t.toString().indexOf("rgb")==-1&&t.toString().indexOf("#")==-1?t="rgb("+t[0]+", "+t[1]+", "+t[2]+")":0==t.toString().indexOf("#")&&(t=zoho.color.hexToRgb(t)),t},_isDisabled:function(t){return t.is("[disabled=true]")||t.is("[disabled=disabled]")},_show:function(e,i){this._colorpicker=t(e);var n=t(i).offset();n.top+=t(i).height()+2;var o=n.top+this._containerBase.outerHeight();o>t(window).height()&&(n.top-=this._containerBase.outerHeight()+(t(i).height()+4));var s=n.left+this._containerBase.outerWidth();s>t(window).width()&&(n.left=n.left+t(i).width()-this._containerBase.outerWidth()),t(this._containerBase).css({position:"absolute",left:n.left,top:n.top,display:"block"}),this._triggerEvent(this._EVENTS.ONSHOW,this._colorpicker)},_hide:function(){this._containerBase.is(":visible")&&(this._containerBase.hide(),this._triggerEvent(this._EVENTS.ONHIDE,this._colorpicker))},_initColors:function(e){var i=this;t(this._containerBase).on("click."+this.widgetName,function(e){!i._isDisabled(i.element)&&t(e.target).hasClass("ui-zcolorpalette-colorbox")&&i._colorSelected(e)}),this._fillColorBoxes(this._baseColorContainer,this._getBaseColors()),this._drawShades(!1),this._fillColorBoxes(this._standardColorContainer,this.options.standardColors),this._fillColorBoxes(this._recentColorContainer,this.options.recentlyusedcolors,!0)},_fillColorBoxes:function(e,i,n){var o=this;t(i).each(function(t,i){var s=o._createColorBox(e);"string"==typeof i?s.addClass(i):n?(o._fillColor(s,i,!1,!1,n),s.addClass("ui-zcolorpalette-empty")):o._fillColor(s,i,!1)})},_drawShades:function(e){var i=this,n=t(this._getBaseColors());e||i._shadedColorContainer.empty(),t.each(n,function(t,n){i._createShadedClrContainers(i._shadedColorContainer,n,t,e)})},_createColorBox:function(e){var i=t("<li></li>").addClass("ui-zcolorpalette-colorbox");return t(e).append(i),i},_createShadedClrContainers:function(e,i,n,o){var s=zoho.color.brightness(i.color?i.color:i),a=s>=240&&s<=255?[.05,.15,.25,.35,.5]:s>=0&&s<=15?[.5,.35,.25,.15,.05]:s>=224&&s<240?[.1,.25,.5,.75,.9]:s>15&&s<=31?[.9,.75,.5,.25,.1]:[.8,.6,.4,.25,.5],r="",l=this;if(!o){var u=t("<ul></ul>").addClass("ui-zcolorpalette-shadecontainer");e.append(u)}t(a).each(function(t,e){r=o?l._shadedColorContainer.children("ul").eq(n).children("li").eq(t):l._createColorBox(u);var a=!(s>=210&&s<=255||s>=0&&s<=38);l._applyShadedColors(i,r,e,t,a,o)})},_fillColor:function(e,i,n,o,s){var a=i.color?i.color:i,r=a;if(a.toString().indexOf("rgb")==-1&&a.toString().indexOf("#")==-1)r="rgb("+a[0]+", "+a[1]+", "+a[2]+")";else{0==a.toString().indexOf("#")&&(a=zoho.color.hexToRgb(r));var l=a.split("(")[1].split(")")[0].split(",");a=[l[0],l[1],l[2]]}var u=this.options.selectedColor;if(u?(u=u.toString().indexOf("rgb")==-1&&u.toString().indexOf("#")==-1?"rgb("+u[0]+", "+u[1]+", "+u[2]+")":0==u.toString().indexOf("#")?zoho.color.hexToRgb(u):this._formatRgb(u),u==r&&(this.element.find(".ui-zcolorpalette-colorbox-selected").removeClass("ui-zcolorpalette-colorbox-selected"),t(e).addClass("ui-zcolorpalette-colorbox-selected"))):(this.element.find(".ui-zcolorpalette-colorbox-selected").removeClass("ui-zcolorpalette-colorbox-selected"),this.element.find(".ui-zcolorpalette-colorbox:first").addClass("ui-zcolorpalette-colorbox-selected")),t(e).css({"background-color":r}),o){var h=t(".ui-zcolorpalette-colorbox[title = '"+a.toString()+"']">this.element);h.trigger("hover")}if(!s){var d=i.title?i.title+" ("+a+")":a;t(e).attr("title",d)}},_applyShadedColors:function(e,i,n,o,s,a){var r=e.color?e.color:e,l=zoho.color.isDark(r);s&&(l=o<=2);var u=zoho.color[l?"lighten":"darken"](r,n),h=l?"lighten":"darken",d=(e.title?e.title+" - ":"")+100*n+"% "+this._getString(h+".label");this._fillColor(i,{color:u,title:d},a),t(i).attr("baseColor",r).attr("percentage",n).attr("mode",h)},_setRecentlyUsedColor:function(e,i){var n=t(this._recentColorContainer).children("li"),o=!1,s=this;if(t(n).each(function(i,n){var a=s._formatRgb(t(n).css("background-color"));a==e&&(o=!0)}),!o){var a=this._createColorBox(this._recentColorContainer).addClass("ui-zcolorpalette-colorbox-selected");this._fillColor(a,e,!1,!0);var r=t(this._recentColorContainer).children("li:first");t(a).insertBefore(r);var l=t(this._recentColorContainer).children("li:last");t(l).remove(),this.element.find(".ui-zcolorpalette-colorbox-selected").removeClass("ui-zcolorpalette-colorbox-selected"),t(a).addClass("ui-zcolorpalette-colorbox-selected")}t(".ui-zcolorpalette-colorbox-selected",this.element).on("mouseenter",function(t){s._triggerHoverEvent(this.style.backgroundColor)})},_colorSelected:function(e){this.element.find(".ui-zcolorpalette-colorbox-selected").removeClass("ui-zcolorpalette-colorbox-selected");var i=t(e.target),n="";if(i.hasClass("ui-zcolorpalette-colorbox")&&!i.hasClass("ui-zcolorpalette-empty")){i.addClass("ui-zcolorpalette-colorbox-selected"),n=i.css("background-color"),this.options.closeOnSelect&&this._containerBase.hide(),this.options.returnAsHex&&(n=zoho.color.rgbToHex(n)),this.options.callback&&this.options.callback(n),this._selectedColor=n;var o=i.parent().hasClass("ui-zcolorpalette-shadecontainer")?i.parent():i.parent().hasClass("standardcolors")||i.parent().hasClass("recentcolors")?void 0:i,s=-1;o&&(s=t(o).parent().children().index(o)),this._triggerEvent(this._EVENTS.ONCOLORSELECTED,this._colorpicker,n,i,s)}},show:function(e,i,n){var o=this;if(i){if(!n){var s=this._triggerEvent(this._EVENTS.ONBEFORESHOW,e);if(s===!1)return!1}this.options=t.extend({},this.options,i);var a=t(this._baseColorContainer).children("li"),r=this._getBaseColors();t(a).each(function(t,e){o._fillColor(e,r[t],!1)}),this._drawShades(!0);var l=this.options.selectedColor;if(l){var u=this._getSelectedColorElement(l);this.element.find(".ui-zcolorpalette-colorbox-selected").removeClass("ui-zcolorpalette-colorbox-selected"),u?t(u).addClass("ui-zcolorpalette-colorbox-selected"):this._setRecentlyUsedColor(l),l.indexOf("#")==-1&&(l=zoho.color.rgbToHex(l)),this.options.showMoreColors&&t(this._advColorpalette).zadvancedcolorpalette("setValue",l)}if(this._determineColorpaletteType(),this.options.defaultColor){var h=this._defaultColorContainer.find(".ui-button"),d=this._getFormattedColor(this.options.defaultColor);h.find(".ui-icon").css({"background-image":"none","background-color":d})}this.options.showMoreColors&&this._advColorpalette.dialog("option","modal",!!i.modal)}n||this._show(e,this.options.relativeToEle)},hide:function(){this._hide()},_getSelectedColorElement:function(e){var i=this.element.find(".ui-zcolorpalette-colorbox"),n=void 0;0==e.indexOf("#")&&(e=zoho.color.hexToRgb(e)),e=this._formatRgb(e);var o=this;return t.each(i,function(i,s){var a=o._formatRgb(t(s).css("background-color"));a==e&&(n=t(s))}),n},_formatRgb:function(t){if(t&&"transparent"!=t&&"default"!=t){0==t.toString().indexOf("#")&&(t=zoho.color.hexToRgb(t));var e=t.split("(")[1];e=e.split(")")[0],e=e.split(","),e[1].indexOf(" ")==-1&&(t="rgb("+e[0]+", "+e[1]+", "+e[2]+")")}return t},_setColor:function(t){this.setColor(t),this._triggerEvent(this._EVENTS.ONCOLORSELECTED,this._colorpicker,t);},setColor:function(e){if(e&&!this._isDisabled(this.element)){var i=this._getSelectedColorElement(e);if(i&&i.length?(this.element.find(".ui-zcolorpalette-colorbox-selected").removeClass("ui-zcolorpalette-colorbox-selected"),t(i).addClass("ui-zcolorpalette-colorbox-selected")):this._setRecentlyUsedColor(e),this._selectedColor=e,this.options.callback&&this.options.callback(e),this.options.showMoreColors){var n=void 0;e.indexOf("#")==-1&&(n=zoho.color.rgbToHex(e)),t(this._advColorpalette).zadvancedcolorpalette("setValue",n)}this.options.returnAsHex&&(e=zoho.color.rgbToHex(e))}else this.element.find(".ui-zcolorpalette-colorbox-selected").removeClass("ui-zcolorpalette-colorbox-selected")},getColor:function(){return this._selectedColor},disable:function(){this._containerBase.addClass("ui-state-disabled"),this._containerBase.attr("disabled","true")},enable:function(){this._containerBase.removeClass("ui-state-disabled"),this._containerBase.removeAttr("disabled")},_getBaseColors:function(){return t.ui.zcolorpalette.defaults.useDefaultBaseColors?t.ui.zcolorpalette.defaults.baseColors:this.options.baseColors},setBaseColors:function(t,e){var i={baseColors:t};e?this.options.baseColors=t:this.show(void 0,i,!0)},_triggerEvent:function(e,i,n,o,s){var a={colorpalette:t(this.element),colorpicker:i,color:void 0!=n?n:"none",baseColor:void 0!=o?o.attr("baseColor"):void 0,percentage:void 0!=o?o.attr("percentage"):void 0,mode:void 0!=o?o.attr("mode"):void 0,index:s};return this._trigger(e,e,a)},_getString:function(e){return t.i18n?t.i18n("zcolorpalette",e):this.options.keys[e]},_triggerHoverEvent:function(t){this._triggerEvent(this._EVENTS.ONHOVER,this._colorpicker,t)},destroy:function(){this.element.off("."+this.widgetName).empty().removeClass("ui-widget ui-widget-content ui-zcolorpalette ui-widget-shadow-new ui-corner-all"),t(document).off("."+this.widgetName),t.Widget.prototype.destroy.apply(this,arguments)}};e=t.extend({},t.ui.key,e),t.widget("ui.zcolorpalette",e),t.ui.zcolorpalette.defaults={baseColors:[[255,255,255],[0,0,0],[238,236,225],[31,73,125],[79,129,189],[192,80,77],[155,187,89],[128,100,162],[75,172,198],[247,150,70]],standardColors:[[192,0,0],[255,0,0],[255,192,0],[255,255,0],[146,208,80],[0,176,80],[0,176,240],[0,112,192],[0,32,96],[112,48,160]],recentlyusedcolors:[[255,255,255],[255,255,255],[255,255,255],[255,255,255],[255,255,255],[255,255,255],[255,255,255],[255,255,255],[255,255,255],[255,255,255]],callback:function(){},closeOnSelect:!1,returnAsHex:!1,showMoreColors:!0,useDefaultBaseColors:!1,keys:{"standardcolors.label":"Standard Colors","recentcolors.label":"Recent Colors","morecolors.label":"More Colors","advancedcolorpalette.label":"Advanced Colorpallete","ok.label":"OK","cancel.label":"Cancel","defaultcolor.label":"Default Color","nofill.label":"No Fill","lighten.label":"Lighten","darken.label":"Darken"},title:void 0,defaultColor:void 0,nofill:void 0,defaultColorLabel:void 0,noFillColorLabel:void 0}}(jQuery),function(t){var e={widgetEventPrefix:"advcolorpalette",_EVENTS:{ONCHANGE:"change"},_create:function(){this.options=t.extend({},t.ui.zadvancedcolorpalette.defaults,this.options),this._initComponents()},_initComponents:function(){this.element.addClass("ui-zadvcolorpalette"),this._addComponents(),this._hexEntered(this.options.defaultcolor),this.setMode(),this._setDefaults(),this._isDisabled(this.element)&&this.disable();var t=this.element.clone().appendTo("body");this.element.width(t.width()),t.remove()},_setDefaults:function(){this._sampleBase.css("backgroundColor",this._colorObj.hex)},_addComponents:function(){this._createSwatches(),this._createSliderBar(),this._createModifiers(),this._createPicker()},_getPickerContainment:function(){var t=this._swatchMain,e=t.height(),i=t.width(),n=this._picker.outerHeight(),o=this._picker.outerWidth(),s=t.offset();return[s.left-o/2,s.top-n/2,s.left+i-o/2,s.top+e-n/2]},_createPicker:function(){this._picker=t("<div>").addClass("ui-components-icon ui-zadvcolorpalette-picker");var e=this._swatchMain;e.append(this._picker);var i=e.height(),n=e.width(),o=this._picker.outerHeight(),s=this._picker.outerWidth(),a=(e.offset(),this);this._picker.draggable({drag:function(t,e){var r=e.position.top+o/2,l=e.position.left+s/2,u=l/n,h=r/i;a._colorSelected(u,h)}}),this._picker.mousedown(function(t){if(!a._isDisabled(a.element)){var e=a._getPickerContainment();a._picker.draggable("option","containment",e)}})},_createSwatches:function(){this._pickerArea=t("<div>").addClass("ui-zadvcolorpalette-pickerarea"),this.element.append(this._pickerArea),this._createSwatchComponents()},_createSwatchComponents:function(){this._swatchMain=t("<div>").addClass("ui-zadvcolorpalette-swatchmain"),this._swatchBase=t("<div>").addClass("ui-zadvcolorpalette-swatchbase"),this._swatchOverlay=t("<div>").addClass("ui-zadvcolorpalette-swatchoverlay"),this._pickerArea.append(this._swatchMain.append(this._swatchBase).append(this._swatchOverlay));var e=this;this._swatchOverlay.on("mousedown",function(t){e._isDisabled(e.element)||(e._colorPicked(t),e._picker.trigger(t))}),this._swatchOverlay.fadeTo(0,0)},_createSliderBarOverlay:function(e){var i=t("<div>").addClass("ui-zadvcolorpalette-baroverlay ui-zadvcolorpalette-bar-"+e);return this._pickerBarOverlays[e]=i,this._pickerBar.append(i),i},_getPickerBarContainment:function(){var t=this._pickerBar.offset().top,e=this._pickerBarSlider.height(),i=this._pickerBar.height(),n=this._pickerBar.width(),o=this._pickerBarSlider.offset();return[o.left,t-e/2,o.left+n,t+i-e/2]},_createSliderBar:function(){this._pickerBar=t("<div>").addClass("ui-zadvcolorpalette-bar"),this._pickerBarOverlays={};var e=this;t(["bl","br","tr","tl"]).each(function(t,i){e._createSliderBarOverlay(i)}),this.element.append(this._pickerBar),this._pickerBarSlider=t("<div>").addClass("ui-components-icon ui-zadvcolorpalette-slider"),this._pickerBar.append(this._pickerBarSlider);var e=this,i=this._pickerBarSlider.height(),n=this._pickerBar.height();this._pickerBarSlider.draggable({axis:"y",drag:function(t,o){var s=o.position.top+i/2,a=s/n;e._sliderDragged(a)}}),this._pickerBar.mousedown(function(t){if(!e._isDisabled(e.element)){e._fixOffsets(t);var i=t.layerY/n;e._setSliderBarPosition(1-i),e._sliderDragged(i),e._pickerBarSlider.trigger(t)}}),this._pickerBarSlider.mousedown(function(t){if(e._picker.trigger(t),!e._isDisabled(e.element)){var i=e._getPickerBarContainment();return e._pickerBarSlider.draggable("option","containment",i),!1}})},_sliderBarPosition:0,_sliderDragged:function(t){this._sliderBarPosition=t,this._colorPickers[this.options.mode].call(this),this._fillValues(),this._setSwatchBaseColor()},_createModifiers:function(){this._modifierArea=t("<div>").addClass("ui-zadvcolorpalette-modarea"),this.element.append(this._modifierArea);var e=this;this._sampleBase=t("<div>").addClass("ui-zadvcolorpalette-samplebase").on("click",function(i){t(i.target).hasClass("ui-zadvcolorpalette-samplebase")&&e.setValue(zoho.color.rgbToHex(t(i.target).css("background-color")))}),this._modifierArea.append(this._sampleBase),this._sampleArea=t("<div>").addClass("ui-zadvcolorpalette-samplearea"),this._sampleBase.append(this._sampleArea),this._createSpinners();var e=this;this._colorCode=t("<input>").attr("type","text").addClass("ui-zadvcolorpalette-colorcode ui-input-text").on("change",function(t){e._colorObj.isFrom="HEX",e._hexEntered()}),this._modifierArea.append(t("<div>").addClass("ui-zadvcolorpalette-spinnerpane").append(this._colorCode))},_getString:function(e){return t.i18n?t.i18n("zadvancedcolorpalette",e):this.options.keys[e]},_createSpinners:function(){var e=this._modifierArea;this._modifierAreaSpinnerWidth=0,this._hspinner=this._createRadioSpinner(this._getString("hue.label"),"hue",{max:"360",min:"0",step:"1"},void 0,e),this._sspinner=this._createRadioSpinner(this._getString("saturation.label"),"saturation",{max:"100",min:"0",step:"1"},{unit:"%"},e),this._lspinner=this._createRadioSpinner(this._getString("value.label"),"value",{max:"100",min:"0",step:"1"},{unit:"%"},e),this._rspinner=this._createRadioSpinner(this._getString("red.label"),"red",{max:"255",min:"0",step:"1"},void 0,e),this._gspinner=this._createRadioSpinner(this._getString("green.label"),"green",{max:"255",min:"0",step:"1"},void 0,e),this._bspinner=this._createRadioSpinner(this._getString("blue.label"),"blue",{max:"255",min:"0",step:"1"},void 0,e),this._modifierArea.width(this._modifierAreaSpinnerWidth+10),t(".ui-zadvcolorpalette-spinnerpane").css("width","100%");var i=this;t("input[type=radio]",t(e)).on("change."+this.widgetName,function(e){var n=e.target;i.setMode(t(n).val())}),t(".ui-zadvcolorpalette-spinner",t(e)).on("spinnerchange."+this.widgetName,function(t,e){i._spinnerChanged(t,e)})},_spinnerChanged:function(e,i){var n=t(e.target).attr("mode"),o=n.charAt(0),s=this._colorObj;s[o]=parseInt(i.value),"h"==o||"s"==o||"v"==o?(this._colorPickers.fixHSVtoRGB.call(this),s.isFrom="HSV"):(this._colorPickers.fixRGBToHSV.call(this),s.isFrom="RGB"),s.hex=zoho.color.rgbToHex([s.r,s.g,s.b]),this._updateAllUI()},_createRadioSpinner:function(e,i,n,o,s){var a=t("<input>").addClass("ui-zadvcolorpalette-spinner").attr(n);a.attr("mode",i);var e=t('<span class="ui-zadvcolorpalette-label">').text(e+": "),r=t("<input>").css({float:"left"}).attr({type:"radio",name:this.element.attr("id")+"spinnergrp"}).val(i),l=t('<div class="ui-zadvcolorpalette-spinnerpane">').append(r).append(e).append(a);return s.append(l),this._modifierAreaSpinnerWidth=this._modifierAreaSpinnerWidth<l.width()?l.width():this._modifierAreaSpinnerWidth,a.zspinner(o),a},setValue:function(t){this._hexEntered(t),this._setDefaults(t)},_hexEntered:function(t){var e=this._colorObj,i=t?t:this._colorCode.val();0!=i.indexOf("#")&&(i="#"+i);var n=zoho.color.hexToRgb(i,e.hex);e.hex=zoho.color.rgbToHex(n);var o=n.match(/\d{1,3}/g);e.r=o[0],e.g=o[1],e.b=o[2],this._colorPickers.fixRGBToHSV.call(this),this._updateAllUI()},_updateAllUI:function(){this._fillValues(),this._setSwatchBaseColor(),this._setPickerBarColor(),this._updateUIComponents()},update:{hsv:function(t){this._setSpinnerVal(this._hspinner,t.h),this._setSpinnerVal(this._sspinner,t.s),this._setSpinnerVal(this._lspinner,t.v)},rgb:function(t){this._setSpinnerVal(this._rspinner,t.r),this._setSpinnerVal(this._gspinner,t.g),this._setSpinnerVal(this._bspinner,t.b)},hex:function(t){t.hex=zoho.color.rgbToHex([t.r,t.g,t.b]),this._colorCode.val(t.hex)}},_updateColorModes:{HSV:["rgb","hex"],RGB:["hsv","hex"],HEX:["hsv","rgb"]},_fillValues:function(){var e=this,i=this._colorObj,n=i.isFrom?this._updateColorModes[i.isFrom]:["hsv","rgb","hex"];t(n).each(function(t,n){e.update[n].call(e,i)}),this._sampleArea.css("backgroundColor",i.hex),delete i.isFrom,this._triggerEvent(this._EVENTS.ONCHANGE)},_setSpinnerVal:function(t,e){t.zspinner("setValue",e)},setMode:function(e){var i="ui-zadvcolorpalette-";this.element.removeClass(i+this.options.mode+"chooser"),e?this.options.mode=e:t("input[type=radio][value="+this.options.mode+"]").click(),this.element.addClass(i+this.options.mode+"chooser"),this._setSwatchBaseColor(),this._setPickerBarColor(),this._updateUIComponents()},_updateUIComponents:function(){var t=this._colorPickers[this.options.mode+"Pos"].call(this),e=256,i=256;this._positionPicker(t.x*i,t.y*e),t.overlay?(this._swatchOverlay.fadeTo(0,1-t.z),this._colorPickers.setBarOps.call(this,t.x,t.y)):(t.dontFixOverlay||this._swatchOverlay.fadeTo(0,0),this._pickerBarOverlays.bl.fadeTo(0,1),this._pickerBarOverlays.bl.css({filter:"none"})),this._setSliderBarPosition(t.z)},_setSliderBarPosition:function(t){this._sliderBarPosition=1-t;var e=this._pickerBar.height(),i=this._pickerBarSlider.height();this._pickerBarSlider.css("top",e*(1-t)-i/2)},_getBarPercentage:function(){return this._sliderBarPosition},_positionPicker:function(t,e){var i=this._picker.outerHeight(),n=this._picker.outerWidth();this._picker.css({left:t-i/2,top:e-n/2})},_fixOffsets:function(t){t.layerX||(t.layerX=t.offsetX,t.layerY=t.offsetY)},_colorPicked:function(t){var e=this._pickerArea;this._fixOffsets(t);var i=t.layerX/e.width(),n=t.layerY/e.height();this._colorSelected(i,n),this._positionPicker(t.layerX,t.layerY)},_colorSelected:function(t,e){this._colorPickers[this.options.mode].call(this,t,e),this._fillValues(),this._setPickerBarColor()},_setPickerBarColor:function(){var t=void 0,e=this._colorObj;switch(this.options.mode){case"saturation":t=zoho.color.rgbToHex(zoho.color.HSVToRGB([e.h,"100",e.v]));break;case"value":t=zoho.color.rgbToHex(zoho.color.HSVToRGB([e.h,e.s,"100"]));break;default:t=void 0}t?this._pickerBar.css("backgroundColor",t):this._pickerBar.removeAttr("style")},_setSwatchBaseColor:function(){var t="hue"==this.options.mode?zoho.color.rgbToHex(zoho.color.HSVToRGB([this._colorObj.h,"100","100"])):void 0;t?this._swatchBase.css("backgroundColor",t):this._swatchBase.removeAttr("style")},_colorPickers:{hue:function(t,e){var i=1-this._getBarPercentage();this._swatchOverlay.fadeTo(0,0),this._colorPickers.setHSV.call(this,i,t,void 0!=e?1-e:e)},saturation:function(t,e){var i=this._getBarPercentage();return this._colorPickers.setHSV.call(this,t,1-i,void 0!=e?1-e:e),this._swatchOverlay.fadeTo(0,i),!0},value:function(t,e){var i=1-this._getBarPercentage();this._colorPickers.setHSV.call(this,t,void 0!=e?1-e:e,i),this._swatchOverlay.fadeTo(0,i)},huePos:function(){var t=this._colorObj;return{x:t.s/100,y:1-t.v/100,z:t.h/360}},saturationPos:function(){var t=this._colorObj;return this._swatchOverlay.fadeTo(0,1-t.s/100),{x:t.h/360,y:1-t.v/100,z:t.s/100,dontFixOverlay:!0}},valuePos:function(){var t=this._colorObj;return this._swatchOverlay.fadeTo(0,t.v/100),{x:t.h/360,y:1-t.s/100,z:t.v/100,dontFixOverlay:!0}},red:function(t,e){var i=1-this._getBarPercentage();this._swatchOverlay.fadeTo(0,1-i),this._colorPickers.setBarOps.call(this,t,e),this._colorPickers.setRGB.call(this,i,e?1-e:e,t)},green:function(t,e){var i=1-this._getBarPercentage();this._swatchOverlay.fadeTo(0,1-i),this._colorPickers.setBarOps.call(this,t,e),this._colorPickers.setRGB.call(this,e?1-e:e,i,t)},blue:function(t,e){var i=1-this._getBarPercentage();this._swatchOverlay.fadeTo(0,1-i),this._colorPickers.setBarOps.call(this,t,e),this._colorPickers.setRGB.call(this,t,e?1-e:e,i)},redPos:function(){var t=this._colorObj;return{x:t.b/255,y:1-t.g/255,z:t.r/255,overlay:!0}},greenPos:function(){var t=this._colorObj;return{x:t.b/255,y:1-t.r/255,z:t.g/255,overlay:!0}},bluePos:function(){var t=this._colorObj;return{x:t.r/255,y:1-t.g/255,z:t.b/255,overlay:!0}},setBarOps:function(t,e){if(!isNaN(t)&&!isNaN(e)){var i=(256-256*t)/256,n=(256-256*e)/256;this._pickerBarOverlays.bl.fadeTo(0,e>i?i:e),this._pickerBarOverlays.br.fadeTo(0,e>t?t:e),this._pickerBarOverlays.tr.fadeTo(0,n>t?t:n),this._pickerBarOverlays.tl.fadeTo(0,n>i?i:n)}},setHSV:function(t,e,i){var n=this._colorObj,o=Math.round;n.h=isNaN(t)?n.h:o(360*t),n.s=isNaN(e)?n.s:o(100*e),n.v=isNaN(i)?n.v:o(100*i),this._colorPickers.fixHSVtoRGB.call(this)},setRGB:function(t,e,i){var n=this._colorObj,o=Math.round;n.r=isNaN(t)?n.r:o(255*t),n.g=isNaN(e)?n.g:o(255*e),n.b=isNaN(i)?n.b:o(255*i),this._colorPickers.fixRGBToHSV.call(this)},fixHSVtoRGB:function(){var t=this._colorObj,e=zoho.color.HSVToRGB([t.h,t.s,t.v]),i=Math.round;t.r=i(e[0]),t.g=i(e[1]),t.b=i(e[2])},fixRGBToHSV:function(){var t=this._colorObj,e=zoho.color.RGBToHSV([t.r,t.g,t.b]),i=Math.round;t.h=i(e[0]),t.s=i(e[1]),t.v=i(e[2])}},_colorObj:{},_triggerEvent:function(t){var e=this,i=e._colorObj,n={basecolor:e.options.defaultcolor,hex:i.hex,rgb:[i.r,i.g,i.b],rgbSrc:"rgb("+i.r+", "+i.g+", "+i.b+")",colobj:i};return this._trigger(t,t,n)},getColorObject:function(){var t=this._colorObj;return t.rgb="rgb("+t.r+", "+t.g+", "+t.b+")",this._colorObj},_isDisabled:function(t){return t.is("[disabled=true]")||t.is("[disabled=disabled]")},disable:function(){t(this.element).attr("disabled","true").addClass("ui-state-disabled"),this._picker.draggable("disable"),this._pickerBarSlider.draggable("disable"),t(".ui-zadvcolorpalette-modarea").find(".ui-zadvcolorpalette-spinner").zspinner("disable"),t(".ui-zadvcolorpalette-modarea").find(".ui-zadvcolorpalette-spinnerpane").find("input").attr("disabled",!0)},enable:function(){this._isDisabled(this.element)&&(t(this.element).removeAttr("disabled").removeClass("ui-state-disabled"),this._picker.draggable("enable"),this._pickerBarSlider.draggable("enable"),t(".ui-zadvcolorpalette-modarea").find(".ui-zadvcolorpalette-spinner").zspinner("enable"),t(".ui-zadvcolorpalette-modarea").find(".ui-zadvcolorpalette-spinnerpane").find("input").removeAttr("disabled"))}};t.widget("ui.zadvancedcolorpalette",e),t.ui.zadvancedcolorpalette.defaults={mode:"saturation",defaultcolor:"#811f4a"}}(jQuery),function(t){var e={_overlayDiv:void 0,_totalPages:void 0,_combo:void 0,widgetEventPrefix:"pagination",_EVENTS:{ONCHANGE:"change"},_create:function(){this._buttons={};this.options=t.extend({},t.ui.zpagination.defaults,this.options),this._createPageNavigator(),this._isDisabled(this.element)&&this.disable()},_createPageNavigator:function(){var e=this.element;e.addClass("ui-pagination"),this._overlayDiv=t("<div>"),e.append(this._overlayDiv);var i=this._getPagesCount();this.options.combo&&this._createCombo(i),this.options.info&&this._createInfoDiv(),this._createNavigators()},_getPagesCount:function(){var t=parseInt(this.options.totalItems/this.options.itemsPerPage);return t+=this.options.totalItems%this.options.itemsPerPage>0?1:0,this._totalPages=t,t},_createCombo:function(e){var i=this;this._combo=t("<select>").attr("id",t(this.element).attr("id")+"select");for(var n=1;n<=e;n++){var o=t("<option>").val(n).text(i.options.pageStringKey?t.i18n(i.options.pageStringKey,[n]):n);o.appendTo(i._combo)}this._overlayDiv.append(this._combo),t(this._combo).zcombo({type:"text_only"});var i=this;t(this._combo).on("combochange",function(t,e){var n=parseInt(e.value);i._goToPage(n)})},_createInfoDiv:function(){var e=t("<div/>").addClass("ui-pagination-info");t("<b/>").appendTo(e);this.element.append(e),this._updateInfoDiv(1)},_createNavButton:function(e,i){var n=t("<button>").data("fn",i).attr("data","{'text': false,'icons': {'primary': 'ui-components-toolbar-icon ui-icon-seek-"+e+"'}}").text(e);return n.zbutton(),n},_createNavigators:function(){var e=this,i=t("<div>").addClass("ui-pagination-navigate");i.click(function(i){if(!e._isDisabled(e.element)){var n=i.srcElement;n||(n=i.target);var o=t(n).closest(".ui-button");o.length&&(n=o),i.target=n;var s=t(n).data("fn");s&&e[s].call(e,i)}}),this._buttons.first=this._createNavButton("first","_goToFirstLink"),this._buttons.prev=this._createNavButton("prev","_goToPrevLink"),this._buttons.first.appendTo(i),this._buttons.prev.appendTo(i),this._linksDiv=t("<span>").addClass("ui-pagination-links"),this._linksDiv.on("click",function(i){if(!e._isDisabled(e.element)){var n=i.srcElement?i.srcElement:i.target;t(n).is(".ui-pagination-link")&&e._goToPage(t(n).text())}}),this._createLinks(1,3,1),i.append(this._linksDiv),this._buttons.next=this._createNavButton("next","_goToNextLink"),this._buttons.last=this._createNavButton("end","_goToLastLink"),this._buttons.next.appendTo(i),this._buttons.last.appendTo(i),this.element.append(i),this._goToPage(1)},_createLinks:function(e,n,o){var s=this._linksDiv;if(this._isDisabled(t(this.element)))return!1;n>this._totalPages&&(n=this._totalPages,e=n-2<1?1:n-2,o=n),t(s).empty();var a;this._totalPages;for(i=e;i<=n;i++){var r=t("<span>").text(i).addClass("ui-pagination-link").attr("value",i);r.appendTo(s),i==o&&(a=r,r.addClass("ui-pagination-link-highlight"))}return a},_goToPage:function(t,e){if(t<=0&&(t=1),t>this._totalPages&&(t=this._totalPages),this._currentPage==t)return!1;this._currentPage=parseFloat(t);var i=this._linksDiv.children("[value="+t+"]");if(!i.length){var n=t-1;t==this._totalPages?n=t-2:1==t&&(n=t);var o=n+2;i=this._createLinks(n,o,t)}this._updateUI(i,e)},_updateUI:function(e,i){var n=this._linksDiv.children();t(n).each(function(e,i){t(i).removeClass("ui-pagination-link-highlight")}),this._disableOrEnableButtons(this._currentPage),this.options.combo&&t(this._combo).zcombo("setSelectedIndex",this._currentPage-1),t(e).addClass("ui-pagination-link-highlight"),this.options.info&&this._updateInfoDiv(this._currentPage),this._triggerEvent(this._EVENTS.ONCHANGE,this._currentPage,i)},_goToNextLink:function(t){this._goToPage(this._currentPage+1)},_goToPrevLink:function(t){this._goToPage(this._currentPage-1)},_goToLastLink:function(t){this._goToPage(this._totalPages)},_goToFirstLink:function(t){this._goToPage(1)},_disableOrEnableButtons:function(e){e==this._totalPages?(t(this._buttons.last).addClass("ui-state-disabled").attr("disabled","true"),t(this._buttons.next).addClass("ui-state-disabled").attr("disabled","true")):(t(this._buttons.last).removeClass("ui-state-disabled").removeAttr("disabled"),t(this._buttons.next).removeClass("ui-state-disabled").removeAttr("disabled")),1==e?(t(this._buttons.first).addClass("ui-state-disabled").attr("disabled","true"),t(this._buttons.prev).addClass("ui-state-disabled").attr("disabled","true")):(t(this._buttons.first).removeClass("ui-state-disabled").removeAttr("disabled"),t(this._buttons.prev).removeClass("ui-state-disabled").removeAttr("disabled"))},_updateInfoDiv:function(t){var e=this.options,i=e.itemsPerPage*parseInt(t)>=e.totalItems?e.totalItems:e.itemsPerPage*parseInt(t),n=e.itemsPerPage*parseInt(t-1);n=n>i?Math.floor(i/e.itemsPerPage)*e.itemsPerPage:n;var o=n+1+" - "+i+" of "+e.totalItems,s=this.element.children(".ui-pagination-info").children("b");s.text(o)},setCurrentPage:function(t){this._isDisabled(this.element)||(t=parseInt(t)<1?1:parseInt(t),this._goToPage(t,!0))},getCurrentSelectedPage:function(){return this._currentPage},_isDisabled:function(t){var e=t.attr("disabled");return!!e},_isDisabled:function(t){return t.is("[disabled=true]")||t.is("[disabled=disabled]")},disable:function(){t(this.element).addClass("ui-state-disabled").attr("disabled","true"),this._combo&&t(this._combo).zcombo("disable"),t(".ui-pagination-navigate .ui-button").zbutton("disable")},enable:function(){t(this.element).removeClass("ui-state-disabled").removeAttr("disabled"),this._combo&&t(this._combo).zcombo("enable"),t(".ui-pagination-navigate .ui-button").zbutton("enable")},_triggerEvent:function(t,e,i){var n={value:e,isFromSet:i};return this._trigger(t,t,n)},setAttribute:function(t,e){return this.options[t]&&""!==e?void(this.options[t]=e):this.options[t]},_updateNavigatorDiv:function(t,e){this._createLinks(e,e+2,e),this._disableOrEnableButtons(e)},updateTotalItems:function(e,i,n){n&&""!==n&&(this.options.itemsPerPage=n);var o=Math.floor(e/this.options.itemsPerPage);o=e%this.options.itemsPerPage>0?o+1:o,i=i>o?o:i,this._totalPages=o,this.options.totalItems=e;var s=this;if(this._combo){this._combo.empty();for(var a=1;a<=o;a++){var r=t("<option>").val(a).text(s.options.pageStringKey?t.i18n(s.options.pageStringKey,[a]):a);r.appendTo(s._combo)}this._combo.zcombo("refresh").zcombo("setSelectedIndex",i-1)}this._updateInfoDiv(i),this._updateNavigatorDiv(e,i),this._currentPage=i}};t.widget("ui.zpagination",e),t.ui.zpagination.defaults={totalItems:50,itemsPerPage:5,combo:!0,info:!0,pageStringKey:void 0}}(jQuery),function(t){t.widget("ui.zslider",{widgetEventPrefix:"zslider",_EVENTS:{ONCHANGE:"change",ONSLIDE:"slide"},options:{labelDir:"left",orientation:"horizontal",unit:"%",displayText:"inline",widgetBox:!1},_slider:void 0,_create:function(){this.element.hide(),this._createSliderPanel()},_createSliderPanel:function(){this.options.labelDir="tooltip"===this.options.displayText?"":this.options.labelDir,"vertical"!==this.options.orientation||"left"!==this.options.labelDir&&"right"!==this.options.labelDir||(this.options.labelDir="left"===this.options.labelDir?"top":"bottom"),"horizontal"!==this.options.orientation||"top"!==this.options.labelDir&&"bottom"!==this.options.labelDir||(this.options.labelDir="top"===this.options.labelDir?"left":"right");var e=this.options.min=parseFloat(this.element.attr("min")),i=this.options.max=parseFloat(this.element.attr("max")),n=this.options.step=parseFloat(this.element.attr("step")),o=this.options.value?this.options.value:e,s="ui-zslider-panel ui-zslider-"+this.options.orientation+(this.options.widgetBox?" ui-state-default":"");this._sliderpanel=t("<div>").attr({id:this.element.attr("id")+"-zslider",class:s}).insertAfter(this.element),this._slider=t("<div>").appendTo(this._sliderpanel);var a=this,r=t("<span>").addClass("tooltip"===this.options.displayText?" ui-zslider-tooltip":"ui-slider-value ui-slider-value-"+this.options.labelDir).text(o+this.options.unit)["bottom"===this.options.labelDir||"right"===this.options.labelDir?"appendTo":"prependTo"](this._sliderpanel);if("tooltip"===this.options.displayText)if("vertical"===this.options.orientation){var l=this._sliderpanel.offset().left;r.css({left:l>=35?-41:15})}else this._sliderpanel.mouseenter(function(e){var i=a._sliderpanel.offset().left,n=(t(window).width()-i,t(window).scrollTop(),Math.round(a._sliderpanel.offset().top)-t(window).scrollTop());n>=35?(r.css({top:-(r.outerHeight(!0)+3)}),r.css({left:-10})):(r.css({top:r.outerHeight(!0)-3}),i>=r.outerHeight(!0)&&r.css({left:-35}))});var u=0,h=0;"inline"===this.options.displayText&&(u="left"===this.options.labelDir||"right"===this.options.labelDir?40:0,h="top"===this.options.labelDir||"bottom"===this.options.labelDir?30:0);var d=this.element.width();if("horizontal"===this.options.orientation?(this._slider.width(d-u),this._sliderpanel.width(d)):(this._sliderpanel.height(this.element.height()),this._sliderpanel.width("inline"===this.options.displayText?30:11),"top"!==this.options.labelDir&&"bottom"!==this.options.labelDir||this._slider.addClass("ui-slider-vertical-position"),this._slider.height(this.element.height()-h)),this._slider.slider({orientation:"vertical"===this.options.orientation?"vertical":"horizontal",change:function(t,e){var i=e.value+a.options.unit;r.text(i),a.element.val(e.value),t.originalEvent&&a._triggerEvent(a._EVENTS.ONCHANGE,{value:e.value})},slide:function(t,e){var i=e.value+a.options.unit;a.element.val(e.value),a._triggerEvent(a._EVENTS.ONSLIDE,{value:e.value}),a._showTip(r,c,i)},stop:function(t,e){"tooltip"===a.options.displayText&&r.hide()},range:"min",min:e,max:i,step:n,value:o}),"tooltip"===this.options.displayText){var c=this._slider.find(".ui-slider-handle");c.append(r).hover(function(t){r.show()},function(t){r.hide()}),r.hide()}},_showTip:function(t,e,i){t.show().text(i)},_triggerEvent:function(t,e){return this._trigger(t,t,e)},setValue:function(t){t||(t=this.options.min),this._slider.slider("value",t)},getValue:function(){return this._slider.slider("value")},disable:function(){t(this.element).attr("disabled","true"),this._sliderpanel.addClass("ui-state-disabled"),this._slider.slider("disable"),this._sliderpanel.find(".ui-button").zbutton("disable")},enable:function(){t(this.element).removeAttr("disabled"),this._sliderpanel.removeClass("ui-state-disabled"),this._slider.slider("enable"),this._sliderpanel.find(".ui-button").zbutton("enable")},widget:function(){return this._sliderpanel},destroy:function(){this.element.show();var e=this._sliderpanel;e.remove(),this.element.off("."+this.widgetName),t.Widget.prototype.destroy.apply(this,arguments)}})}(jQuery),function(t){var e={_mac:!0,_spinning:!1,_input:void 0,_timeout:void 0,_factor:1,_uiSpinner:void 0,_hasValidValue:!0,_changeEventTimeout:void 0,_millisecsForAnHour:36e5,_millisecsForAMinute:6e4,_millisecsForASecond:1e3,widgetEventPrefix:"spinner",_timeFormats:["hh:mm:ss:ms","hh:mm:ss","hh:mm","hh","mm:ss:ms","mm.ss","mm","ss:ms","ss","ms"],_create:function(){this.options=t.extend({},t.ui.zspinner.defaults,this.options),this._mac=this._isMac(),this._parseOptions(),this._initSpinner()},_EVENTS:{ONSTART:"start",ONSPIN:"spin",ONCHANGE:"change",ONBLUR:"blur",ONSTOP:"stop"},_parseOptions:function(){this.options.max=t(this.element).attr("max"),this.options.min=t(this.element).attr("min"),this.options.step=t(this.element).attr("step");var e=this;t(["min","max","step","quickstep"]).each(function(t,i){e.options[i]=parseFloat(e.options[i])}),this._factor=Math.pow(10,this.options.floatLength);var i=(this.options.max-this.options.min)*this._factor%(this.options.step*this._factor)/this._factor;this.options.max=Math.round((this.options.max-i)*this._factor)/this._factor},getFormatFromTime:function(t){var e=mins=secs=msecs=0;t>0&&(e=parseInt(t/this._millisecsForAnHour),mins=parseInt(t%this._millisecsForAnHour/this._millisecsForAMinute),secs=parseInt(t%this._millisecsForAMinute/this._millisecsForASecond),msecs=parseInt(t%this._millisecsForAMinute%this._millisecsForASecond));var i=this._convertToFormat(t,e,mins,secs,msecs);return i},_convertToFormat:function(e,i,n,o,s){var a=this.options.timeunit,r=this.options.timeFormat,l=e,u=r.split(":"),h="";return t.each(u,function(t,e){var r=t+1==u.length;switch(a=r?"":a,e){case"hh":h+=i;break;case"mm":h+=n;break;case"ss":h+=o;break;case"ms":h+=s}h+=a}),l=h},getTimeFromFormat:function(t){var e=this.options.timeunit,i=0,n=t.toString().split(e);if(4==n.length){var o=n[0]*this._millisecsForAnHour,s=n[1]*this._millisecsForAMinute,a=n[2]*this._millisecsForASecond,r=parseInt(n[3]);i=o+s+a+r}else i=this.options.value;return i},_initSpinner:function(){var e=this,i=t(this.element)[e.options.editable?"val":"text"]();"time"!=this.options.type?(i.match("[0-9]")||(i=isNaN(this.options.defaultValue)?this.options.nullValue?this.options.nullValue:this.options.min+this.options.unit:this.options.defaultValue+this.options.unit),this.options.value=e.options.unit?i.toString().split(e.options.unit)[0]:i):i=this.getFormatFromTime(this.options.value),this.options._lastValue=this.options.value;var n=this.element.width()>=50?this.element.width():50;this._baseElement=t("<div>").css({width:n,display:"inline-block"}).addClass("ui-zspinner"),this._input=t(e.options.editable?"<input>":"<div>").attr(e.options.editable?"type":"contentEditable",!!this.options.editable&&"text").css({width:n-16}),this._baseElement.append(this._input);var o=t("<span>").addClass("ui-state-default ui-zspinner-up");o.hover(function(t){o.addClass("ui-state-hover")},function(t){o.removeClass("ui-state-hover")});var s=t("<span>").addClass("ui-icon ui-components-icon ui-icon-arrow-n");s.appendTo(o);var a=t("<span>").addClass("ui-state-default ui-zspinner-down");a.hover(function(t){a.addClass("ui-state-hover")},function(t){a.removeClass("ui-state-hover")});var r=t("<span>").addClass("ui-icon ui-components-icon ui-icon-arrow-s");r.appendTo(a);var l=t("<div>").addClass("ui-zspinner-controls").append(o).append(a);this.options.unit.match("[0-9]")&&(this.options.unit=""),this._input.addClass("ui-zspinner-content ui-widget-content")[e.options.editable?"val":"text"](i),this.options.editable||this._input.addClass("ui-noneditable-spinner"),this._baseElement.insertAfter(this.element),l.insertAfter(this._input),this._initEvents(),this.element.is(":disabled")&&this.disable(),this.element.hide()},_initEvents:function(){var e=this;this.options.editable||this._input.on("mousedown",function(t){e._input.attr("tabindex",0)}),this._mousedown=!1,this._previousValue=this.options._lastValue,this._input.on("keydown."+this.widgetName,function(i){if(e._isDisabled(e.element))return!1;var n=void 0,o=!1,s=isTabKey=!1;switch(i.keyCode){case t.ui.keyCode.ESCAPE:o=!0;break;case t.ui.keyCode.UP:n=!1;break;case t.ui.keyCode.DOWN:n=!0;break;case t.ui.keyCode.TAB:isTabKey=!!e.options.handleTabKey;break;case t.ui.keyCode.ENTER:s=!0;break;case t.ui.keyCode.LEFT:case t.ui.keyCode.RIGHT:e._hideCursor(!1)}void 0!=n&&(e._hideCursor(!0),e._setSpinning(n,i.shiftKey));var a=e._input[e.options.editable?"val":"text"]();if(!e.options.editable)return!1;if(a==e.options.nullValue||o){if(!o)return e.options.value=e.options.nullValue,!1}else if(e._checkValue(i),s)e._valueChangeNotTriggered=!1,e._triggerEvent(e._EVENTS.ONBLUR,i);else if(isTabKey){var r=e._checkAndReturnValue();e._previousValue!=r&&(e._valueChangeNotTriggered=!1,e._triggerEvent(e._EVENTS.ONBLUR,i))}else e._valueChangeNotTriggered=!0;}).keyup(function(t){return!e._isDisabled(e.element)&&void e._stopSpinning()}).on("mousedown."+this.widgetName,function(t){e._hideCursor(!1)}).on("focus."+this.widgetName,function(t){return!e._isDisabled(e.element)&&void(e._previousValue=e.options._lastValue)}).on("blur."+this.widgetName,function(i){var n=e._input[e.options.editable?"val":"text"]();n=e.options.unit?n.toString().split(e.options.unit)[0]:n;var o=!1,s=/^[. 0-9]+$/;"time"===e.options.type&&(s=/^[: 0-9]+$/),isNaN(parseFloat(n))||!s.test(n)?(o=!0,e.setValue(e.options._lastValue)):e.options.unit?(o=!0,e._input.val(n+e.options.unit),e.options._lastValue=n):"time"!=e.options.type&&(e.options._lastValue=n);var a=e._checkAndReturnValue();o&&e.options.value!=a&&(e._input.val(a+e.options.unit),e.options.value=a,e._callOnChange(),e.options.onchangeEvent&&t(e.element).trigger(e.options.onchangeEvent,{value:e.getValue()}),e.options.quickTrigger?e._triggerChangeEvent(e._EVENTS.ONCHANGE,void 0,i):e._triggerEvent(e._EVENTS.ONSPIN,i)),e._valueChangeNotTriggered&&(e._triggerEvent(e._EVENTS.ONBLUR,i),e._valueChangeNotTriggered=!1),e._resetValue(e.options.value)});var i=this._baseElement.children(".ui-zspinner-controls"),n=i.children(".ui-state-default");this._valueChangedButTriggerNotComplete=!1,n.find("span").on("mousedown."+e.widgetName,function(i){var n=t(i.target).parent();if(e._isDisabled(e.element)||n.hasClass("ui-state-disabled"))return!1;if(e._hideCursor(!0),e._mousedown=!0,i.which>1)return!1;e._hasValidValue=!0,n.addClass("ui-state-active");var o=t(i.target).hasClass("ui-icon-arrow-s");e._previousValue=e.options._lastValue,e._setSpinning(o,i.shiftKey),t(document).on("mouseup."+e.widgetName,function(i){return e._mousedown=!1,!e._isDisabled(e.element)&&(e._valueChangedButTriggerNotComplete||e._previousValue===e.getValue()||(e._valueChangedButTriggerNotComplete=!0),n.removeClass("ui-state-active"),e._stopSpinning(i,"fromDocEvent"),e._input.attr("tabindex",0),e._input.focus(),void t(document).off("mouseup."+e.widgetName))})})},_setSpinning:function(t,e){this._triggerEvent(this._EVENTS.ONSTART),this._spinning=!0,this._startSpinning(t?"down":"up",e)},_hideCursor:function(t){this._input[t?"addClass":"removeClass"]("ui-zspinner-cursor")},_startSpinning:function(e,i){var n=isNaN(this.options.value)?this.options.min:this.options.value,o=0;n==this.options.nullValue||isNaN(n)?n="up"==e?this.options.min-1:this.options.rotate?this.options.max+1:this.options.nullValue:(n=parseFloat(n),n==this.options.min&&this.options.nullValue&&(n="up"==e?n:this.options.nullValue)),n.toString().indexOf(this.options.unit)!=-1&&(this.options.unit="");var s=this;if(this._spinning){var a=this.options[i?"quickstep":"step"];switch(staticMod=Math.round(this.options.min*this._factor%(a*this._factor))/this._factor,e){case"up":if("time"!==this.options.type)if(o=Math.round(n*this._factor%(a*this._factor))/this._factor,o===staticMod)n+=a;else{var r=parseInt((n-this.options.min)/a);n=(r+1)*a+this.options.min}else n+=a;void 0==this.options.max||isNaN(this.options.max)?this._spinValue("up",n,a,i):(n>this.options.max&&this.options.rotate&&(n=this.options.nullValue?this.options.nullValue:this.options.min),(n>this.options.max||n<this.options.min)&&this._input[s.options.editable?"val":"text"](("time"==this.options.type?this.getFormatFromTime(this.options.max):this.options.max)+this.options.unit),(n<=this.options.max||isNaN(n))&&this._spinValue("up",n,a,i));break;case"down":if("time"!==this.options.type)if(o=Math.round(n*this._factor%(a*this._factor))/this._factor,o===staticMod)n-=a;else{var r=parseInt((n-this.options.min)/a);n=r*a+this.options.min}else n-=a;void 0==this.options.min||isNaN(this.options.min)?this._spinValue("down",n,a,i):(n<this.options.min&&this.options.rotate&&(n=this.options.nullValue?this.options.nullValue:this.options.max),(n<this.options.min||n>this.options.max)&&this._input[s.options.editable?"val":"text"](("time"==this.options.type?this.getFormatFromTime(this.options.min):this.options.min)+this.options.unit),(n>=this.options.min||isNaN(n))&&this._spinValue("down",n,a,i))}this.options.value=n,isNaN(n)?this.options.value=this.options.nullValue:this.options.value=this.options._lastValue=s._checkAndReturnValue(),this._callOnChange(),this.options.onchangeEvent&&t(this.element).trigger(this.options.onchangeEvent,{value:this.getValue()}),this.options.quickTrigger?this._triggerChangeEvent(this._EVENTS.ONCHANGE):this._triggerEvent(this._EVENTS.ONSPIN)}},_callOnChange:function(){this.options.onchange&&(isNaN(parseFloat(this.options.value))&&"time"!=this.options.type&&(this.options.value=parseFloat(this.element.val())),this.options.onchange(this.getValue()))},_spinValue:function(t,e,i,n){var o=this;this.options.floatLength=this.options.floatLength?this.options.floatLength:this._getDecimalPointLength(this.options.step);var s="time"!=this.options.type?isNaN(e)||e==this.options.nullValue?this.options.nullValue:e.toFixed(this.options.floatLength)+this.options.unit:this.getFormatFromTime(e);this._input[o.options.editable?"val":"text"](s).focus(),this._timeout=setTimeout(function(){o._startSpinning(t,n)},1e3)},_checkValue:function(e){var i=String.fromCharCode(e.keyCode).toLowerCase(),n=this,o=t(e.target)[n.options.editable?"val":"text"]();this.options.floatLength=this.options.floatLength?this.options.floatLength:this._getDecimalPointLength(this.options.step);var s=this.options.floatLength,a=externalKeys=void 0;!s||190!=e.keyCode&&110!=e.keyCode&&188!=e.keyCode&&59!=e.keyCode||o.indexOf(".")!=-1||(i=".",externalKeys=!0),a=e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105,n.options.min.toString().indexOf("-")!=-1&&(a=a||189==e.keyCode);var r="time"!=n.options.type?t(e.target)[n.options.editable?"val":"text"]():n.getTimeFromFormat(t(e.target)[n.options.editable?"val":"text"]());r=n.options.unit?parseFloat(r.toString().split(n.options.unit)[0]):parseFloat(r),a||externalKeys?this._checkTimeout=window.setTimeout(function(){var i=n._input[n.options.editable?"val":"text"](),s=!1;r="time"!=n.options.type?i:r,i=parseFloat(i),(i>n.options.max||i<n.options.min)&&(s=!0),s&&(r=i>n.options.max?o:i,t(e.target)[n.options.editable?"val":"text"](r)),n.options.value=n.options.unit?r.toString().split(n.options.unit)[0]:r,n._hasValidValue=!0,n._callOnChange()},1):e.ctrlKey||e.metaKey?89===e.keyCode?n._mac&&n._stopEvent(e):65!=e.keyCode&&67!=e.keyCode&&86!=e.keyCode&&88!=e.keyCode&&90!=e.keyCode&&89!=e.keyCode?n._stopEvent(e):86===e.keyCode&&n._checkValue(e):40!=e.keyCode&&38!=e.keyCode&&46!=e.keyCode&&8!=e.keyCode?(37!=e.keyCode&&39!=e.keyCode&&9!=e.keyCode&&n._stopEvent(e),n._hasValidValue=!1):(n._hasValidValue=!0,this._checkTimeout=window.setTimeout(function(){var t=n._input[n.options.editable?"val":"text"]();t="time"!=n.options.type?t:r,n.options.value=n.options.unit?t.toString().split(n.options.unit)[0]:t,n._callOnChange()},1))},_isMac:function(t){var e=navigator.userAgent.toLowerCase();return e.indexOf("mac")!=-1},_stopEvent:function(t){t.preventDefault(),t.stopPropagation()},_checkAndReturnValue:function(){var t=this.options.value;return t>this.options.max&&(t=this.options.max),t<this.options.min&&(t=this.options.min),t},_getDecimalPointLength:function(t){var e=t.toString().indexOf(".")!=-1,i=0;return e&&(i=t.toString().split(".")[1],i=i&&i.length>=2?2:i.length),i},_isDisabled:function(e){var i=t(e).attr("disabled");return!!i},_triggerChangeEvent:function(t,e,i){var n=this;this._changeEventTimeout&&clearTimeout(this._changeEventTimeout),this._changeEventTimeout=setTimeout(function(){n._triggerEvent(t,i),n._valueChangedButTriggerNotComplete&&"fromDocEvent"===e&&(n._triggerEvent(n._EVENTS.ONBLUR,i),n._valueChangedButTriggerNotComplete=!1)},this.options.changeEventDelay)},_triggerEvent:function(e,i){var n=this,o=n.getValue(),s={spinner:t(n.element),value:parseFloat(o)};return this.element.val(o),i=void 0!==i?i:e,n._trigger(e,i,s)},_stopSpinning:function(t,e){this._timeout=clearTimeout(this._timeout),clearTimeout(this._checkTimeout),this._spinning=!1,!this.options.quickTrigger&&this._hasValidValue&&(isNaN(parseFloat(this.options.value))&&"time"!=this.options.type&&(this.options.value=parseFloat(this.element.val())),this._triggerChangeEvent(this._EVENTS.ONCHANGE,e),this._triggerEvent(this._EVENTS.ONSTOP)),this._resetValue(this.options.value)},_resetValue:function(t){var e=this._baseElement.children(".ui-zspinner-controls");e.find(".ui-state-disabled").removeClass("ui-state-disabled"),(t>=this.options.max||t<=this.options.min)&&(t>=this.options.max&&e.find(".ui-zspinner-up").addClass("ui-state-disabled"),t<=this.options.min&&e.find(".ui-zspinner-down").addClass("ui-state-disabled")),this.options.value=Math.round(t*this._factor)/this._factor},getValue:function(){return isNaN(parseFloat(this.options.value))?this.options.min?this.options.min:0:this.options.value},setValue:function(t){if(!this._isDisabled(this.element)&&!this._valueChangedButTriggerNotComplete)if(isNaN(parseFloat(t)))this.options.nullValue?(t=this.options.nullValue,this.options.value=t):null===t?(t="",this.options.hiddenValue?this.options.value=this.options.hiddenValue:this.options.value=isNaN(this.options.defaultValue)?this.options.min:this.options.defaultValue):(t=isNaN(this.options.defaultValue)?this.options.min:this.options.defaultValue,this.options.value=t,t+=this.options.unit),this._input[this.options.editable?"val":"text"](t);else{t=t>this.options.max?this.options.max:t<this.options.min?this.options.min:parseFloat(t),t=t.toString().match("[0-9.]")?t:this.options.min;var e="time"!=this.options.type?parseFloat(t).toFixed(this.options.floatLength):this.getFormatFromTime(t);this.options.value="time"!=this.options.type?e:t,this._input[this.options.editable?"val":"text"](e+this.options.unit),this.options._lastValue=e,this.element.val(e),this._resetValue(this.options.value)}},setMinValue:function(e){t(this.element).attr("min",e),this.options.min=e,this._resetValue(this.options.value)},setMaxValue:function(e){t(this.element).attr("max",e),this.options.max=e,this._resetValue(this.options.value)},setStepValue:function(e){t(this.element).attr("step",e),this.options.step=e},setUnit:function(t){t&&(this.options.unit=t.toString())},disable:function(){t(this.element).attr("disabled","true"),this._baseElement.addClass("ui-state-disabled"),this._baseElement.find("input").attr("disabled","true")},enable:function(){this._isDisabled(this.element)&&(t(this.element).removeAttr("disabled"),this._baseElement.removeClass("ui-state-disabled"),this._baseElement.find("input").removeAttr("disabled"))},widget:function(){return this._baseElement},destroy:function(){this._baseElement.off("."+this.widgetName).remove(),t(this.element).show(),t.Widget.prototype.destroy.apply(this,arguments)}};t.widget("ui.zspinner",e),t.ui.zspinner.defaults={handleTabKey:!0,changeEventDelay:0,quickstep:5,rotate:!1,onchange:void 0,onchangeEvent:void 0,quickTrigger:!1,unit:"",decimalAllowed:!0,floatLength:0,nullValue:void 0,editable:!0,timeFormat:"mm:ss:ms"}}(jQuery),function(t){var e={_baseElement:void 0,_spinnerSlider:void 0,spinner:void 0,spinnerValue:0,widgetEventPrefix:"spinnerslider",_EVENTS:{ONSTART:"start",ONSPIN:"spin",ONCHANGE:"change",ONSTOP:"stop",ONSUBMIT:"submit"},_create:function(){this.options=t.extend({},t.ui.zspinnerslider.defaults,this.options),this._parseOptions(),this._createComponent()},_parseOptions:function(){var e=this;t(["min","max","step"]).each(function(t,i){e.options[i]=parseFloat(e.options[i])})},_createComponent:function(){var e=this,i=t("<div/>");i.insertAfter(this.element),this._spinnerSlider=i;var n=t("<div/>"),o=.6*this.element.width(),s=this.element.width()-o;s<50&&(s=50,o=this.element.width()-s),n.css({float:"left",margin:"7px 8px 0px 0px",width:o}).appendTo(i);var a=t.extend({},e.options,{slide:function(t,i){e.slider.slider("value");e.spinnerValue=parseFloat(e.spinner.zspinner("getValue")),e.spinner.zspinner("setValue",i.value)},change:function(t,i){i.value!=e.spinnerValue&&t.originalEvent&&(e.spinnerValue=i.value,e._triggerEvent(e._EVENTS.ONCHANGE,i.value),e._triggerEvent(e._EVENTS.ONSUBMIT,i.value))},range:"min",value:isNaN(e.options.defaultValue)?this.options.min:this.options.defaultValue}),r=t("<input />").css({width:s});n.slider(a),this.slider=n;var l=function(t){t.toString().indexOf(e.options.unit)!=-1&&(t=t.toString().split(e.options.unit)[0]),e.slider.slider("value",t),e._triggerEvent(e._EVENTS.ONCHANGE,t)},u=function(t,i){e._triggerEvent(e._EVENTS.ONSUBMIT,i.value)};r.attr("max",this.options.max),r.attr("min",this.options.min),r.attr("step",this.options.step),r.css({width:this.element.width()/4}).appendTo(i).zspinner({onchange:l,blur:u,unit:this.options.unit,defaultValue:this.options.defaultValue}),this.spinner=r,this.spinnerValue=parseFloat(this.spinner.zspinner("getValue")),i.css({width:n.outerWidth(!0)+s}),this.element.is(":disabled")&&(r.zspinner("disable"),n.slider("disable")),this.element.hide(),this._baseElement=i},_triggerEvent:function(e,i){var n={spinnerslider:t(this.element),value:i};return this._trigger(e,e,n)},setValue:function(t){isNaN(t)&&(t=isNaN(this.options.defaultValue)?this.options.min:this.options.defaultValue),this.spinner.zspinner("setValue",t),this.slider.slider("value",t)},getValue:function(){return this.spinner.zspinner("getValue")},disable:function(){this.spinner.zspinner("disable"),this.slider.slider("disable")},enable:function(){this.spinner.zspinner("enable"),this.slider.slider("enable")},widget:function(){return this._spinnerSlider},destroy:function(){this.spinner.zspinner("destroy"),this._baseElement.off("."+this.widgetName).remove(),this.element.show(),t.Widget.prototype.destroy.apply(this,arguments)}};e=t.extend({},t.ui.key,e),t.widget("ui.zspinnerslider",e),t.ui.zspinnerslider.defaults={min:0,max:100,step:1}}(jQuery),function(t){t.widget("ui.znavtab",{_COMPONENTEVENTS:{zflipswitch:"flipswitchchange",ztab:"tabchange",zspinner:"spinnerchange",zhiddennumericalslider:"hiddensliderchange",slider:"sliderchange",zcolorpallete:"colorpalletechange",zcombo:"combochange",zstatebutton:"statechange",zspinnerslider:"spinnersliderchange",zmenu:"menuitemclicked",zcolorfield:"colorfieldcolorselected"},widgetEventPrefix:"znavtab",_EVENTS:{ONAFTERSHOW:"aftershow",ONBEFORECLOSE:"beforeclose"},options:{static:!1,modal:!1,draggable:!0,closeAction:!0,closeButton:!0,keys:{"close.label":"Close","minimize.label":"Minimize","maximize.label":"Maximize"},minimizeOffset:{bottom:"0px",right:"0px"}},dialogComponents:void 0,_create:function(){this.openDialog(this.options)},setAssociatedObj:function(e){this.options.associatedObj=this._associatedObj=e,this._COMPONENTEVENTS=t.extend({},this._COMPONENTEVENTS,e.eventNameMapping),this.element.data("associatedObj",e)},openDialog:function(e){this._associatedObj=e.associatedObj;var i=t(this.element);if(this._dialogPosition=e.position,e.target&&(e.target=t(e.target),!e.position)){var n=e.target.offset();this._dialogPosition=[n.left,n.top+e.target.height()]}this._initOpenEvents(),i.data("associatedObj",e.associatedObj),this._addStatusDiv()},_initOpenEvents:function(){var e=this,i=t(this.element);this._dialogBase=this.element.parent(),this._associatedObj&&t.isFunction(this._associatedObj.beforeInit)&&this._associatedObj.beforeInit(i),t(document).one("componentinitialized",function(){e.dialogComponents=t("[ctype]",t(e.element)),e._fillValues(i,e.options.associatedObj,!0)}),t.ui.utils.initComponents(i),this.element.data("focussed",this._focusButton())},disableButton:function(t){var e=this.element.parent().find(".ui-dialog-buttonset").find("#"+t);"loader"==e.attr("btype")?e.addClass("ui-status-icon ui-state-progress").button({icons:{secondary:"ui-components-icon ui-icon-loader"}}).button("disable"):e.button("enable")},enableButton:function(t){var e=this.element.parent().find(".ui-dialog-buttonset").find("#"+t);"loader"==e.attr("btype")?e.button({icons:{secondary:""}}).button("enable"):e.button("enable")},changeButtonLabel:function(t,e){var i=this.element.parent().find(".ui-dialog-buttonset").find("#"+t);i.button("option","label",e)},changeButtonIcon:function(t,e){var i=this.element.parent().find(".ui-dialog-buttonset").find("#"+t);i.button("option","icons",e)},_addStatusDiv:function(){var e=this.element.parent().find(".ui-dialog-buttonset");this._statusDiv=t("<div>").addClass("ui-widget-content ui-dialog-footer-status").css({display:"inline","margin-right":"5px"}).hide(),e&&e.prepend(this._statusDiv)},showStatus:function(t){t="object"==typeof t?t:{status:t};var e=this._statusDiv;e.html(t.status).show(),setTimeout(function(){e.hide()},t.duration?t.duration:3e3)},open:function(e){this.isMinimized()?(this.maximize(),this.refreshValues()):this._hidden?(this._hidden=!1,this._dialogBase.show(),this.refreshValues()):this._initOpenEvents(),t(this.element).data("dialogOpened",!0),this._triggerEvent(this._EVENTS.ONAFTERSHOW),this._associatedObj&&t.isFunction(this._associatedObj.open)&&this._associatedObj.open(this.element)},_focusButton:function(){var e=this.element.find("input[tabindex], textarea[tabindex], button[tabindex]");if(e.length){var i=t(e.get(0)),n=i.prop("tabindex");e.each(function(e,o){t(o).prop("tabindex")<n&&(i=t(o),n=t(o).prop("tabindex"))})}else{var i=this._dialogBase.find(".ui-dialog-buttonset button:last:not(disabled)");i.length||(i=this._dialogBase.find(".ui-dialog-titlebar a:last"))}return this._setTabindex(),i.focus()},_setTabindex:function(){var e=this,i=e._dialogBase.find("button, input, select, textarea, .ui-zcombo");i.last().on("keydown."+this.widgetName,function(t){9==t.keyCode&&(i.get(0).focus(),t.preventDefault())}),i.on("keydown."+this.widgetName,function(i){if(9===i.which){var n=i.shiftKey?-1:1;e._getNextTabElement(t(this),n),i.preventDefault()}})},_getNextTabElement:function(e,i){var n=this._dialogBase.find("button, input, select, textarea, .ui-zcombo").filter(":visible").filter(function(){return!t(this).attr("disabled")}),o=t(n.toArray()),s=n.filter(function(){return t(this).attr("tabindex")>0});if(s.length){var a=n.filter(function(){return t(this).attr("tabindex")<1});o=t(s.toArray().concat(a.toArray()))}var r=o.eq((o.index(e)+i)%o.length);r.hasClass("ui-zcombo")&&(r.focus(),r.prev().zcombo("setFocus",!0)),r.focus()},isMinimized:function(){return!!this._dialogBase&&this._dialogBase.is(".ui-dialog-minimized")},minimize:function(){},_toggleMinimize:function(t){},_fillValues:function(e,i,n,o){if(i){i&&(t.isFunction(i.init)&&i.init(e),t.isFunction(i.beforeFillValues)&&i.beforeFillValues(e));var s=["zspinner","zspinnerslider"],a=o?o.find("[ctype]"):this.dialogComponents,r=this;a.each(function(e,o){o=t(o);var a=o.attr("ctype");if(!(i&&i.fillVisible&&o[a]("widget").is(":hidden"))&&o.metadata()&&o.metadata().appData){var l=o.metadata().appData,u=l.action;if(i.get){var h=i.get(u,o),d=t.inArray(a,s);d!=-1&&void 0===h&&(h=0),"zstatebutton"!=a&&void 0!==h||"zcombo"==a?"zbutton"!=a&&o[a]("setValue",h):o.val()==h||"checkbox"==t(o).attr("type")&&1==h?o.prop("checked",!0):o.prop("checked",!1)}if(r._COMPONENTEVENTS[a]&&n){var c=t(o);c.on(r._COMPONENTEVENTS[a]+".znavtab",{obj:i},function(e,i){var n=i.value;"zmenu"==a?n=i.menuitem:"zstatebutton"==a&&(n=c.is(":checked")),i.isFromSetValue||e.data.obj.set&&e.data.obj.set(l,n,t(e.target),a,i)})}}}),r._nonZohoComponents=e.find("[data]:not([ctype])"),r._nonZohoComponents.each(function(e,o){o=t(o);try{if(o.metadata()&&o.metadata().appData){var s=o.metadata().appData,a=s.action;if(i){if(i.get){var r=i.get(a,o);"checkbox"==o.attr("type")&&o.attr("checked",r),o.is("input")||o.is("button")||o.is("select")||o.is("textarea")?o.val(r):o.text(r)}n&&(o.is("input[type=text]")||o.is("textarea")?o.on("blur.zdialog",function(t){i.set&&i.set(s,o.val(),o)}):o.on("change.zdialog",function(t){i.set&&i.set(s,o.val(),o)}))}}}catch(t){}}),i&&t.isFunction(i.afterFillValues)&&i.afterFillValues(e)}},refreshValues:function(e,i,n){if(i){var o=t(this.element),s=this,a=this.options;e&&t.isFunction(e.beforeInit)&&e.beforeInit(o),t(document).one("componentinitialized",function(){s.dialogComponents=t("[ctype]",t(s.element).children(":first")),s._fillValues(o,a.associatedObj,!0,n)}),t.ui.utils.initComponents(o),s.element.data("focussed",s._focusButton())}else this._fillValues(this.element,e=e?e:this._associatedObj,!1,n),this.element.data("focussed",this._focusButton())},destroy:function(){this._destroy()},_destroy:function(){if(t(this.element).data("dialogOpened")){t(this.element).data("dialogOpened",!1);var e=this.options.associatedObj;e&&e.destroy&&e.destroy(),this._titlebar.off("."+this.widgetName),this._buildOrDestroyDialogComponents(!1),t(this.element).dialog("destroy"),t.Widget.prototype.destroy.apply(this,arguments)}},_checkAndDestroy:function(){return t(this.element.data("focussed")).blur(),this.options.hideOnClose?(this._dialogBase.hide(),this._hidden=!0,!1):(this.destroy(),!0)},close:function(){this.element.dialog("close")},_buildOrDestroyDialogComponents:function(e){if(this.dialogComponents){this.dialogComponents.each(function(i,n){var o=t(n).attr("ctype");e||t(n).off(".zdialog");var s=t(this).metadata();t(n)[o](e?s.componentOptions?s.componentOptions:s:"destroy")}),this.dialogComponents=void 0}this._nonZohoComponents&&(this._nonZohoComponents.each(function(e,i){t(i).off(".zdialog")}),this._nonZohoComponents=void 0)},_getString:function(e){return t.i18n?t.i18n("zdialog",e):this.options.keys[e]},_triggerEvent:function(t){var e={dialog:this.element,isMinimized:this.isMinimized()};return this._trigger(t,t,e)}})}(jQuery),function(t){t.tabutil={dialogs:{},options:{},_lastStaticDialog:void 0,open:function(t,e,i,n,o){o||(o={});var s=!0;return"object"==typeof o.ajax&&(s="boolean"!=typeof o.ajax.cache||o.ajax.cache),i&&(i.target=e),this.dialogs[t]||(this.dialogs[t]={}),!this.isDialogOpened(t)&&(this.dialogs[t].cacheStatus&&s?this._initDialog(t,e,i,n,o):this._fetchDialogContent(t,!1,e,i,n,o),this.isDialogOpen=!0,this.dialogDiv)},_checkAndCloseLastStaticDialog:function(t,e){t.staticDialog&&this._lastStaticDialog&&this._lastStaticDialog.znavtab("close"),this._lastStaticDialog=e},_initDialog:function(e,i,n,o,s){var a=this.dialogs[e];if(!a.widget){var r=t("<div>").prop("id",e+"zdialog").html(a.content).appendTo(t(s.appendTo)),l=t(r).children("div:eq(0)").metadata();l=t.extend({name:e,target:i},l),o&&(l=t.extend({},l,o)),a.data=l,a.widget=r.znavtab(l),r.znavtab("setAssociatedObj",n)}var l=a.data;if(l.maintainPosition&&a.position&&(l.position=a.position),s.onLoad){var u=s.onLoad;u()}this._checkAndCloseLastStaticDialog(a.data,a.widget),a.widget.znavtab("open",l.position),o&&o.doNotOpen&&a.widget.znavtab("close"),this._changeRequestStatus(e,"close"),a.widget.one("dialogclose",function(t,e){l.maintainPosition&&(a.position=a.widget.dialog("option","position")),!l.hideOnClose&&a.widget&&a.widget.length&&(a.widget.remove(),delete a.widget)})},_changeRequestStatus:function(t,e){this.dialogs[t].requestStatus=!1},_cacheDialog:function(t,e){var i=this.dialogs[t];i||(i={},this.dialogs[t]=i),this.dialogs[t].cacheStatus=!0,e.content&&(i.content=e.content),i.widget=e.widget},_getReplacedData:function(t){var e={},i=this.options.dataFormat;for(key in i)value=i[key],"TIME"==value?value=(new Date).getTime():"DIALOG_NAME"==value&&(value=t),e[key]=value;return e},_getURL:function(t,e){var i="";if(e&&"string"==typeof e.url)i=e.url;else{i=this.options.dialogFetchUrl;var n=this.options.paramsToReplaceInURL;for(key in n)value=n[key],value="DIALOG_NAME"===value?t:value,i=i.replace("{"+key+"}",value)}return i},_fetchDialogContent:function(e,i,n,o,s,a){if(this.dialogs[e].requestStatus)return!1;this.dialogs[e].requestStatus=!0;var r=this;a||(a={}),"boolean"!=typeof a.addDefaultData&&(a.addDefaultData=!0);var l="object"==typeof a.ajax?a.ajax:{},u="string"==typeof l.requestType?l.requestType:"GET",h=t.extend({},this._getReplacedData(e),l.data);a.addDefaultData||(h=l.data),t.ajax({type:u,url:this._getURL(e,l),data:h,error:function(){r._changeRequestStatus(e,"close")},success:function(t){var l=void 0;t&&r._cacheDialog(e,{content:t}),r.dialogs[e].cacheStatus=!0,i?(r._changeRequestStatus(e,"close"),i()):l=r._initDialog(e,n,o,s,a)}})},close:function(t,e){var i=this.dialogs[t];i&&i.widget&&i.widget.znavtab("close")},isDialogOpened:function(e){if(!e)return!!t(".ui-dialog:visible").length;var i=this.dialogs[e],n=!1;return i&&i.widget&&(n=i.widget.parent().is(":visible")),n},preLoadAllDialogs:function(){this._preloadDialog(0)},_preloadDialog:function(t){var e=this,i=this.options.dialogNames[t];i&&(this.dialogs[i]?e._preloadDialog(++t):(this.dialogs[i]={},this._fetchDialogContent(i,function(){setTimeout(function(){e._preloadDialog(++t)},300)})))},refreshValues:function(t,e,i,n){var o=this.dialogs[e];o&&o.widget&&o.widget.znavtab("refreshValues",t,i,n)},_getElementType:function(e){if(t(e).is(".ui-button"))return"button"},_getButtonObject:function(e){return t(e).parent().hasClass("ui-buttonset")?t(e).parent().hasClass("ui-button-splitbutton")?t(e).parent().parent():t(e).parent():e},makeCenter:function(t){var e=this.dialogs[t];e&&e.widget&&e.widget.dialog("option","position","center")},configure:function(t){this.options=t,t.preload&&this.preLoadAllDialogs()}}}(jQuery),function(t){var e={widgetEventPrefix:"collaborator",_STATUS:{ONLINE:"online",OFFLINE:"offline"},_NUMERIC_STATUS:["offline","online","active"],_EVENTS:{ONUSERNAMECLICKED:"usernameclicked",ONCHATENTERED:"chatentered",ONNAMECHANGE:"namechanged",ONUSERCOLORCLICKED:"usercolorclicked",ONADD:"add",ONREMOVE:"remove",ONSTATUSUPDATE:"statusupdate",ONOPEN:"open",ONCLOSE:"close"},options:{type:"panel"},_create:function(){this.options.dockable="pane"==this.options.type,this._customKeys={},this.options.keys&&(this._customKeys=t.extend({},t.ui.zcollaborator.defaults.keys,this.options.keys)),this.options=t.extend({},t.ui.zcollaborator.defaults,this.options),this._initComponents(),this._bindEvents()},_bindEvents:function(){var e=this;this.element.on("click."+this.widgetName,function(t){if(e._checkAndTrigger(t))return!1}),this._groupText.on("keydown."+this.widgetName,function(t){e._checkAndTrigger(t)}).on("blur."+this.widgetName,function(t){return e._checkAndTrigger(t),!1}).on("focus."+this.widgetName,function(t){return e._checkAndTrigger(t),!1}),e.options.dockable||t(window).on("resize."+e.widgetName,t.debounce(500,function(t){e._onDocumentResized(!0),e.element.dialog("option","position","right"),e._dialogBase.css({bottom:"28px",top:""})}))},_onDocumentResized:function(e){if(this.options.dockable){var i=this._mainHeader.is(":visible")?this._mainHeader.outerHeight(!0):0,n=this.options.chat?this._groupTextBase.outerHeight(!0)+i:i;this._baseHeight=this.element.height()-n,this.element.width(this.element.width()),this._mainHeader.width(this.element.width()-30)}else this._dialogHeight=2*(t(window).innerHeight()-t(".ui-ztab-menutab").outerHeight(!0))/3,this._dialogBase.height(this._dialogHeight),this._baseHeight=this._dialogHeight-95;this.options.chat?(this._eleHeight=Math.round((this._baseHeight-9)/2),this._listBase.height(Math.ceil(this._eleHeight)),this._groupChats.height(Math.ceil(this._eleHeight)),this._groupBase.height(Math.floor(this._eleHeight))):(this._eleHeight=Math.round(this._baseHeight),this._listBase.height(Math.ceil(this._eleHeight))),this._baseContainer.height(this._baseHeight)},destroy:function(){this.element.off(this.widgetName),this._groupText.off(this.widgetName),this._tabs&&(this._tabs.off(this.widgetName),this._tabs.ztab("destroy"))},_checkAndTrigger:function(e){var i=t(e.target);if("click"==e.type){if(i.parent(".ui-zcollaborator-list").length||i.is(".ui-zcollaborator-img")||i.is(".ui-zcollaborator-name")){var n=i.closest(".ui-zcollaborator-user"),o={user:n,uid:n.attr("uid")};return this._triggerEvent(this._EVENTS.ONUSERNAMECLICKED,e,o),!0}}else if("focus"==e.type)i.is("textarea")&&i.val()==this._getString("customchatmessage.label")&&(i.val(""),i.addClass("ui-zcollaborator-textarea-focus").removeClass("ui-zcollaborator-textarea-blur"));else if("blur"==e.type)i.is("textarea")&&""==i.val()&&(i.val(this._getString("customchatmessage.label")),i.removeClass("ui-zcollaborator-textarea-focus").addClass("ui-zcollaborator-textarea-blur"));else if(e.keyCode===t.ui.keyCode.ENTER&&!e.shiftKey){var s=i.val();e.preventDefault(),s.trim().length&&(i.val(""),this._triggerEvent(this._EVENTS.ONCHATENTERED,e,s))}},_triggerEvent:function(t,e,i){this._trigger(t,e,i)},_initComponents:function(){this.element.addClass("ui-zcollaborator"),this._initBase(),this._fillUsers()},_initBase:function(){var e=this;if(this._initGroupChat(),this._initListBase(),this._initTextChatBase(),this._initList(),this._baseContainer=t("<div>").addClass("ui-zcollaborator-base"),this.options.dockable?(this._initHeader(),this.element.append(this._mainHeader),this.element.addClass("ui-zcollaborator-frame")):(this.element.zdialog({autoOpen:!0,hideOnClose:!1,minimizable:!0,resizable:!1,width:"300px"}),this.element.dialog("option",{position:"right",dialogClass:"zcollaborator-dialog",title:this._getString("collaborators.label"),open:function(t,i){e._triggerEvent(e._EVENTS.ONOPEN,i)},close:function(t,i){e._triggerEvent(e._EVENTS.ONCLOSE,i)}}),this.element.dialog("close"),this._dialogBase=this.element.parent(),this._dialogBase.css({bottom:"28px",top:"",left:"",right:"0",height:this._dialogHeight}),this._titlebar=this._dialogBase.find(".ui-dialog-titlebar"),this._titlebar.find(".ui-dialog-titlebar-close").addClass("ui-dialog-titlebar-minimize").find(".ui-icon-closethick").removeClass("ui-icon-closethick").addClass("ui-components-icon ui-icon-minus"),this._minimizeBtn=this._titlebar.find(".ui-dialog-titlebar-minimize"),this._minimizeBtn.on("click",function(t){e.close()}),this._titlebar.on("dblclick."+this.widgetName,function(t){e.close()})),this.element.append(this._baseContainer),this._collabHeader=this.options.dockable?this._mainHeader:this._titlebar,this.options.actionsMenu){actionsBtn=t("<a>").attr({title:this._getString("actions.label"),popup:this.options.actionsMenu}).addClass("ui-dialog-titlebar-close").appendTo(this._collabHeader);t("<span>").addClass("ui-components-icon ui-icon-zsettings-small").appendTo(actionsBtn);actionsBtn.hover(function(){t(this).addClass("ui-state-hover")},function(){t(this).removeClass("ui-state-hover")}).on("dblclick."+this.widgetName,function(t){t.stopPropagation()}),this.options.dockable&&actionsBtn.css("right","5px")}this._baseContainer.append(this._listBase),this._baseContainer.append(this._groupBase),this.element.append(this._groupTextBase),this._onDocumentResized(!1);var i=function(i){e._groupChats.css({height:t(i).children(":last").height()})};this._baseContainer.zsplitpane({axis:"y",callback:i}),this._baseContainer.on("zsplitpaneresize",function(t,i){e._groupChats.css({height:e._baseContainer.height()-e._listBase.height()-9})}),this._groupBase.height(this._eleHeight),this.options.chat||(this._groupTextBase.hide(),this._groupBase.prev().hide(),this._baseContainer.zsplitpane("hideComponent","second"))},_initGroupChat:function(){this._groupBase=t("<div>").addClass("ui-zcollaborator-chatbase"),this._groupInner=t("<div>").addClass("ui-zcollaborator-chatinner"),this._groupChats=t("<div>").addClass("ui-zcollaborator-content"),this._groupInner.append(this._groupChats),this._groupBase.append(this._groupInner)},_initTextChatBase:function(){this._groupText=t("<textarea>").attr({autofocus:!1,class:"ui-zcollaborator-textarea",placeholder:this._getString("customchatmessage.label")}).text(this._getString("customchatmessage.label")),this._groupTextBase=t("<div>").addClass("ui-widget-content ui-zcollaborator-chat"),this._groupTextBase.append(this._groupText)},_initListBase:function(){this._listBase=t("<div>").addClass("ui-zcollaborator-content")},_initHeader:function(){this._mainHeader=t("<div>").addClass("ui-zcollaborator-header"),t("<span>").text(this._getString("collaborators.label")).attr("class","ui-zcollaborator-title").appendTo(this._mainHeader)},_initList:function(){this._list=t("<div>").addClass("ui-zcollaborator-list"),this._listBase.append(this._list)},_fillListArea:function(){if(this.options.tabs&&this.options.tabs.length){var e=t("<div>");this._tabs=e,e.append(t("<ul>")),this._baseContainer.append(e);var i=this;return e.ztab(),e.find(".ui-tabs-panel").css({padding:"0",border:"0"}),e.find(".ui-ztab-custom").hide(),t.each(this.options.tabs,function(t,n){var o=e.ztab("addTab",{label:n.label,selected:!t,id:n.id});t||o.relatedPane.append(i._listBase)}),e}return this._baseContainer.append(this._listBase),this._listBase},open:function(){this._dialogBase.is(".ui-dialog-minimized")&&this.element.zdialog("maximize");var t=this._dialogBase.css("top");this.element.dialog("open"),this._dialogBase.focus(),this._dialogBase.css({top:t,height:this._dialogHeight})},close:function(){this.element.dialog("close")},_fillUsers:function(){var e=this;t.each(this.options.users,function(t,i){e.addUser(i)})},_getClassForStatus:function(t){var e=t?this._STATUS[t.toString().toUpperCase()]:void 0;return void 0==e&&(e="online"),"ui-zchat-"+e},_getUser:function(t){return this.element.find("[uid='"+t+"']")},_getCamelizedSetter:function(t){return"set"+t.charAt(0).toUpperCase()+t.substring(1,t.length)},replaceUser:function(e,i){i=i?i:e.zuid;var n=this._getUser(i),o=n.data("user"),s=this;t.each(e,function(t,e){var n=s[s._getCamelizedSetter(t)];n?n.call(s,i,e):s._setUserInfo(o,t,e)}),e.userEle=n,n.data("user",e)},_getAllUsers:function(){return this._list.children(".ui-zcollaborator-user")},_getAllUserObjects:function(){var e=[],i=this._getAllUsers();return t(i).each(function(i,n){e[i]=t(n).data("user")}),e},_getUsersOfStatus:function(e){return!e&&"object"==typeof e&&e.status?this._list.children().not(t("[status]")):this._list.find("[status="+("object"==typeof e?e.status:e)+"]")},_getFrom:function(e,i,n){var o=this._getUsersOfStatus(i);return 1==o.length||o[0]==e[0]?t(o[0]):t(e).nextAll("[status="+i+"]:"+(n?"last":"first"))},_getNextBestPosition:function(t){var e="object"==typeof t?t.status:t;e&&(e=e.toString().toLowerCase());var i=this._list.find(".ui-zcollaborator-user:first");if(i.length){var n=void 0,o=!0,s=this._STATUS;switch(e){case s.ONLINE:n=this._getFrom(i,s.BUSY),n.length||(n=this._getFrom(i,s.IDLE)),n.length||(n=this._getFrom(i,s.OFFLINE));break;case s.OFFLINE:n=this._getFrom(i,s.UNDEFINED),n.length||(o=!1,n=this._getFrom(i,s.IDLE,!0)),n.length||(o=!1,n=this._getFrom(i,s.BUSY,!0))}return{isPrev:o,item:n}}},_appendUser:function(e,i,n){i||(i=e.data("user"));var o=this._traverseAndFindPosition(i);if(o&&o.item&&t(o.item).length)this._checkAndRemoveEmptyGroup(i,n),e[o.isPrev?"insertBefore":"insertAfter"](o.item);else if(!this._getUsersOfStatus(i).length){if(this._checkAndRemoveEmptyGroup(i,n),"active"==i.status){var s=this._createGroup("activeusers");this._list.prepend(s),e.insertAfter(s)}else{var a=t.extend({},i),r="online"==a.status?"offline":"online";a.status=r,this._getUsersOfStatus(a).length||this._list.append(this._createGroup("otherusers")),this._list.append(e)}this.options.showGroupsTitle||this._hideGroupTitle(i.status)}},hideGroupTitle:function(t){this._hideGroupTitle(t)},showGroupTitle:function(t){this._hideGroupTitle(t,!0)},_hideGroupTitle:function(e,i){"active"==e?t(".ui-zcollaborator-group[group=activeusers]")[i?"show":"hide"]():t(".ui-zcollaborator-group[group=otherusers]")[i?"show":"hide"]()},_checkAndRemoveEmptyGroup:function(e,i){var n=t.extend({},e);if(i&&(n.status=i),!this._getUsersOfStatus(n).length)if("active"==n.status)this._removeGroup("activeusers");else{var o="online"==n.status?"offline":"online";n.status=o,this._getUsersOfStatus(n).length||this._removeGroup("otherusers")}},_createGroup:function(e){var i=e;if("otherusers"!=e||t("[group=activeusers]").length){var n=t("[group=otherusers]");n.length&&n.text(this._getString("otherusers.label"))}else i="sharedusers";return t("<div>").attr("group",e).addClass("ui-zcollaborator-group").text(this._getString(i+".label"))},_removeGroup:function(e){t(".ui-zcollaborator-group[group="+e+"]").remove()},_getString:function(e){return t.i18n&&t.isEmptyObject(this._customKeys)?t.i18n("zcollaborator",e):this._customKeys[e]},_traverseAndFindPosition:function(e){var i=this._getUsersOfStatus(e),n=void 0,o=!0;return i.length?(i.each(function(i,o){var s=t(o).data("user");if(s.dname.toLowerCase()>e.dname.toLowerCase())return n=o,!1}),n||(n=i.last(),o=!1),{item:n,isPrev:o}):this._getNextBestPosition(e)},addUser:function(e){var i=this._getUser(e.zuid);if(i.length)return this.replaceUser(e);var n=t("<div>").addClass("ui-zcollaborator-user").attr("uid",e.zuid),o=t("<span>").addClass("ui-zcollaborator-imgcontainer"),s=t("<img>").addClass("ui-zcollaborator-img");if(o.append(s),e.image&&(s.attr("src",e.image),s.css({background:"none"})),void 0!=e.status){try{var a=parseInt(e.status);isNaN(a)||(e.status=a)}catch(t){}isNaN(e.status)||(e.status=this._NUMERIC_STATUS[e.status]),c=n.attr("status"),n.attr("status",e.status)}n.append(o);var r=t("<div>").attr("contenteditable",!1).addClass("ui-zcollaborator-name").text(e.dname);if(n.append(r),e.role){t("<span>").addClass("ui-zcollaborator-user-role").text("("+e.role+")").insertAfter(r)}if(e.editable){var l=this,u={user:n,uid:n.attr("uid")};r.addClass("ui-zcollaborator-user-editable");var h=r.val();r.on("click."+this.widgetName,function(t){return r.attr("contenteditable",!0).addClass("ui-zcollaborator-user-editing").focus(),h=r.text(),!1}).on("blur."+this.widgetName,function(t){if(r.hasClass("ui-zcollaborator-user-editing"))return r.removeClass("ui-zcollaborator-user-editing"),n.data("user").dname=""!=r.text()?r.text():h,u.dname=""!=r.text()?r.text():h,r.text(""!=r.text()?r.text():h).focusout().removeAttr("contenteditable"),r.text()!=h&&l._triggerEvent(l._EVENTS.ONNAMECHANGE,t,u),!1}).on("keydown."+this.widgetName,function(e){if(e.keyCode==t.ui.keyCode.ENTER)return r.removeClass("ui-zcollaborator-user-editing"),n.data("user").dname=""!=r.text()?r.text():h,u.dname=""!=r.text()?r.text():h,r.text(""!=r.text()?r.text():h).focusout().removeAttr("contenteditable"),r.text()!=h&&l._triggerEvent(l._EVENTS.ONNAMECHANGE,e,u),!1})}var d=t("<div>").addClass("ui-zcollaborator-status-message"),c=void 0,p=void 0,m=e.box;m&&("active"==e.status?this._createColorBox(e,d,m):d.append(t("<span>").addClass("ui-zcollaborator-status").addClass(this._getClassForStatus(e.status)))),e.ustatus&&(p=n.attr("ustatus"),n.attr("ustatus",e.ustatus.toLowerCase())),e.button&&d.append(e.button),n.append(d),e.userEle=n,n.data("user",e),this._appendUser(n,e),e=this._updateUsersCount(e),this._triggerEvent(this._EVENTS.ONADD,void 0,e)},_updateUsersCount:function(t){var e=this._getUsersOfStatus("active").length,i=this._getUsersOfStatus("online").length+this._getUsersOfStatus("offline").length;return t.activeUsers=e,t.otherUsers=i,t},_createColorBox:function(e,i,n){var o=this,s=t("<span>").addClass("ui-zcollaborator-user-colorbox").on("click",function(t){o._triggerEvent(o._EVENTS.ONUSERCOLORCLICKED,t,n),t.stopPropagation()});i.append(s),n&&(s.css({"background-color":n.color,border:"1px solid "+n.color}),n.fill&&"none"==n.fill?(e.permission=0,s.css({background:"none"})):e.permission=1,n.title&&s.attr("title",n.title))},removeUser:function(t){var e=this._getUser(t),i=e.data("user");e.remove(),i=this._updateUsersCount(i),this._triggerEvent(this._EVENTS.ONREMOVE,void 0,i),this._checkAndRemoveEmptyGroup(i,i.status)},_getUserInfo:function(t,e){var i=this._getUser(t);if(i&&i.length)return i.data("user")[e]},_setUserInfo:function(t,e,i){var n="object"==typeof t?t:this._getUser(t);if(n&&n.length){var o=n.data("user"),s=o[e];return o[e]=i,{user:n,userObj:o,prevValue:s}}},setStatus:function(t,e){isNaN(e)||(e=this._NUMERIC_STATUS[e]),e=e?e.toString().toLowerCase():void 0;var i=this._setUserInfo(t,"status",e);if(i){var n=i.user.attr("status"),o=this._getClassForStatus(i.prevValue),s=i.user.find(".ui-zcollaborator-innerstatus");s.removeClass(o),s.addClass(this._getClassForStatus(e)),i.user.attr("status",i.userObj.status);var a=i.user.remove();a.data("user",i.userObj),this._appendUser(a,i.userObj,n),this._updateUserStatusItem(i);var r=i.userObj;r=this._updateUsersCount(r),this._triggerEvent(this._EVENTS.ONSTATUSUPDATE,void 0,r)}},_updateUserStatusItem:function(e){var i=e.user.find(".ui-zcollaborator-status-message"),n=e.userObj;"active"!=n.status?i.empty().append(t("<span>").addClass("ui-zcollaborator-status").addClass(this._getClassForStatus(n.status))):(i.empty(),this._createColorBox(n,i,n.box))},getStatus:function(t){return this._getUserInfo(t,"status")},setUserStatus:function(t,e){var i=this._setUserInfo(t,"ustatus",e);if(i){var n=i.user.attr("ustatus");i.user.attr("ustatus",e.toLowerCase()),i.user.find(".ui-zcollaborator-status-text").text(e);var o=this._list.find("[ustatus="+e.toLowerCase()+"]").length;this._updateMessageItem(e.toLowerCase(),o,n)}},setUserColor:function(t,e){var i=this._setUserInfo(t,"color",e),n=i.user.find(".ui-zcollaborator-user-colorbox");return void 0==e||"undefined"==e||""==e?void n.hide():void(i&&(0!=i.userObj.permission?n.css({"background-color":e,border:"1px solid "+e}):n.css({border:"1px solid "+e}),n.show()))},setUserPermission:function(t,e,i){var n=this._setUserInfo(t,"permission",e);if(n){var o=n.user.find(".ui-zcollaborator-user-colorbox");0!=n.userObj.permission?o.css({"background-color":n.userObj.box.color}):o.css({border:"1px solid "+n.userObj.box.color,background:"none"}),o.attr("title",i)}},getStatusMessage:function(t){return this._getUserInfo(t,"ustatus")},setName:function(t,e,i){return this.setUserName(t,e,i)},setUserName:function(t,e,i){var n=this._setUserInfo(t,"dname",e);if(n&&n.user.find(".ui-zcollaborator-name").text(e),i){var n=this._setUserInfo(t,"role",i);n&&n.user.find(".ui-zcollaborator-user-role").text("("+i+")")}},getUserName:function(t){return this._getUserInfo(t,"dname")},setColor:function(t,e){return this.setUserColor(t,e)},setImage:function(t,e){return this.setUserImage(t,e)},setUserImage:function(t,e){var i=this._setUserInfo(t,"image",e);i&&i.user.find(".ui-zcollaborator-img").attr("src",e)},addChatMessage:function(e,i,n,o){var s=t("<div>").attr({class:"ui-zcollaborator-chatblock",id:"ui-zc-user"+o});if(this._lastChatEnteredUser!=e){var a=t("<span>").addClass("ui-zcollaborator-username").text(e+":");s.append(a)}var r=t("<span>").addClass("ui-zcollaborator-chatmsg")[n?"html":"text"](i);s.append(r),this._groupChats.append(s).scrollTop(this._groupChats[0].scrollHeight),this._lastChatEnteredUser=e},setCustomButton:function(t,e){this.removeCustomButton(t);var i=this._setUserInfo(t,"button",e);i&&e.insertAfter(i.user.find(".ui-zcollaborator-status-message"))},removeCustomButton:function(t){var e=this._getUserInfo(t,"button");e&&this._getUser(t).find("#"+e.attr("id")).remove()},_fillStatusBarItems:function(){var e=t("<div>").addClass("ui-statusbar").css({float:"right"});this._listStatus.append(e),this.options.statusBarKeys&&(this.options.statusBarKeys.messageKeys&&this._fillMessageKeyItems(),this.options.statusBarKeys.statusKeys&&this._fillStatusKeyItems())},_fillMessageKeyItems:function(){var e=this,i=this.options.statusBarKeys.messageKeys;t.each(i,function(t,i){e._addStatusItem(t,0,i)})},_fillStatusKeyItems:function(){var e=this,i=this.options.statusBarKeys.statusKeys;t.each(i,function(t,i){e._addStatusItem(i,e._list.find("[status="+i+"]").length)})},_addStatusItem:function(e,i,n){var o=t("<span>").attr("stype",e).attr("title",'{"componentOptions": {"content": "'+e+'", "callout": "north"}}'),s=t("<span>").addClass("ui-statusbar-icon");s.addClass(n?n:"ui-zcollaborator-colorbox ui-zchat-"+e);var a=t("<span>").addClass("ui-statusbar-text").text(i);s.appendTo(o),a.appendTo(o),o.appendTo(this._listStatus.children(".ui-statusbar"))},_setStatusItem:function(t,e){if(this.options.showStatusBar){var i=this._listStatus.find("[stype='"+t+"']");i.children(".ui-statusbar-text").text(e.toString())}},setStatusItem:function(t,e){this._setStatusItem(t,e)},_updateStatusItem:function(t,e,i){(this.options.statusBarKeys.statusKeys.length&&this.options.statusBarKeys.statusKeys.toString().indexOf(t)!=-1||i)&&(e||(e=this._list.find("[status="+t+"]").length),this.options.statusBarKeys.statusKeys.toString().indexOf(i)!=-1&&this._setStatusItem(i,this._list.find("[status="+i+"]").length),this._setStatusItem(t,e))},_updateMessageItem:function(t,e,i){(this.options.statusBarKeys.messageKeys&&this.options.statusBarKeys.messageKeys[t]||i)&&(e||(e=this._list.find("[ustatus="+t+"]").length),this.options.statusBarKeys.messageKeys[i]&&this._setStatusItem(i,this._list.find("[ustatus="+i+"]").length),this._setStatusItem(t,e))},fitToWindow:function(e){var i=e?e:this.element.height();if(this.element.height(i),this._onDocumentResized(!0),this.options.chat){var n=t(this.element).find(".ui-zsplitpane-divider").offset();this._baseContainer.zsplitpane("refresh",{position:{top:i/2},originalPosition:n})}}};t.widget("ui.zcollaborator",e),t.ui.zcollaborator={defaults:{users:[],chat:!0,keys:{"customchatmessage.label":"Type your message for collaborators...","activeusers.label":"Active Users","otherusers.label":"Others","sharedusers.label":"Shared Users","collaborators.label":"Collaborators","actions.label":"Actions"},showGroupsTitle:!0}}}(jQuery),function(t){var e={widgetEventPrefix:"zsplitpane",_EVENTS:{ONRESIZE:"resize"},_create:function(){this.windowSize=this._getWindowSize(),this._initDefaults(),this._initComponents(),this._bindEvents()},_initDefaults:function(){this.options=t.extend({},t.ui.zsplitpane.defaults,this.options),this.isX="x"==this.options.axis,this.gpos=this.isX?"left":"top",this.gsize=this.isX?"width":"height",this.tsize="outer"+(this.isX?"Width":"Height"),this.isize="inner"+(this.isX?"Width":"Height")},_initComponents:function(){this.element.addClass("ui-zsplitpane ui-widget ui-widget-content"),this._leftComponent=this.element.children(":first"),this._rightComponent=this._leftComponent.next(),this._initComponent(this._leftComponent),this._initComponent(this._rightComponent),this.options.callback&&this.options.callback(this.element),this._addDivider(this._leftComponent),this._fixSizeAndDraggable()},_initComponent:function(t){t.data("visible",!0),t.addClass("ui-zsplitpane-components ui-zsplitpane-components-"+this.options.axis)},_uninitComponent:function(t){t.removeClass("ui-zsplitpane-components ui-zsplitpane-components-"+this.options.axis)},_addDivider:function(e){var i=t("<div>"),n=this.options.axis;i.addClass("ui-state-active ui-zsplitpane-divider ui-zsplitpane-divider-"+n);var o=t("<span>").addClass("ui-components-icon ui-icon ui-zsplitpane-icon");o.appendTo(i),i.insertAfter(e);var s=this.options.oneTouchExpandable;s&&this._addExpandableArrow(i,n,s),i.attr("id",n),this._divider=i},_addExpandableArrow:function(e,i,n){var o=t("<div>").addClass("ui-icon ui-icon-layout ui-zsplitpane-arrowDiv"),s="ui-icon-triangle-1-"+("x"==i?"second"==n?"e":"w":"second"==n?"s":"n");if("x"==i){var a=parseInt((e.height()/2-8)/e.height()*100);o.css({top:a+"%",left:e.width()*-1})}else{var r=parseInt((e.width()/2-8)/e.width()*100);o.css({left:r+"%",top:e.height()*-1})}o.addClass(s),e.append(o);var l=this;o.on("click",function(t){l._oneTouchExpandable(t,n)})},_oneTouchExpandable:function(e,i){var n=e.target,o="second"===i?i:"first";this.toggleComponent(o,!0),t(n).hasClass("ui-icon-triangle-1-w")||t(n).hasClass("ui-icon-triangle-1-e")?t(n).hasClass("ui-icon-triangle-1-w")?t(n).removeClass("ui-icon-triangle-1-w").addClass("ui-icon-triangle-1-e"):t(n).removeClass("ui-icon-triangle-1-e").addClass("ui-icon-triangle-1-w"):t(n).hasClass("ui-icon-triangle-1-s")?t(n).removeClass("ui-icon-triangle-1-s").addClass("ui-icon-triangle-1-n"):t(n).removeClass("ui-icon-triangle-1-n").addClass("ui-icon-triangle-1-s")},_fixSizeAndDraggable:function(e){var i=this._leftComponent,n=this._rightComponent,o=i.metadata(),s=n.metadata(),a=i[this.tsize](),r=n[this.tsize](),l=this.element[this.gsize](),u=this._divider[this.tsize](),h=0,d=0,c=void 0,p=void 0;if(o.max&&s.max){if(h=a,d=l-h-u,d>s.max){var m=d-s.max;h+=m,d=s.max}else if(void 0!=s.min&&s.min>d){var m=s.min-d;d=s.min,h-=m}c=o.max,p=l-s.max-u}else if(o.max){if(h=a,(!a||h>o.max)&&(h=o.max),d=l-h-u,d<s.min){var m=s.min-d;d=s.min,h+=m}c=o.max,p=o.min?o.min:0}else if(s.max){if(d=r,(!r||d>s.max)&&(d=s.max),h=l-d-u,h<o.min){var m=o.min-h;h=o.min,d+=m}c=o.max}else d=r,h=a,r?h=l-r-u:!r&&a?(h=a,d=l-h-u):r||a||(h=d=(l-u)/2);if(void 0!=p){p*=1,c*=1;var f=this.element.position();p+=f[this.gpos],c+=f[this.gpos]}var _=void 0==p?this.element:[p,p,c,c],g=this._divider;if(this._isVisible(i)||(h=0,d=r),this._isVisible(n)||(d=0,h=a),i[this.gsize](Math.floor(h)),n[this.gsize](Math.floor(d)-8),e)g.draggable("option","containment",_);else{var v=this,b=g.clone();t(g).draggable({addClasses:!0,opacity:.5,helper:function(t){return b.css(v.isX?"height":"width",v.element["outer"+(v.isX?"Height":"Width")]()-2+"px").empty(),b},containment:_,axis:v.options.axis,start:function(t,e){if(v.options.freeze)return!1},stop:function(t,e){v._updatePosition(e)}})}},_fixComponentsSize:function(t,e,i,n){var o=this._leftComponent,s=this._rightComponent;e||(t*=-1);var a=o[this.gsize]()+t,r=s[this.gsize]()-(i?-1*t:t);o.css(this.gsize,a>0?a:0),s.css(this.gsize,r>0?r:0);var l={showOrHideComponent:n};this._triggerEvent(this._EVENTS.ONRESIZE,void 0,l)},_isVisible:function(e){return t(e).data("visible")},isVisible:function(t){return this._isVisible(t)},_updatePosition:function(t){var e=t.position[this.gpos];this._fixComponentsSize(e-t.originalPosition[this.gpos],!0,!1)},_bindEvents:function(){var e=this;this.options.refreshOnWindowResize&&t(window).on("resize."+this.widgetName,t.debounce(250,function(t){var i=e._getWindowSize(),n=e.windowSize;i.height==n.height&&i.width==n.width||(e.windowSize=i,setTimeout(function(){e._fixSizeAndDraggable(!0),e._triggerEvent(e._EVENTS.ONRESIZE,t)},100))}))},_getWindowSize:function(){var e=t(window);return{height:e.height(),width:e.width()}},destroy:function(){t(window).off(this.widgetName),this._uninitComponent(this._leftComponent),this._uninitComponent(this._rightComponent),this.element.removeClass("ui-zsplitpane ui-widget ui-widget-container"),this._divider.draggable("destroy"),this._divider.remove(),t.Widget.prototype.destroy.apply(this,arguments)},_triggerEvent:function(e,i,n){var o=this,s=!(!i||"resize"!==i.type),a=t.extend(!0,{axis:o.options.axis,windowResized:s},n);this._trigger(e,e,a)},COMPONENT_INDEX_STRING:{first:"left",second:"right"},_getComponent:function(t){var e=this.COMPONENT_INDEX_STRING[t.toLowerCase()];return this["_"+e+"Component"]},hideComponent:function(t,e,i){var n=this._getComponent(t),o=this._isVisible(n);if(o){var s=n[this.tsize](!0)+(i?this._divider[this.tsize](!0):0);n.data("lastSize",s),n.data("visible",!1),this.options.freeze=!e&&o,n.hide(),i&&this._divider.hide();var a="first"===t.toLowerCase();this._fixComponentsSize(s,!a,void 0,"hide")}},showComponent:function(t,e){var i=0;this._divider.is(":visible")||(this._divider.show(),i=this._divider[this.tsize](!0));var n=this._getComponent(t),o=this._isVisible(n);if(!o){n.data("visible",!0),this.options.freeze=!1,n.show();var s=n.data("lastSize")-i,a="first"===t.toLowerCase(),r=this._getComponent(a?"second":"first");this._fixComponentsSize(-1*s,!a,void 0,"show");var l=r[this.tsize]()-i;r[this.tsize](l)}},toggleComponent:function(t,e){var i=this._getComponent(t),n=this._isVisible(i);this[(n?"hide":"show")+"Component"](t,e)},getComponent:function(t){return this._getComponent(t)},refresh:function(t){var e=t.position[this.gpos];this._fixComponentsSize(e-t.originalPosition[this.gpos],!0,!0)}};t.widget("ui.zsplitpane",e),t.ui.zsplitpane.defaults={axis:"x",freeze:!1,oneTouchExpandable:void 0,refreshOnWindowResize:!1}}(jQuery),function(e){e.widget("ui.zorganizer",{widg:function(){return this},widgetEventPrefix:"zorganizer",scrollVelocity:100,scrollAcceleration:30,_EVENTS:{},_create:function(){this.options=e.extend({},e.ui.zorganizer.defaults,this.options),this._initContainer()},element:void 0,container:void 0,axis:void 0,items:"sortableItems",_initContainer:function(){this.container=e(this.element),this.axis=this.options.axis,this.items=this.options.items,this._bindEvents()},_bindEvents:function(){var t=this;this.container.mousedown(function(i,n){if(i.originalEvent&&0===i.button){var o=e(i.target),s=o.closest("."+t.items);1==s.length&&(t.sortItem=s,t._dragstart(i))}}),this.container.on("start."+t.widgetName,function(e,i){t.options.start&&t.options.start.call(t,e,i)}),this.container.on("move."+t.widgetName,function(e,i){t.options.move&&t.options.move.call(t,e,i)}),this.container.on("update."+t.widgetName,function(e,i){t.options.update&&t.options.update.call(t,e,i)}),this.container.on("stop."+t.widgetName,function(e,i){t.options.stop&&t.options.stop.call(t,e,i)})},_dragstart:function(t){this.container.trigger("start."+this.widgetName,{item:this.sortItem});var i={},n=this.container,o=n.offset(),s=this.sortItem,a=s.offset(),r=t.pageX,l=t.pageY,u={left:r-a.left,top:l-a.top},h=s.width(),d=s.height(),c=e("<div id = 'uiorganizer-dummy' class = '"+this.items+"' style = 'background-color:transparent;'></div>"),p="y"==this.axis?0:30;c.css({width:h,height:d-p});var m=this.options.commonScrollContainer?this.sortItem.offsetParent().parent():this.sortItem.offsetParent();i.parentOffset=m.offset();var f=n.css("position"),_=f.indexOf("absolute")!=-1||f.indexOf("relative")!=-1;_?containerPosition={left:0,top:0}:containerPosition=n.position(),i.offset={container:o,item:u},i.position={container:containerPosition};var g=e("."+this.items,this.container),v=this._indexNo(this.sortItem,this.items);i.scroll={width:this.container[0].scrollWidth,height:this.container[0].scrollHeight},i.sortableItems=g,i.dim={item:{width:s.width(),height:s.height()},container:{width:n.width(),height:n.height()}},i.dummy=c,i.sameParent=_,i.indexNo=v;var b=this;e(document).on("mousemove."+this.widgetName,i,function(t,e){b._dragmove.call(b,t,e)}),e(document).on("mouseup."+this.widgetName,i,function(t,e){b._dragend.call(b,t,e)})},_isSameElement:function(t,e){return t[0].isSameNode(e[0])},_indexNo:function(t,e){var i=t.parent(),n=e?i.children("."+e):i.children(),o=n.index(t);return o},_dragmove:function(t){var e=this.sortItem,i=this,n=t.data.dummy.data("isAppended");i.container.trigger("move."+i.widgetName,{item:e,isAppended:n}),n||(t.data.dummy.insertAfter(e),t.data.dummy.data("isAppended",!0),t.data.current=t.data.indexNo),i._sort.call(this,t)},_scrollContainer:function(t,i){var n=this;clearTimeout(this.timeId),this.timeId=setTimeout(function(){var o=e(t.target),s=o.closest(n.container);if(!s.length){if(e.browser.mozilla){if(t.pageY>i.top+i.height&&n.container.scrollTop(n.container.scrollTop()+n.scrollAcceleration),t.pageY<i.top){var a=n.container.scrollTop()-n.scrollAcceleration;a=a<0?0:a,n.container.scrollTop(a)}if(t.pageX>i.left+i.width&&n.container.scrollLeft(n.container.scrollLeft()+n.scrollAcceleration),t.pageX<i.left){var a=n.container.scrollLeft()-n.scrollAcceleration;a=a<0?0:a,n.container.scrollLeft(a)}}n._sort(t,i)}},n.scrollVelocity)},_sort:function(i){var n=i.data,o={left:n.offset.container.left,top:n.offset.container.top,width:n.dim.container.width,height:n.dim.container.height};this._scrollContainer(i,o);var s,a;i.data.sameParent?(a=this.container.scrollTop(),s=this.container.scrollLeft()):(a=0,s=0);var r,u,h={width:n.dim.item.width,height:n.dim.item.height},r=i.pageX-i.data.offset.item.left-i.data.parentOffset.left+s,u=i.pageY-i.data.offset.item.top-i.data.parentOffset.top+a;h.left=r,h.top=u,r=r>i.data.scroll.width-h.width?i.data.scroll.width-h.width:r,r=r<-.25*h.width?-.25*h.width:r,u=u>i.data.scroll.height-h.height?i.data.scroll.height-h.height:u,u=u<-.25*h.height?-.25*h.height:u;var d={position:"absolute"};"y"==this.axis?d.top=u:"x"==this.axis?d.left=r:(d.left=r,d.top=u),this.sortItem.css(d),this.sortItem.addClass("dragging");var c=e("."+this.items,this.container),p=void 0,m=this,f="insertAfter";e.each(c,function(n,o){if(o=e(o),"uiorganizer-dummy"==o.attr("id")||o.hasClass("dragging"))return!0;var d=o.position();m.options.commonScrollContainer&&(d.top=m.container.position().top+o.parent().position().top+d.top),l=d.left+s,t=d.top+a;var c=t-.5*h.height<u&&u<=t+.5*h.height,_=l-.5*h.width<r&&r<=l+.5*h.width,g="x"==m.axis?_:"y"==m.axis?c:_&&c;return g&&i.data.current!=n?(f=i.data.current<n?"insertAfter":"insertBefore",i.data.current=n,p=o,!1):void 0}),"undefined"!=typeof p&&(i.data.dummy[f](p),i.data.dummy.data("isAppended",!0),i.data.dummy.data("at",i.data.current))},_dragend:function(t){this.sortItem.hasClass("dragging")&&(this.sortItem.find(".ui-thumbs-count").remove(),this.sortItem.removeClass("dragging"),this.sortItem.css({position:"relative",left:0,top:0}),this.sortItem.insertBefore(t.data.dummy),t.data.dummy.data("isAppended",!1),t.data.dummy.remove());var i=this._indexNo(this.sortItem,this.items);i!=t.data.indexNo&&this.container.trigger("update."+this.widgetName,{item:this.sortItem}),clearTimeout(this.timeId),e(document).off("mousemove."+this.widgetName),e(document).off("mouseup."+this.widgetName),this.container.trigger("stop."+this.widgetName,{item:this.sortItem}),this.sortItem=void 0},option:function(t,i){return t?(this.options[t]=i,void(this[t]=i)):e.extend(!0,{},this.options)}}),e.ui.zorganizer.defaults={axis:"both",items:"sortableItems",commonScrollContainer:!1}}(jQuery),function(t){t.dialogutil={dialogs:{},options:{},_lastStaticDialog:void 0,create:function(t,e,i,n,o){this.dialogs[t]||(this.dialogs[t]={},this._cacheDialog(t,{content:o})),this._initDialog(t,e,i,n,{})},open:function(t,e,i,n,o){o||(o={});var s=!0;return"object"==typeof o.ajax&&(s="boolean"!=typeof o.ajax.cache||o.ajax.cache),i&&(i.target=e),this.dialogs[t]||(this.dialogs[t]={}),!this.isDialogOpened(t)&&(this.dialogs[t].cacheStatus&&s?this._initDialog(t,e,i,n,o):this._fetchDialogContent(t,!1,e,i,n,o),this.isDialogOpen=!0,this.dialogDiv)},_checkAndCloseLastStaticDialog:function(t,e){t.staticDialog&&this._lastStaticDialog&&this._lastStaticDialog.zdialog("close"),this._lastStaticDialog=e},_initDialog:function(e,i,n,o,s){var a=this.dialogs[e];if(!a.widget){var r=t("<div>").prop("id",e+"zdialog").html(a.content),l=t(r).children("div:eq(0)").metadata();l=t.extend({name:e,target:i},l),o&&(l=t.extend({},l,o)),a.data=l,a.widget=r.zdialog(l),r.zdialog("setAssociatedObj",n)}var l=a.data;if(l.maintainPosition&&a.position&&(l.position=a.position),s.onLoad){var u=s.onLoad;u()}this._checkAndCloseLastStaticDialog(a.data,a.widget),a.widget.zdialog("open",l.position),o&&o.doNotOpen&&a.widget.zdialog("close"),this._changeRequestStatus(e,"close"),a.widget.one("dialogclose",function(t,e){l.maintainPosition&&(a.position=a.widget.dialog("option","position")),!l.hideOnClose&&a.widget&&a.widget.length&&(a.widget.remove(),delete a.widget)})},_changeRequestStatus:function(t,e){this.dialogs[t].requestStatus=!1},_cacheDialog:function(t,e){var i=this.dialogs[t];i||(i={},this.dialogs[t]=i),this.dialogs[t].cacheStatus=!0,e.content&&(i.content=e.content),i.widget=e.widget},_getReplacedData:function(t){var e={},i=this.options.dataFormat;for(key in i)value=i[key],"TIME"==value?value=(new Date).getTime():"DIALOG_NAME"==value&&(value=t),e[key]=value;return e},_getURL:function(t,e){var i="";if(e&&"string"==typeof e.url)i=e.url;else{i=this.options.dialogFetchUrl;var n=this.options.paramsToReplaceInURL;for(key in n)value=n[key],value="DIALOG_NAME"===value?t:value,i=i.replace("{"+key+"}",value)}return i},_fetchDialogContent:function(e,i,n,o,s,a){if(this.dialogs[e].requestStatus)return!1;this.dialogs[e].requestStatus=!0;var r=this;a||(a={}),"boolean"!=typeof a.addDefaultData&&(a.addDefaultData=!0);var l="object"==typeof a.ajax?a.ajax:{},u="string"==typeof l.requestType?l.requestType:"GET",h=t.extend({},this._getReplacedData(e),l.data);a.addDefaultData||(h=l.data),t.ajax({type:u,url:this._getURL(e,l),data:h,error:function(){r._changeRequestStatus(e,"close")},success:function(t){var l=void 0;t&&r._cacheDialog(e,{content:t}),r.dialogs[e].cacheStatus=!0,i?(r._changeRequestStatus(e,"close"),i()):l=r._initDialog(e,n,o,s,a)}})},close:function(t,e){var i=this.dialogs[t];i&&i.widget&&i.widget.zdialog("close")},isDialogOpened:function(e){if(!e)return!!t(".ui-dialog:visible").length;var i=this.dialogs[e],n=!1;return i&&i.widget&&(n=i.widget.parent().is(":visible")),n},preLoadAllDialogs:function(){this._preloadDialog(0)},_preloadDialog:function(t){var e=this,i=this.options.dialogNames[t];i&&(this.dialogs[i]?e._preloadDialog(++t):(this.dialogs[i]={},this._fetchDialogContent(i,function(){setTimeout(function(){e._preloadDialog(++t)},300)})))},refreshValues:function(t,e,i,n){var o=this.dialogs[e];o&&o.widget&&o.widget.zdialog("refreshValues",t,i,n)},_getElementType:function(e){if(t(e).is(".ui-button"))return"button"},_getButtonObject:function(e){return t(e).parent().hasClass("ui-buttonset")?t(e).parent().hasClass("ui-button-splitbutton")?t(e).parent().parent():t(e).parent():e},makeCenter:function(t){var e=this.dialogs[t];e&&e.widget&&e.widget.dialog("option","position","center")},configure:function(t){this.options=t,t.preload&&this.preLoadAllDialogs()}},"undefined"!=typeof ZComponents&&void 0!==typeof ZComponents||(ZComponents=function(){ZComponents.isInited=!0}),ZComponents.showConfirmMessage=function(e){e=t.extend({},e,{type:"confirm"}),ZComponents.showMessageDialog(e)},ZComponents.showAlertMessage=function(e){e=t.extend({},e,{type:"alert"}),ZComponents.showMessageDialog(e)},ZComponents.showPromptMessage=function(e){e=t.extend({},e,{type:"prompt"}),ZComponents.showMessageDialog(e)},ZComponents.showMessageDialog=function(e){function i(i){e.onClose&&e.onClose(i),t("#ui-zdialog-"+e.type).remove()}function n(i){var n={isCancel:!0};i&&(n={isCancel:!1,value:"prompt"===e.type?t("#ui-zdialog-"+e.type+"-textbox").val():void 0}),a.dialog("option","alerInfo",n),t("#ui-zdialog-"+e.type).zdialog("close")}var o=t("#ui-zdialog-"+e.type);o&&o.length&&ZComponents.closeMessageDialog("#ui-zdialog-"+e.type);var s={position:["auto",window.innerHeight/3/3],title:e.title,modal:!0,closeButton:!1,resizable:!1,autoOpen:!0,draggable:!1,initComponents:!1},a=t("<div ctype='zdialog' id='ui-zdialog-"+e.type+"'></div>");void 0!==e.primary&&a.append("<span id='ui-primary-msg' class='ui-primary-msg'>"+e.primary+"</span>"),void 0!==e.secondary&&a.append((void 0!==e.primary?"<br>":"")+"<span id='ui-secondary-msg' class='ui-secondary-msg'>"+e.secondary+"</span>"),"prompt"===e.type?(a.append("<br><input id='ui-zdialog-"+e.type+"-textbox' type='text'/>"),e.commandType="ok-cancel"):"confirm"===e.type?e.commandType="ok-cancel":"alert"===e.type&&(e.commandType="default"),s.buttons=void 0!==e.buttons?e.buttons:ZComponents._getButtonPanelElements(e);var r=0;t.each(s.buttons,function(t,e){e.click=function(t){n("true"===e.indicate,!0,e)},r+=e.text.length}),r>50&&(s.width="auto"),a.on("dialogclose",function(t){var e=a.dialog("option","alerInfo");i(e?e:{isCancel:!0})}).on("dialogopen",function(i){if(""===e.title||void 0===e.title?a.closest(".ui-dialog").find(".ui-dialog-titlebar").remove():e.titleClass&&a.closest(".ui-dialog-titlebar").find("span").addClass(e.titleClass),a.css("border-top-width","0px"),e.icon){var n=t("<span />").addClass("ui-zalert-icon "+e.icon);t("#ui-primary-msg, #ui-secondary-msg").addClass("ui-zdialog-msg"),""===e.title||void 0===e.title?a.prepend(n):a.prev(".ui-dialog-titlebar").prepend(n)}a.closest(".ui-dialog").addClass("ui-alert-dialog");var o=a.next().find("button");1===o.length?o.addClass("ui-zbutton-secondary"):2===o.length&&(t(o[0]).addClass("ui-zbutton-primary"),t(o[1]).addClass("ui-zbutton-secondary")),e.onOpen&&e.onOpen()}),s.alerInfo=void 0,a.zdialog(s)},ZComponents.closeMessageDialog=function(e){t("#"+e).zdialog("close")},ZComponents._getButtonPanelElements=function(t){t.keys={ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"};var e=[{id:"ui-zdialog-cancel",text:t.keys.cancel,indicate:"false"},{id:"ui-zdialog-ok",text:t.keys.ok,indicate:"true"},{id:"ui-zdialog-yes",text:t.keys.yes,indicate:"true"},{id:"ui-zdialog-no",text:t.keys.no,indicate:"false"}];return"yes-no-cancel"===t.commandType?e.splice(1,1):"ok-cancel"===t.commandType?e.splice(2,2):"yes-no"===t.commandType?e.splice(0,2):"default"!==t.commandType&&void 0!==t.commandType||(e.splice(0,1),e.splice(1,2)),e}}(jQuery),function(t){t.widget("ui.zellipsis",{options:{maxSize:400,ellipsisText:!1},widgetEventPrefix:"ellipsis",_EVENTS:{ONCLICK:"click"},originalText:void 0,_create:function(){var t=this,e=this.getEllipsisText(this.options.maxSize);this.element.addClass("ui-zellipsis").text(e).on("click",function(e,i){t._triggerEvent(t._EVENTS.ONCLICK)})},getEllipsisText:function(e){var i=0,n=this.element.text();this.originalText=n;var o=t("<div>").addClass("ui-zellipsis").text(n);t("body").append(o);for(this.options.ellipsisText;o.width()>e;)i++,o.text(n.substring(0,n.length-i));return n=o.text(),n.length<this.originalText.length?this.element.width(e-6):this.element.width("auto"),o.remove(),this.element.attr("title",n),n},setTitle:function(t){this.element.text(t),this.getEllipsisText(this.options.maxSize)},_triggerEvent:function(t){var e={text:this.originalText,ellipsisText:this.element.text(),target:this.element};this._trigger(t,t,e)}})}(jQuery),function(t){var e={widgetEventPrefix:"import",_documentNameEle:void 0,_documentName:void 0,_fetchRequest:!0,_dialogEle:void 0,_dialogBase:void 0,_importCompleted:!1,_requestSentFrom:void 0,_importResourceId:void 0,_placeholderText:"http://",_importInfo:{documentName:void 0,passwordprotected:!1,fileExtn:void 0,importedFileName:void 0,importedFileURL:void 0,filePassword:void 0,importFromLocal:!0},_blinkCount:3,_uploadPer:30,_EVENTS:{ONSUCCESS:"success",ONFAIL:"fail",ONMINIMIZE:"minimize",ONMAXIMIZE:"maximize"},options:{passwordprotected:!1,uploadLabel:!1,uploadServerStatus:!1,serviceType:"SW",uploadServerURL:"",progressType:"indeterminate"},_create:function(){var e=this;this.options=t.extend({},t.ui.zimport.config,this.options);var i=t(this.element);this._dialogBase=this.element.parent(),this.options.uploadServerStatus=!!this.options.uploadServerStatus&&this.options.uploadServerStatus,this.options.uploadServerStatus=""!=this.options.uploadServerURL&&this.options.uploadServerStatus,i.parent().zdialog({hideOnClose:!1}),i.parent().dialog("option",{position:"center",width:460,buttons:[{text:e._getString("import.label"),click:function(t){var i=e.getDocumentInfo();if(e.options.importData){var n=e.options.importData(i);e.uploadDocument(n)}},id:"import"},{text:e._getString("cancel.label"),click:function(t){e._dialogBase.dialog("close")},id:"close"}],title:e._getString("import.label"),resizable:!1,beforeClose:function(e,i){var n=t(e.target).closest(".ui-dialog-titlebar-close");return!n.hasClass("ui-state-disabled")}}),this._dialogEle=this._dialogBase.parent(".ui-dialog"),this._createImportContainer(i),this._createImportStatusContainer(i),this._titlebar=this._dialogEle.find(".ui-dialog-titlebar"),this._minimizeBtn=this._titlebar.find(".ui-dialog-titlebar-minimize"),this._minimizeBtn.hide(),this._closeIcon=this._titlebar.find(".ui-dialog-titlebar-close").filter(":not(.ui-dialog-titlebar-minimize)"),this._btnPane=this._dialogEle.find(".ui-dialog-buttonpane"),this._importBtn=this._btnPane.find("#import").button("disable"),this._closeBtn=this._btnPane.find("#close"),i.parent().on("zdialogmaximize",function(i,n){e._importCompleted?e._btnPane.hide():e._btnPane.show(),t(document).trigger(e.widgetEventPrefix+e._EVENTS.ONMAXIMIZE,n)}),i.parent().on("zdialogminimize",function(i,n){t(document).trigger(e.widgetEventPrefix+e._EVENTS.ONMINIMIZE,n)}),i.parent().on("zdialogaftershow",function(t,i){e._minimizeBtn=e._titlebar.find(".ui-dialog-titlebar-minimize"),e._minimizeBtn.hide()})},cancelImport:function(){},_createImportContainer:function(e){var i=t("<div>").addClass("ui-import-container").appendTo(e);this._createImportFromContainer(i),this._createNotesContainer(i),this._createDocumentInfoContainer(i),this._importBase=i},_createImportStatusContainer:function(e){var i=t("<div>").addClass("ui-import-status-container").appendTo(e).hide(),n=t("<div>").addClass("ui-import-status").appendTo(i),o=this._getString((this.options.uploadLabel?"uploading":"importing")+".label"),s=(t("<span>").addClass("ui-import-status-label").text(o).appendTo(n),t("<div>").appendTo(n));s.zprogressbar({type:this.options.progressType,labelEle:!1});t("<span>").addClass("ui-import-status-filename").text("Imported File Name").appendTo(n);this._importStatusbase=i},updateProgress:function(t,e){var i=this._importStatusbase.find(".ui-zprogressbar");if(this.options.statusFetchURL){var n=100-this._uploadPer;t=parseInt(t/100*n)+this._uploadPer}i.zprogressbar("setValue",t),e&&this._importStatusbase.find(".ui-import-status-label").text(e)},uploadDocument:function(e){var i=this.getDocumentInfo();this._importBtn.button("option","label",this._getString("importing.label")),this._importBtn.button("disable");var n=this,o={progress:function(t,e){n._importBase.fadeOut("slow").hide(),n.showImportStatusContainer();var i=n._importStatusbase.find(".ui-zprogressbar");n._importBtn.hide(),n._btnPane.hide(),n._closeIcon.disable(),n._positionDialog(),i.zprogressbar("setValue",e)},success:function(t){var e=JSON.parse(t);n._importBase.fadeOut("slow").hide(),n._importStatusbase.hide(),n._dialogBase.zdialog("isMinimized")||n._btnPane.show(),n._closeIcon.enable(),n._importBtn.hide(),n._closeBtn.button("option","label",n._getString("close.label")),n.showMessage("success",n._getString("successmessage.label"),e)},fail:function(t){n._importBase.fadeOut("slow").hide(),n._importStatusbase.fadeOut("slow").hide(),n._importBtn.hide(),n._dialogBase.zdialog("isMinimized")||n._btnPane.show(),n._closeIcon.enable(),n.showMessage("error",n._getString("errormessage.label"),t)}};if(this.options.uploadServerStatus&&this._importInfo.importFromLocal&&this._checkAjaxUploadAndProgressEvents())this._udServerUpload(i,o),this._requestSentFrom="uploadserver";else{var s=this.options.uploadURL,a=t(this.element).metadata().componentOptions;"object"==typeof a&&(s=a.uploadURL||this.options.uploadURL),this._requestSentFrom="local",t.ajaxUpload(s,e,o)}},_checkAjaxUploadAndProgressEvents:function(){var t=new XMLHttpRequest;return!!(t&&"upload"in t&&"onprogress"in t.upload)},_udServerUpload:function(e,i){var n=new XMLHttpRequest,o=n.upload;o.fileIndex=0,o.fileName=encodeURIComponent(e.documentName),o.downloadStartTime=(new Date).getTime(),o.currentStart=o.downloadStartTime,o.currentProgress=0,o.startData=0,this._uploadId=o.fileIndex+"_new_"+t.now()+"_",n.onreadystatechange=function(){4===n.readyState&&200!==n.status?i.fail(n):1===n.readyState&&i.progress(n)},n.open("POST",this.options.uploadServerURL,!0),n.setRequestHeader("Connection","Keep-Alive"),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("x-service","EX"),n.setRequestHeader("x-streammode","1"),n.setRequestHeader("charset","utf-8"),n.setRequestHeader("upload-id",this._uploadId),n.setRequestHeader("upload-from",this.options.serviceType),n.setRequestHeader("x-filename",encodeURIComponent(e.documentName+e.fileExtn)),n.setRequestHeader("x-doc_conversion",!0),n.setRequestHeader("x-content_type",e.documentType),n.setRequestHeader("x-uploadTo","myfolders"),n.setRequestHeader("x-folderId","-1"),n.withCredentials=!0,n.send(this._fromLocalPane[0].files[0])},_positionDialog:function(){this._dialogBase.zdialog("isMinimized")||this._dialogBase.dialog("option","position","center")},_fetchImportStatus:function(e,i){if(this._fetchRequest){var n=this;this._statusFetchRequest=t.ajax({type:"GET",url:n.options.statusFetchURL,data:{sch_id:e,DATE:(new Date).getTime()},success:function(t,e){n._statusResp(t,e,i)},error:function(){setTimeout(function(){n._fetchImportStatus(e,i)},5e3)}})}},_statusResp:function(t,e,i){var n=JSON.parse(t),o=n.STATUS,s=this,a=n.IMPORT_ID,r=s._importStatusbase.find(".ui-progressbar");if(2==o)r.zprogressbar("setValue",100),s._importStatusbase.fadeOut("slow").hide(),s._dialogBase.zdialog("isMinimized")||s._btnPane.show(),s._closeBtn.button("option","label",s._getString("close.label")),s._closeIcon.enable(),s._positionDialog(),s.showMessage("success",s._getString("successmessage.label"),n);else if(3==o)s._importStatusbase.fadeOut("slow").hide(),s.showMessage("error",s._getString("errormessage.label"),n),s._dialogBase.zdialog("isMinimized")||s._btnPane.show(),s._closeBtn.button("option","label",s._getString("close.label")),s._closeIcon.enable(),s._positionDialog();else if(0==o||1==o){var l=r.zprogressbar("getValue");l>90&&l<98?(l+=2,r.zprogressbar("setValue",l),setTimeout(function(){s._fetchImportStatus(a,i)},1e3)):setTimeout(function(){s._fetchImportStatus(a,i)},5e3)}},showImportStatusContainer:function(t){this._minimizeBtn.show(),this._importCompleted=!0;var e=this._importStatusbase;t&&e.find(".ui-import-status-label").text(t),this._documentName&&e.find(".ui-import-status-filename").text(this._documentName),e.show()},_createFileOpenLink:function(e){t("#ui-zimport-openlink").length&&t("#ui-zimport-openlink").remove();var i=t("<span>").attr({class:"ui-zimport-fileopenlink-container",id:"ui-zimport-openlink"}).text(this._getString("open.label")).appendTo(e);this._fileOpenElement=t("<a>").attr({href:"#",target:"_blank"}).addClass("ui-import-fileopen-link").text(this._documentName).appendTo(i)},_blinkContainer:function(e,i,n){t(e)[t(e).hasClass(i)?"removeClass":"addClass"](i),n||(n=1);var o=this;n<2*this._blinkCount&&setTimeout(function(){n+=1,o._blinkContainer(e,i,n)},500)},setImportResourceId:function(t){return this._uploadId===t.eventid&&(this._importResourceId=t.resourceId),this._uploadId},showMessage:function(e,i,n){if("status"==e){var o=this._uploadId===i.eventid;if(!o&&(o=this._importResourceId===i.resourceId,!o))return!1;var s={D9200:"errormessage.label",D9201:"emptyfileuploaderror.label",D9202:"validsizemessage.label",D9203:"filecontainsvirus.label",D9205:"errormessage.label",D9210:"errormessage.label",D9211:"errormessage.label",D9300:"errormessage.label",D9301:"errormessage.label",D201:"errormessage.label",D202:"successmessage.label",D200:"successmessage.label",D199:"errormessage.label",F252:"errormessage.label",F227:"errormessage.label"};if("D201"==i.status_code||"D200"==i.status_code||"D199"==i.status_code)return!1;if(e="D202"==i.status_code?"success":"fail",n={status:e,resinfo:{rid:i.resourceId}},"success"===e)i=this._getString("successmessage.label"),this._importBase.fadeOut("slow").hide(),this._importStatusbase.hide(),this._dialogBase.zdialog("isMinimized")||this._btnPane.show(),this._closeIcon.enable(),this._importBtn.hide(),this._closeBtn.button("option","label",this._getString("close.label"));else{var a=void 0!=s[i.status_code]?this._getString(s[i.status_code]):"";i=""!=a?a:""!=i.message&&void 0!=i.message?i.message:this._getString("errormessage.label"),this._importBase.fadeOut("slow").hide(),this._importStatusbase.fadeOut("slow").hide(),this._importBtn.hide(),this._dialogBase.zdialog("isMinimized")||this._btnPane.show(),this._closeIcon.enable()}}this._importCompleted=!1;var r="success"==e;this._triggerEvent(this._EVENTS[r?"ONSUCCESS":"ONFAIL"]);var l=t(this.element);if(this._dialogBase.zdialog("isMinimized")){var u=this._dialogEle.find(".ui-dialog-titlebar"),h=u.find(".ui-dialog-title");h.text();this._blinkContainer(u,"ui-state-highlight")}else this._minimizeBtn.hide();var d=r?"status":"error";t("#ui-zimport-message").length&&t("#ui-zimport-message").remove();var c=t('<div id="ui-zimport-message">').addClass("ui-corner-all ui-znotifier ui-state-"+d).appendTo(l),p=t("<span>").addClass("ui-znotifier-message").text(i).appendTo(c);t("<span>").addClass("ui-components-icon ui-state-"+d+"-icon").appendTo(p);r&&this._createFileOpenLink(l);var m=this.options.callbacks,f=t.extend({},this._importInfo);f.fileOpenURL=this.options.fileOpenURL,f.fileOpenElement=this._fileOpenElement,m&&(r?m.success&&m.success(n,f,this.options.fileOpenURL):m.fail&&m.fail(n,f,this.options.fileOpenURL)),c.hide().fadeIn("slow").show()},_checkFileExtn:function(e){var i=this.options.supportedFileFormats;"string"==typeof i&&(i=i.replace(/\s/g,"").split(",")),this._importInfo.importFromLocal&&(e=e.substr(e.lastIndexOf("\\")+1));var n=e.lastIndexOf("."),n=n>0?n:e.length;this._documentName=e.substring(0,n);var o=e.substr(n);return o=o?o.toLowerCase():void 0,!(t.inArray(o,i)<0)},_createImportFromContainer:function(e){var i=this,n=t("<div/>").addClass("ui-zimport-from").appendTo(e),o=t("<input/>").attr({type:"radio",checked:!0,value:this.options.importLocalFileName,name:"importfrom"}).appendTo(n);o.zstatebutton({label:this._getString("localfile.label")});var s=t("<input/>").attr({type:"radio",value:this.options.importURLFileName,name:"importfrom"}).appendTo(n);s.zstatebutton({label:this._getString("fromurl.label")});var a=(e.width()-4,t("<div/>").addClass("ui-zimport-from-container").appendTo(e)),r=t("<input/>").attr({name:this.options.importLocalFileName,type:"file",size:"43"}).appendTo(a);this._fromLocalPane=r,r.on("change",function(e){i._checkFile(r),""==t(this).val()&&(i._documentNameEle.val(""),i._documentName="")}),i._importInfo.importFromLocal=!0;var l=t("<input/>").attr({name:this.options.importURLFileName,type:"text"}).appendTo(a).hide();l.val(i._placeholderText),l.on("keyup",function(t){i._checkFile(l,!0)}).on("blur",function(t){""==l.val()?l.val(i._placeholderText):i._checkFile(l,!0)});var u=o.add(s);a.find("input");u.on("statechange",function(t,e){a.find("input").hide(),a.find("input[name="+e.value+"]").show();var n=e.value==i.options.importLocalFileName;i._importInfo.importFromLocal=n;var o=n?r:l;i._updateFileInfo(o.val(),!1),i._checkFile(o,!n,!0)})},_checkFile:function(t,e,i){var n=t.val();if(e){var o=new RegExp("^(http|https)://","i");n=o.test(n)?n:this._placeholderText+n;var s=n.split("/"),a=s[2].split(":"),r=a[0];n!==this._placeholderText&&""!==n&&/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,22}$/.test(r)?this._showHideErrorMessage(!1):this._importBtn.button("disable"),this._updateFileInfo(n,!0),this._importInfo.urlEle=void 0,this._importInfo.web_url=n}else if(""!==n){var l=this._checkFileExtn(n);if(l){var u=this._checkSize(t);u?(this._clearFile(t),alert(this._getString("validsizemessage.label"))):(this._showHideErrorMessage(!1),this._updateFileInfo(n,!1),this._importInfo.urlEle=t,this._importInfo.web_url=void 0)}else this._importBtn.button("disable"),i||(this._clearFile(t),alert(this._getString("validfilemessage.label","zerror")))}else this._importBtn.button("disable")},_updateFileInfo:function(t,e){t=t.trim();var i=e?"/":"\\",n=t.substr(t.lastIndexOf(i)+1);t.indexOf(i)!==-1&&""===n&&(t=t.substring(0,t.length-1),n=t.substr(t.lastIndexOf(i)+1));var o=n.lastIndexOf("."),s=n.substr(o),a=n.substr(0,o);a=n.lastIndexOf(".")!=-1?a:n,0===a.indexOf("www.")&&(a=a.replace("www.","")),this._importInfo.fileExtn=s,this._importInfo.importedFileName=a,this._importInfo.documentName=a,this._importInfo.importedFileURL=t,e&&(this._documentName=a),this._documentName=a||this._documentName,this._documentNameEle.val(a)},_checkSize:function(t){if(window.FileReader){var e=t.get(0).files[0].size>this.options.allowedFileSize;return!!e||(this._importInfo.documentType=t.get(0).files[0].type,!1)}},_clearFile:function(t){t.wrap("<form>").closest("form").get(0).reset(),t.unwrap(),this._importBtn.button("disable")},_createNotesContainer:function(e){var i=t("<div>").addClass("ui-import-notes-container ui-corner-all"),n=t("<div>").addClass("ui-import-notes ui-import-fileformats").text(this._getString("supportedfileformats.label")+this.options.supportedFileFormats),o=this._bytesToSize(this.options.allowedFileSize),s=t("<div>").addClass("ui-import-notes ui-import-filesize").text(this._getString("maximumallowedfilesize.label")+o);if(n.appendTo(i),s.appendTo(i),!this.options.passwordprotected){var a=t("<div>").addClass("ui-import-notes ui-import-filesize").text(this._getString("passwordprotectedmessage.label"));a.appendTo(i)}i.appendTo(e)},_createDocumentInfoContainer:function(e){var i=this,n=t("<div>").addClass("ui-import-info-container").appendTo(e);if(this.options.passwordprotected){var o=t("<div>").addClass("ui-import-passwordprotected-container").appendTo(n),s=(t("<span>").addClass("ui-import-passwordprotected-label").appendTo(o).text(this._getString("ispasswordprotected.label")),t("<input/>").attr({type:"radio",name:"passwordprotected",value:"YES"}).appendTo(o));s.zstatebutton({label:this._getString("yes.label")});var a=t("<input/>").attr({type:"radio",name:"passwordprotected",value:"NO",checked:!0}).appendTo(o);a.zstatebutton({label:this._getString("no.label")});var r=t("<span>").addClass("ui-import-passwordcontainer").appendTo(n).hide(),l=t("<input/>").attr({type:"password",placeholder:this._getString("enterpassword.label")}).addClass("ui-import-password").appendTo(r),u=s.add(a);u.on("statechange",function(t,e){var n="YES"==e.value;r[n?"show":"hide"](),i._importInfo.passwordprotected=n}),l.on("blur",function(t){i._importInfo.password=l.val()})}var h=t("<div>").addClass("ui-import-documentname-container").appendTo(n),d=(t("<span>").addClass("ui-import-documentname-label").text(this._getString("documentname.label")).appendTo(h),t("<input>").attr({type:"text",name:"documentname"}).addClass("ui-import-documentname").appendTo(h));d.on("blur",function(t){0===d.val().trim().length&&d.val(i._documentName),i._documentName=d.val(),i._importInfo.documentName=d.val()}),this._documentNameEle=d},updateDocumentName:function(t){this._documentNameEle.val(t),this._importInfo.documentname=t},_showHideErrorMessage:function(t){this._importBtn.button("enable")},_bytesToSize:function(t){var e=["Bytes","KB","MB","GB","TB"];if(0==t)return t+""+e[0];var i=parseInt(Math.floor(Math.log(t)/Math.log(1024)));return Math.round(t/Math.pow(1024,i),2)+" "+e[i]},setMaxAllowedFileSize:function(t){this.options.allowedFileSize=t;var e=this._bytesToSize(t);this._importBase.find(".ui-import-filesize").text(this._getString("maximumallowedfilesize.label")+e)},getMaxAllowedFileSize:function(){return this.options.allowedFileSize},setSupportedFileFormats:function(t){var e=t;this.options.supportedFileFormats=e.replace(/\s/g,"").replace(/,/g,", ",g),this._importBase.find(".ui-import-fileformats").text(this._getString("supportedfileformats.label")+this.options.supportedFileFormats)},getSupportedFileFormats:function(){return this.options.supportedFileFormats},getDocumentInfo:function(){return this._importInfo},_triggerEvent:function(t){var e=this._importInfo;return this._trigger(t,t,e)},_getString:function(e,i){return t.i18n?t.i18n(i?i:"zimport",e):this.options.keys[e]},disable:function(){t(this.element).attr("disabled","true")},enable:function(){t(this.element).removeAttr("disabled")},destroy:function(){t(this.element).empty(),t(this.element).off("."+this.widgetName),t.Widget.prototype.destroy.apply(this,arguments)}};t.widget("ui.zimport",e),t.ui.zimport.config={keys:{"validfilemessage.label":"Please select a valid file","supportedfileformats.label":"Supported File Formats: ","maximumallowedfilesize.label":"Maximum file size allowed is ","localfile.label":"Local File","fromurl.label":"From URL","import.label":"Import","cancel.label":"Cancel","ispasswordprotected.label":"Is Password Protected?","yes.label":"Yes","no.label":"No","documentname.label":"Document Name:","importing.label":"Importing...","uploading.label":"Uploading...","successmessage.label":"Imported Successfully","errormessage.label":"Unable to Import due to an unknown error in the specified file","cancelmessage.label":"Import Cancelled","open.label":"Open","splCharacError.label":'Document Name cannot contain "<" character',"validsizemessage.label":"The file size exceeds the limit allowed.","emptyfileuploaderror.label":"The file is empty. Therefore, this file cannot be imported.","filecontainsvirus.label":"A virus has been detected. Therefore, this file cannot be imported."}}}(jQuery),function(t){t.widget("ui.zdialog",{_COMPONENTEVENTS:{ztab:"tabchange",zflipswitch:"flipswitchchange",zautosuggest:"zautosuggestchange",ztoggle:"togglechange",zspinner:"spinnerchange",zhiddennumericalslider:"hiddensliderchange",slider:"sliderchange",zcolorpallete:"colorpalletechange",zcombo:"combochange",zstatebutton:"statechange",zspinnerslider:"spinnersliderchange",zmenu:"menuitemclicked",zcolorfield:"colorfieldcolorselected"},widgetEventPrefix:"zdialog",_EVENTS:{ONMINIMIZE:"minimize",ONMAXIMIZE:"maximize",ONAFTERSHOW:"aftershow",ONBEFORECLOSE:"beforeclose"},options:{minimizable:!1,static:!1,modal:!1,draggable:!0,closeAction:!0,closeButton:!0,titleBar:!0,keys:{"close.label":"Close","minimize.label":"Minimize","maximize.label":"Maximize"},minimizeOffset:{bottom:"0px",right:"0px"}},initComponents:!0,dialogComponents:void 0,_create:function(){t.ui.dialog.overlay&&!t.ui.dialog.overlay.instances.length&&t.ui.dialog.overlay.instances.push(t("<div>")),this.options.associatedObj&&this._eventNameMapping(this.options.associatedObj.eventNameMapping),this.openDialog(this.options)},setAssociatedObj:function(t){this.options.associatedObj=this._associatedObj=t,this.element.data("associatedObj",t),this.options.associatedObj&&this._eventNameMapping(this.options.associatedObj.eventNameMapping)},_eventNameMapping:function(e){this.COMPONENT_EVENTS=t.extend({},this._COMPONENTEVENTS,e)},_fixButtons:function(){var e=this.options.buttons,i=this;e&&t.each(e,function(e,n){if("function"!=jQuery.type(n.click)&&n.click)if("CLOSE"==n.click)n.click=function(){i.close.call(i)};else{var o=t.ui.utils.getAsFunction(n.click);n.click=o.callable}})},_fixButtonProps:function(){var e=this.options.buttons;e&&t(this._dialogBase).find("[leftbutton=true]").addClass("ui-dialog-leftbtn")},openDialog:function(e){this._associatedObj=e.associatedObj;var i=t(this.element);if(this._fixButtons(),this._dialogPosition=e.position,e.target&&(e.target=t(e.target),!e.position)){var n=e.target.offset();this._dialogPosition=[n.left,n.top+e.target.height()]}var o=this,s=function(){if(o._dialogBase=o.element.parent(),o._addExtraButtons(),o._associatedObj&&t.isFunction(o._associatedObj.beforeInit)&&o._associatedObj.beforeInit(i),o.options.initComponents!==!1&&(t(document).one("componentinitialized",function(){o.dialogComponents=t("[ctype]",t(o.element).children(":first")),o._fillValues(i,e.associatedObj,!0)}),t.ui.utils.initComponents(i)),i.dialog("option","position",o._dialogPosition?o._dialogPosition:"center"),o._fixButtonProps(),o.element.data("focussed",o._focusButton()),!o.options.closeAction||!o.options.closeButton){var n=o._dialogBase.find(".ui-dialog-close-btn");n.hide()}},a=t.extend({beforeClose:function(e,i){return o._triggerEvent(o._EVENTS.ONBEFORECLOSE),t.ZContextMenu&&(t.ZContextMenu.hideMenu(),t.ZContextMenu.displayColorPalette(void 0,{},!1)),!!o.options.closeAction&&(o.options.hideOnClose?(o._checkAndDestroy(!0),!1):void 0)},close:function(t,e){o._checkAndDestroy(!0)},position:o._dialogPosition,zIndex:t.ui.dialog.zIndex?t.ui.dialog.zIndex:1e4,open:s,autoOpen:!1,dragStart:function(e){t.ZContextMenu&&t.ZContextMenu.hideMenu()}},e);i.dialog(a),i.data("associatedObj",e.associatedObj),this._addStatusDiv(),e.buttons&&this._checkAndInitLoaderBtn(e.buttons)},_checkAndInitLoaderBtn:function(e){var i=this.element.parent().find(".ui-dialog-buttonset"),n=i.find("button[btype=loader]"),o=this;n.on("click",function(e){var i=t(e.target).closest(".ui-button");o.disableButton(i.attr("id"))})},disableButton:function(t){var e=this.element.parent().find(".ui-dialog-buttonset").find("#"+t);"loader"==e.attr("btype")?e.addClass("ui-status-icon ui-state-progress").button({icons:{secondary:"ui-components-icon ui-icon-loader"}}).button("disable"):e.button("disable")},enableButton:function(t){var e=this.element.parent().find(".ui-dialog-buttonset").find("#"+t);"loader"==e.attr("btype")?e.button({icons:{secondary:""}}).button("enable"):e.button("enable")},changeButtonLabel:function(t,e){var i=this.element.parent().find(".ui-dialog-buttonset").find("#"+t);i.button("option","label",e)},changeButtonIcon:function(t,e){var i=this.element.parent().find(".ui-dialog-buttonset").find("#"+t);i.button("option","icons",e)},changeButtonAction:function(e,i){var n=this._dialogBase.find(".ui-dialog-buttonset").find("#"+e),o=this;if(n.length&&i&&"function"!==t.type(i)){if("CLOSE"==i)i=function(){o.close.call(o)};else{var s=t.ui.utils.getAsFunction(i);i=s.callable}n.off("click").on("click",function(){i()})}},_addStatusDiv:function(){var e=this.element.parent().find(".ui-dialog-buttonset");this._statusDiv=t("<div>").addClass("ui-widget-content ui-dialog-footer-status").css({display:"inline","margin-right":"5px"}).hide(),e&&e.prepend(this._statusDiv)},showStatus:function(t){t="object"==typeof t?t:{status:t};var e=this._statusDiv;e.html(t.status).show(),setTimeout(function(){e.hide()},t.duration?t.duration:3e3)},open:function(e){e&&(this.element.dialog("option","position",e),this._dialogPosition=e),this.isMinimized()?(this.maximize(),this.refreshValues()):this._hidden?(this._hidden=!1,this.element.dialog("moveToTop",!0),this._dialogBase.show(),this.getOverlay().show(),this.refreshValues()):this.element.dialog("open"),t(this.element).data("dialogOpened",!0),this._triggerEvent(this._EVENTS.ONAFTERSHOW),this._associatedObj&&t.isFunction(this._associatedObj.open)&&this._associatedObj.open(this.element)},_focusButton:function(){var e=this.element.find("input[tabindex], textarea[tabindex], button[tabindex]");if(e.length||(e=this._dialogBase.find(".ui-dialog-buttonset button[tabindex]:not(disabled)"),e.length||(e=this._dialogBase.find(".ui-dialog-buttonset button:last:not(disabled)"),e.length||(e=this._dialogBase.find(".ui-dialog-titlebar a:last")))),e.length){var i=t(e.get(0)),n=i.prop("tabindex");e.each(function(e,o){var s=t(o).prop("tabindex");s<n&&(i=t(o),n=s)})}return this._setTabindex(),i.data("zspinner")&&(i=i.next().find("input")),i.focus()},updateTabIndex:function(){this._setTabindex()},_setTabindex:function(){var e=this,i=e._dialogBase.find("button, input, select, textarea, .ui-zcombo");i.last().off("keydown."+this.widgetName).on("keydown."+this.widgetName,function(t){9==t.keyCode&&(i.get(0).focus(),t.preventDefault())}),i.off("keydown."+this.widgetName).on("keydown."+this.widgetName,function(i){if(9===i.which){var n=i.shiftKey?-1:1;e._getNextTabElement(t(this),n),i.preventDefault()}})},_getNextTabElement:function(e,i){var n=this._dialogBase.find("button, input, select, textarea, .ui-zcombo").filter(":visible").filter(function(){return!t(this).attr("disabled")}),o=t(n.toArray()),s=n.filter(function(){return t(this).attr("tabindex")>0});if(s.length){var a=n.filter(function(){return t(this).attr("tabindex")<1});o=t(s.toArray().concat(a.toArray()))}var r=o.eq((o.index(e)+i)%o.length);r.hasClass("ui-zcombo")&&(r.focus(),r.prev().zcombo("setFocus",!0)),r.focus()},_addExtraButtons:function(){var t=this._titlebar=this.element.closest(".ui-dialog").find(".ui-dialog-titlebar");if(this.options.titleBar){var e=t.find(".ui-dialog-titlebar-close");e.attr("title",this._getString("close.label")).addClass("ui-dialog-close-btn");var i=this;this.options.minimizable&&(this._minimizeButton=this._createButton("ui-icon ui-components-icon ui-icon-minus",e,i._toggleMinimize).attr("title",this._getString("minimize.label")),t.on("dblclick."+this.widgetName,function(t){i._toggleMinimize(i._minimizeButton)}))}else t.hide()},isMinimized:function(){return!!this._dialogBase&&this._dialogBase.is(".ui-dialog-minimized")},minimize:function(){this._dialogBase.is(":not(.ui-dialog-minimized)")&&this._toggleMinimize(this._minimizeButton)},maximize:function(){this._dialogBase.is(".ui-dialog-minimized")&&this._toggleMinimize(this._minimizeButton)},_toggleMinimize:function(e){var i=!this.element.is(":visible"),n=i?"show":"hide";this.element[n](),this.element.next(".ui-dialog-buttonpane")[n](),t(e).removeClass("ui-state-hover");var o=t(e).find("span");o.toggleClass("ui-components-icon ui-icon-plus").toggleClass("ui-components-icon ui-icon-minus"),this._dialogBase.toggleClass("ui-dialog-minimized"),this.element.dialog("option","draggable",!!i&&this.options.draggable);var s=this.getOverlay();s&&this.options.minimizable&&s[n]();var a=this._getMinimizablePane(),r=this.options.minimizeOffset;r&&!i&&a.css(r),i?(t("body").append(this._dialogBase),e.attr("title",this._getString("minimize.label")).data("title",this._getString("minimize.label"))):(e.attr("title",this._getString("maximize.label")).data("title",this._getString("maximize.label")),a.append(this._dialogBase)),this._triggerEvent(this._EVENTS[i?"ONMAXIMIZE":"ONMINIMIZE"])},_getMinimizablePane:function(){var e="ui-zdialog-minimize-pane",i=t("."+e);return i.length||(i=t("<div>").addClass(e),t("body").append(i)),i},_createButton:function(e,i,n){var o=t("<a>").attr({role:"button",unselectable:"on",href:"#"}).addClass("ui-dialog-titlebar-close ui-dialog-titlebar-minimize ui-corner-all").hover(function(){o.addClass("ui-state-hover")},function(){o.removeClass("ui-state-hover")}).append(t("<span>").addClass(e)).css("right","37px"),s=this;return o.insertAfter(i),o.click(function(e){return n&&n.call(s,t(e.currentTarget)),!1}),o},_fillValues:function(e,i,n,o){if(i){i&&(t.isFunction(i.init)&&i.init(e),t.isFunction(i.beforeFillValues)&&i.beforeFillValues(e));var s=["zspinner","zspinnerslider"],a=o?o.find("[ctype]"):this.dialogComponents,r=this;a.each(function(e,o){o=t(o);var a=o.attr("ctype");if(!(i&&i.fillVisible&&o[a]("widget").is(":hidden"))&&o.metadata()&&o.metadata().appData){var l=o.metadata().appData,u=l.action;if(i.get){var h=i.get(u,o),d=t.inArray(a,s);d!=-1&&void 0===h&&(h=0),"zstatebutton"!=a&&void 0!==h||"zcombo"==a?"flipswitch"===a?o[a]("select",h):"zbutton"!==a&&o[a]("setValue",h):o.val()==h||"checkbox"==t(o).attr("type")&&1==h?o.attr("checked",!0):o.attr("checked",!1)}r._COMPONENTEVENTS[a]&&n&&r.initSetEvents(t(o),a,i,l)}}),r._nonZohoComponents=e.find("[data]:not([ctype])"),r._nonZohoComponents.each(function(e,o){o=t(o);try{if(o.metadata()&&o.metadata().appData){var s=o.metadata().appData,a=s.action;if(i){if(i.get){var r=i.get(a,o);"checkbox"==o.attr("type")&&o.attr("checked",r),o.is("input")||o.is("button")||o.is("select")||o.is("textarea")?o.val(r):o.text(r)}n&&(o.is("input[type=text]")||o.is("textarea")?o.on("blur.zdialog",function(t){i.set&&i.set(s,o.val(),o)}):o.on("change.zdialog",function(t){i.set&&i.set(s,o.val(),o)}))}}}catch(t){}}),i&&t.isFunction(i.afterFillValues)&&i.afterFillValues(e)}},initSetEvents:function(e,i,n,o){e=t(e),i=i||e.attr("ctype"),n=n||this.options.associatedObj,this._COMPONENTEVENTS[i]&&(o=o||e.metadata().appData,e.on(this._COMPONENTEVENTS[i]+".zdialog",{obj:n},function(n,s){var a=s.value;"zmenu"===i?a=s.menuitem:"zstatebutton"===i&&(a=e.is(":checked")),!s.isFromSetValue&&n.data.obj.set&&n.data.obj.set(o,a,t(n.target),i)}))},refreshValues:function(e,i,n){if(i){var o=t(this.element),s=this,a=this.options;e&&t.isFunction(e.beforeInit)&&e.beforeInit(o),t(document).one("componentinitialized",function(){s.dialogComponents=t("[ctype]",t(s.element).children(":first")),s._fillValues(o,a.associatedObj,!0,n)}),t.ui.utils.initComponents(o),s.element.data("focussed",s._focusButton())}else this._fillValues(this.element,e=e?e:this._associatedObj,!1,n),this.element.data("focussed",this._focusButton())},_getValueOfElementWithAction:function(e,i){var n=t("[action="+e+"]:first",i),o=void 0;if(n.length){n.attr("ctype");o={element:n}}return o},destroy:function(){this._destroy()},option:function(t,e){this.element.dialog("option",t,e)},_destroy:function(){if(t(this.element).data("dialogOpened")){t(this.element).data("dialogOpened",!1);var e=this.options.associatedObj;e&&e.destroy&&e.destroy(),this._titlebar.off("."+this.widgetName),this._buildOrDestroyDialogComponents(!1),t(this.element).dialog("destroy"),t.Widget.prototype.destroy.apply(this,arguments)}},_checkAndDestroy:function(){return t(this.element.data("focussed")).blur(),this.options.hideOnClose?(this._dialogBase.hide(),this.getOverlay().hide(),this._hidden=!0,!1):(this.destroy(),!0)},getOverlay:function(){var e=this.element.data().dialog;return t(e&&e.overlay?e.overlay.$el:void 0)},close:function(){this.element.dialog("close")},_buildOrDestroyDialogComponents:function(e){if(this.dialogComponents){this.dialogComponents.each(function(i,n){var o=t(n).attr("ctype");e||t(n).off(".zdialog");var s=t(this).metadata();t(n)[o](e?s.componentOptions?s.componentOptions:s:"destroy")}),this.dialogComponents=void 0}this._nonZohoComponents&&(this._nonZohoComponents.each(function(e,i){t(i).off(".zdialog")}),this._nonZohoComponents=void 0)},_getString:function(e){return t.i18n?t.i18n("zdialog",e):this.options.keys[e]},_triggerEvent:function(t){var e={dialog:this.element,isMinimized:this.isMinimized()};return this._trigger(t,t,e)}})}(jQuery),function(t){var e=function(t,e){this._initialise(t,e),this._initEvents()};e._DEFAULTS={callbacks:{beforeInit:t.noop,init:t.noop,afterInit:t.noop,beforeFillValues:t.noop,afterFillValues:t.noop},fillVisible:!0,initComponents:!0,bindEvents:!0},e.widgetName="ztrackobjects",e._setValueArray=["zspinner","zspinnerslider"],e.prototype={COMPONENT_EVENTS:{ztab:"tabchange",zspinner:"spinnerchange",zhiddennumericalslider:"hiddensliderchange",slider:"sliderchange",zslider:"zsliderchange",zcolorpalette:"colorpalettecolorselected",zcombo:"combochange",zstatebutton:"statechange",zspinnerslider:"spinnersliderchange",zmenu:"menuitemclicked",zcolorfield:"colorfieldcolorselected",zdialog:"dialogchange"},_initialise:function(e,i){this._baseElement=e,this.options=i,this._callbacks=this.options.callbacks,this._COMPONENT_EVENTS=t.extend({},this.COMPONENT_EVENTS,this.options.eventNameMapping)},_initEvents:function(){if(this.options.initComponents){var e=this;this._callback("beforeInit"),t(document).one("componentinitialized",function(){e._callback("afterInit"),e.fillValues(),e._callback("afterFillValues")}),t.ui.utils.initComponents(this._baseElement)}else this.fillValues()},bindZohoComponents:function(i,n){if(i&&this.options.bindEvents&&n&&this._callbacks.set){var o,s=this,a="";this._COMPONENT_EVENTS[n]&&(a+=this._COMPONENT_EVENTS[n]+"."+e.widgetName),i.is("[data-colorpalette=true],[colorpalette=true]")&&(o=!0,a+=" colorpalettecolorselected."+e.widgetName),a&&i.off(a).on(a,function(e,a){if(!a.isFromSetValue){var r=a.value,l=i.metadata();("zcolorpalette"===n||o)&&(r=a.color),"zmenu"===n?r=a.menuitem:"zstatebutton"===n&&(r=i.is(":checked")),s._callbacks.set(l.appData,r,t(e.target),n,a,e)}})}},bindNonZohoComponents:function(i){if(i&&this.options.bindEvents&&this._callbacks.set){var n=this,o=i.metadata(),s="change."+e.widgetName;(i.is("input[type=text]")||i.is("textarea"))&&(s="blur."+e.widgetName,i.is("input[type=text]")&&i.off("keydown").on("keydown",function(e){e.keyCode===t.ui.keyCode.ENTER&&n._callbacks.set(o.appData,i.val(),i,void 0,void 0,e)})),i.off(s).on(s,function(t){n._callbacks.set(o.appData,i.val(),i,void 0,void 0,t)})}},_getCtype:function(e){return t(e).attr("ctype")},refreshValues:function(t){t?this._initEvents():this.fillValues()},_isElementHidden:function(t,e){return!t||(e=e||this._getCtype(t),t[e]("widget").is(":hidden"))},fillValues:function(){this._zohoComponents=this._baseElement.find("[ctype]"),this._nonZohoComponents=this._baseElement.find("[data]:not([ctype])"),this._callback("init"),this._callback("beforeFillValues"),this.fillAndBindZohoComponents(),this.fillAndBindNonZohoComponents(),this._callback("afterFillValues")},_callback:function(t,e){if(this._baseElement&&t)try{return e&&e.length||(e=[this._baseElement]),this._callbacks[t].apply(this,e)}catch(t){}},fillAndBindZohoComponents:function(){var i=this;this._zohoComponents&&this._zohoComponents.each(function(n,o){try{o=t(o);var s=i._getCtype(o);if(i.options.fillVisible&&i._isElementHidden(o,s))return;var a=o.metadata();if(a&&a.appData){if(i._callbacks.get){var r=i._callbacks.get(a.appData,o);void 0===r&&t.inArray(s,e._setValueArray)!==-1&&(r=0),"zcolorpalette"===s?o[s]("setColor",r):"zstatebutton"!==s&&void 0!==r||"zcombo"===s?"zbutton"!==s&&0!=a.allowEmptyValue&&o[s]("setValue",r):"zstatebutton"===s?o[s]("checked","boolean"==typeof r?r:o.val()===r):o.val()===r||"checkbox"===o.attr("type")&&r===!0?o.prop("checked",!0):o.prop("checked",!1)}i.bindZohoComponents(o,s)}}catch(t){}})},fillAndBindNonZohoComponents:function(){var e=this;this._nonZohoComponents&&this._nonZohoComponents.each(function(i,n){try{n=t(n);var o=n.metadata();if(o&&o.appData){if(e._callbacks.get){var s=e._callbacks.get(o.appData,n);"checkbox"===n.attr("type")&&n.prop("checked",s),n.is("input")||n.is("button")||n.is("select")||n.is("textarea")?n.val(s):n.text(s)}e.bindNonZohoComponents(n)}}catch(t){}})},_buildOrDestroyComponents:function(i){var n=this;this._zohoComponents&&this._zohoComponents.each(function(o,s){try{s=t(s),s.off("."+e.widgetName);var a=n._getCtype(s);if(i){var r=s.metadata();s[a](r.componentOptions?r.componentOptions:r)}else s[a]("destroy")}catch(t){}}),this._nonZohoComponents&&!i&&this._nonZohoComponents.each(function(i,n){t(n).off("."+e.widgetName)}),i||(this._zohoComponents=this._nonZohoComponents=void 0)},destroy:function(){this._buildOrDestroyComponents()},build:function(){this._buildOrDestroyComponents(!0)},widget:function(){return this._baseElement}},t.fn.ZCtrackObjects=function(i,n,o){var s=t(this),a=s.data("ztrackObject");if(!a){var r=s.metadata(),l=t.extend(!0,{},e._DEFAULTS,r.componentOptions?r.componentOptions:r,"object"==typeof i&&i);object=new e(s,l),s.data("ztrackObject",object)}if("string"==typeof i&&"_"!==i[0])try{return a[i](n,o)}catch(t){}return this}}(jQuery),function(t){t.widget("ui.zannouncementbar",{widgetEventPrefix:"zannouncementbar",options:{autoOpen:!1,message:void 0,learnMoreLink:void 0,type:void 0,learnMoreText:void 0},_EVENTS:{ONBEFOREOPEN:"onbeforeopen",ONOPEN:"onopen",ONBEFORECLOSE:"onbeforeclose",ONCLOSE:"onclose"},_create:function(){this._defaultClass=this.element.attr("class"),this.element.attr("class",this._defaultClass+(this.options.autoOpen?" ":" ui-zannouncebar-collapse ")+" ui-zannouncebar ui-zannouncebar-transition");var e=this.options.message?this.options.message:this.element.text(),i=(this.options.type?this.options.type.toLowerCase():"whatsnew")+".label",n=this._getString(i);n==="[noi18n] "+i&&(n=this._getString("announcement.label"),this.options.type="announcement"),"announcement"===this.options.type&&(n+=":");var o=this.options.learnMoreText?this.options.learnMoreText:this._getString("more.label"),s=this.options.learnMoreLink?"<a href="+this.options.learnMoreLink+" target='_blank'>"+o+"</a>":"",a="<div class='ui-zannouncebar-content'><b>"+n+"</b> "+e+s+"</div>";a+="<div class='ui-zannouncebar-closebtn' title="+this._getString("close.label")+" ><a id='ui-zannouncebar-close'><span class='ui-zannouncebar-close'>close</span></a></div>",this.element.html(a),this._transitionSupport=void 0!==t("body").css("transition"),this.options.autoOpen&&this.open();var r=this;t("#ui-zannouncebar-close").click(function(t){r.close(t),t.preventDefault(),t.stopPropagation()})},_openEffectDuration:800,_closeEffectDuration:600,open:function(){var e=this;this.options.autoOpen&&"complete"!==document.readyState?t(window).on("load.zannouncebar",function(){e._open()}):setTimeout(function(){e._open()},1)},_open:function(){var t=this._triggerEvent(this._EVENTS.ONBEFOREOPEN);if(!1!==t){var e=this,i=this._defaultClass+" ui-zannouncebar-effect ui-zannouncebar ui-zannouncebar-expand "+(this._transitionSupport?"ui-zannouncebar-transition":"ui-zannouncebar-non-transition");e.element.attr("class",i),e._transitionSupport||e.element.slideDown(e._openEffectDuration),setTimeout(function(){e._triggerEvent(e._EVENTS.ONOPEN)},e._openEffectDuration)}},close:function(t){var e=this._triggerEvent(this._EVENTS.ONBEFORECLOSE,t);if(!1!==e){this._transitionSupport?this.element.attr("class",this._defaultClass+" ui-zannouncebar ui-zannouncebar-effect"):this.element.slideUp(this._closeEffectDuration);var i=this;setTimeout(function(){i.element.addClass("ui-zannouncebar-collapse"),i._triggerEvent(i._EVENTS.ONCLOSE)},i._closeEffectDuration)}},_triggerEvent:function(t,e){var i=this;return this._trigger(t,e,i)},_getString:function(e,i){return t.i18n?t.i18n(i?i:"zannouncementbar",e):this.options.keys[e]},destroy:function(){t(this.element).empty(),t(this.element).unbind("."+this.widgetName),t.Widget.prototype.destroy.apply(this,arguments)}})}(jQuery),function(t){var e={widgetEventPrefix:"zannouncementbox",_EVENTS:{ONOPEN:"open",BEFORECHANGE:"beforechange",AFTERCHANGE:"afterchange",ONCLOSE:"close"},options:{autoPlay:!1,transitionDuration:500,autoPlayInterval:2e3,pauseOnHover:!0,directionNav:!0,effect:"default",display:"dialog"},_autoPlayInterval:void 0,_create:function(){this.options=t.extend({},t.ui.zannouncementbox.config,this.options),this._previewContainer=this.element.children(".zannouncement-slides"),this._createPreviewContainer()},_createPreviewContainer:function(){if(this.element.addClass("ui-zannouncebox ui-zannouncebox-"+this.options.display),"dialog"===this.options.display){var e=this._previewContainer.children().first().outerWidth(!0)+54,i=this._previewContainer.children().first().outerHeight(!0)+80,n=(window.innerWidth-e)/2,o=(window.innerHeight-i)/3;this._curDialog=this.element.closest(".ui-dialog-content");var s=this;this._curDialog.length?this._curDialog.dialog("option",{position:[n,o],width:e,height:i,resizable:!1,dialogClass:"zannouncebox-dialog",modal:!0,buttons:[{text:s._getString("closeButton.label"),click:function(t){s.close(t)},id:"ui-zannouncebox-button"}]}):(this._curDialog=this.element,this._curDialog.zdialog(),this._curDialog.dialog({position:[n,o],width:e,height:i,resizable:!1,dialogClass:"zannouncebox-dialog",modal:!0,buttons:[{text:s._getString("closeButton.label"),click:function(t){s.close(t)},id:"ui-zannouncebox-button"}]}),this._curDialog.on("dialogopen",function(t){s._triggerEvent(s._EVENTS.ONOPEN,t,{element:s.element})}),this.element.zdialog("open"))}if(this._slides=this._previewContainer.children(),this._previewContainer.addClass("ui-zannouncebox-slides"),this._setAnimationSpeed(),this._slides.length){this.options.directionNav&&(this._prevEleObj=t("<div>").attr({id:"ui-zannouncebox-previous"}).html('<span class="ui-zannouncebox-previous" title="'+this._getString("previous.label")+'"></span>').appendTo(this.element),this._nextEleObj=t("<div>").attr({id:"ui-zannouncebox-next"}).html('<span class="ui-zannouncebox-next" title="'+this._getString("next.label")+'"></span>').appendTo(this.element),this._prevEleObj.css("height",this.element.height()),this._nextEleObj.css("height",this.element.height()),this._previewContainer.css("padding-left",this._nextEleObj.outerWidth()));var a=t("#ui-zannouncebox-pagination");a.length||(a=t("<div>").attr({id:"ui-zannouncebox-pagination"}).appendTo(this.element));for(var r="",l=0;l<this._slides.length;l++)r+='<span class="ui-zannouncebox-bullets"></span>';a.html('<div class="ui-zannouncebox-pagination">'+r+"</div>"),this._pageEleObj=this.element.find("#ui-zannouncebox-pagination .ui-zannouncebox-bullets"),a.on("click",function(e){var i=t(e.target);i.is("span")&&s._moveSlide(i.index(),e)}),this._intiEvents(),this._openAnim(),this.options.autoPlay&&(this.options.pauseOnHover&&this._slides.on("mouseenter",function(t){s._clearTimer()}).on("mouseleave",function(t){s._runAutoPlay()}),this._resetTimer())}},_runAutoPlay:function(){var t=this;this._autoPlayInterval=setTimeout(function(){t.next(),t._runAutoPlay()},this.options.autoPlayInterval)},_clearTimer:function(){this._autoPlayInterval&&clearTimeout(this._autoPlayInterval)},_resetTimer:function(){this._autoPlayInterval&&clearTimeout(this._autoPlayInterval),this.options.autoPlay&&this._runAutoPlay()},_openAnim:function(){this._currSlide=this._slides.first(),this._currSlide.show(),t(this._pageEleObj[0]).addClass("ui-zannouncebox-bullets-selected"),this._previewContainer.css("width",this._currSlide.outerWidth()*this._slides.length)},_intiEvents:function(){var e=this;t(window).on("keydown.zannouncebox",function(t){39===t.keyCode?e.next(t):37===t.keyCode&&e.previous(t)}),this.options.directionNav&&(this._nextEleObj.on("click.zannouncebox",function(t){e.next(t)}),this._prevEleObj.on("click.zannouncebox",function(t){e.previous(t)}))},next:function(t){this._moveSlide("next",t)},previous:function(t){this._moveSlide("previous",t)},_moveSlide:function(e,i){this._clearTimer();var n=void 0;n="number"==typeof e?t(this._slides[e]):this._currSlide["next"===e?"next":"prev"](),(!n||n&&!n.length)&&(n=this._slides["next"===e?"first":"last"]());var o={currentSlide:this._currSlide,action:e,nextSlide:n},s=this._triggerEvent(this._EVENTS.BEFORECHANGE,i,o);if(s!==!1&&n&&n.length){var a=n.find("img"),r=a.attr("src");a.attr("src","").attr("src",r),this._previewContainer.css("margin-left","-"+this._currSlide.outerWidth()*n.index()+"px"),t(this._pageEleObj[this._currSlide.index()]).removeClass("ui-zannouncebox-bullets-selected"),t(this._pageEleObj[n.index()]).addClass("ui-zannouncebox-bullets-selected"),this._currSlide=n;var l=this;setTimeout(function(){o={currentSlide:this._currSlide,action:e,nextSlide:n},l._triggerEvent(l._EVENTS.AFTERCHANGE,i,o)},this.options.transitionDuration)}},close:function(t){this._clearTimer(),"dialog"===this.options.display&&(this._curDialog.zdialog("close"),this._triggerEvent(this._EVENTS.ONCLOSE,t,{element:this.element}))},_setAnimationSpeed:function(){var t="margin "+this.options.transitionDuration+"ms";this._previewContainer.css({"-webkit-transition":t,"-moz-transition":t,transition:t})},_triggerEvent:function(e,i,n){if(n)var o=t.extend(o,n);return this._trigger(e,i,o)},_getString:function(e,i,n){return t.ui.utils.getI18NString(i,e,n,this.options.keys)}};t.widget("ui.zannouncementbox",e),t.ui.zannouncementbox.config={keys:{"next.label":"Next","previous.label":"Previous","closeButton.label":"Ok, Got it"}}}(jQuery);